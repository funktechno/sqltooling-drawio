!function r(o,i,a){function l(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return l(o[t][1][e]||e)},n,n.exports,r,o,i,a)}return i[t].exports}for(var s="function"==typeof require&&require,e=0;e<a.length;e++)l(a[e]);return l}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.helpers=n.openApiToJsonSchema=n.jsonSchemaDocumentToOpenApi=n.convertOpenApiToCoreTypes=n.convertCoreTypesToOpenApi=n.convertJsonSchemaToCoreTypes=n.convertCoreTypesToJsonSchema=n.decorateSchema=void 0;var r=e("./lib/core-types-to-json-schema"),o=(Object.defineProperty(n,"decorateSchema",{enumerable:!0,get:function(){return r.decorateSchema}}),Object.defineProperty(n,"convertCoreTypesToJsonSchema",{enumerable:!0,get:function(){return r.convertCoreTypesToJsonSchema}}),e("./lib/json-schema-to-core-types")),i=(Object.defineProperty(n,"convertJsonSchemaToCoreTypes",{enumerable:!0,get:function(){return o.convertJsonSchemaToCoreTypes}}),e("./lib/open-api")),a=(Object.defineProperty(n,"convertCoreTypesToOpenApi",{enumerable:!0,get:function(){return i.convertCoreTypesToOpenApi}}),Object.defineProperty(n,"convertOpenApiToCoreTypes",{enumerable:!0,get:function(){return i.convertOpenApiToCoreTypes}}),e("openapi-json-schema"));Object.defineProperty(n,"jsonSchemaDocumentToOpenApi",{enumerable:!0,get:function(){return a.jsonSchemaDocumentToOpenApi}}),Object.defineProperty(n,"openApiToJsonSchema",{enumerable:!0,get:function(){return a.openApiToJsonSchema}}),n.helpers=e("./lib/annotations")},{"./lib/annotations":2,"./lib/core-types-to-json-schema":3,"./lib/json-schema-to-core-types":4,"./lib/open-api":5,"openapi-json-schema":18}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.annotateCoreTypes=n.annotateJsonSchema=void 0;let o=e("core-types");n.annotateJsonSchema=function(e,t){var n=e.description||e.see?function(e,t){var n=()=>(0,o.ensureArray)(t).map(e=>"@see "+e).join("\n");if(e&&null!=t&&t.length)return e+"\n\n"+n();return e||n()}(e.description,e.see):void 0;return{...t,...e.title?{title:e.title}:{},...n?{description:n}:{},...e.default?{default:e.default}:{},...e.examples?{examples:e.examples}:{},...e.comment?{$comment:e.comment}:{}}},n.annotateCoreTypes=function(e,t){var{description:n,see:r}=function(e){var t=(null!=e?e:"").split("\n"),n=[];for(;0<t.length&&t[t.length-1].startsWith("@see ");)n.push(t.pop().slice(5));for(;0<t.length&&!t[t.length-1].trim();)t.pop();return{description:t.join("\n"),see:n}}(null!=(n=t.description)?n:"");return{...{...t.title?{title:t.title}:{},...t.default?{default:(0,o.stringify)(t.default)}:{},...t.examples?{examples:(0,o.stringify)(t.examples)}:{},...t.$comment?{comment:t.$comment}:{},...n?{description:n}:{},...r&&0<r.length?{see:r}:{}},...e}}},{"core-types":6}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.convertCoreTypesToJsonSchema=n.decorateSchema=void 0;let o=e("openapi-json-schema"),i=e("core-types"),a=e("./annotations");function r(e,{filename:t,sourceFilename:n,userPackage:r,userPackageUrl:o},i="core-types-json-schema",a="https://github.com/grantila/core-types-json-schema"){void 0!==t&&null==e.$id&&(e.$id=t);t=r||o?r&&o?r+` (${o})`:r||o:"";null==e.$comment&&(e.$comment=`Generated${n?" from "+n:""} by `+i+` (${a})`+(t?" on behalf of "+t:""))}function l(e){var t=e.or.map(e=>s(e)),e=(0,a.annotateJsonSchema)(e,{anyOf:t});return 1<t.length&&!t.some(e=>{return e=e,!(1===(e=Object.keys(e).sort()).length&&"type"===e[0]||2===e.length&&"title"===e[0]&&"type"===e[1])})&&(delete e.anyOf,e.type=t.map(({type:e})=>e)),e}function s(t){if("any"===t.type)return(0,a.annotateJsonSchema)(t,u(t,{}));if("null"===t.type)return(0,a.annotateJsonSchema)(t,{type:"null"});if("boolean"===t.type)return(0,a.annotateJsonSchema)(t,u(t,{type:"boolean"}));if("string"===t.type)return(0,a.annotateJsonSchema)(t,u(t,{type:"string"}));if("number"===t.type)return(0,a.annotateJsonSchema)(t,u(t,{type:"number"}));if("integer"===t.type)return(0,a.annotateJsonSchema)(t,u(t,{type:"integer"}));if("and"===t.type)return(0,a.annotateJsonSchema)(t,{allOf:t.and.map(e=>s(e))});if("or"===t.type)return l(t);var e,n,r;if("object"===t.type)return n=(e=Object.keys(t.properties)).filter(e=>t.properties[e].required),r=Object.fromEntries(e.map(e=>[e,s(t.properties[e].node)])),(0,a.annotateJsonSchema)(t,u(t,{type:"object",...0<e.length?{properties:r}:{},...0<n.length?{required:n}:{},...!0===t.additionalProperties?{}:t.additionalProperties?{additionalProperties:s(t.additionalProperties)}:{additionalProperties:!1}}));if("array"===t.type)return(0,a.annotateJsonSchema)(t,u(t,{type:"array",items:s(t.elementType)}));if("tuple"===t.type)return(0,a.annotateJsonSchema)(t,u(t,{type:"array",items:t.elementTypes.map(e=>s(e)),...!0===t.additionalItems?{}:t.additionalItems?{additionalItems:s(t.additionalItems)}:{additionalItems:!1},minItems:t.minItems}));if("ref"===t.type)return(0,a.annotateJsonSchema)(t,u(t,{$ref:(0,o.encodeRefNameJsonSchema)(t.ref)}));throw new i.UnsupportedError(`core-types node of type ${t.type} not supported`,t)}function u(e,t){return void 0!==e.const?{...t,const:e.const}:e.enum?{...t,enum:e.enum}:t}n.decorateSchema=r,n.convertCoreTypesToJsonSchema=function(e,t){var{version:e,types:n}=e;if(1!==e)throw new i.UnsupportedError(`core-types version ${e} not supported`);return r(e={definitions:Object.fromEntries(n.map(e=>[e.name,s(e)]))},null!=t?t:{}),{data:e,convertedTypes:n.map(({name:e})=>e),notConvertedTypes:[]}}},{"./annotations":2,"core-types":6,"openapi-json-schema":18}],4:[function(e,t,c){Object.defineProperty(c,"__esModule",{value:!0}),c.complexProps=c.convertJsonSchemaToCoreTypes=void 0;let i=e("jsonpos"),p=e("openapi-json-schema"),O=e("core-types"),f=e("./annotations"),d=(e,t)=>({...e,path:[...e.path,t]});function m(n,l){if("boolean"==typeof n)l.throwUnsupportedError("Boolean JSON Schema definition not supported",{blob:{schema:n}});else if("object"==typeof(e=n)&&Object.keys(e).some(e=>c.complexProps.has(e))){e=function(t,n){let{$ref:r,type:a,enum:l,const:s,items:u,additionalItems:c,required:p,properties:f,additionalProperties:d,then:e,else:o,allOf:i,anyOf:m,oneOf:y}=t;var h=i&&"object"==typeof i?i.filter(e=>e&&"object"==typeof e):null,b=m&&"object"==typeof m?m.filter(e=>e&&"object"==typeof e):null,g=y&&"object"==typeof y?y.filter(e=>e&&"object"==typeof e):null;let v=(e,o)=>{var i=(e,t)=>!(e&&t&&!(0,O.isEqual)(e,t));if(i(r,o.$ref)||n.throwUnsupportedError(`Cannot have $ref in a node *and* in its '${e}'`,{blob:t}),i(a,o.type)||n.throwUnsupportedError(`Cannot have 'type' in a node *and* in its '${e}'`,{blob:t}),l)if(o.enum){var i=(0,O.intersection)(l,o.enum);if(0===i.length)throw new O.MalformedTypeError("Cannot merge types with non-intersecting enums",{path:n.path,blob:{child:[...n.path,e]}});o.enum=i}else o.enum=l;if(void 0!==s)if(void 0!==o.const){if((0,O.isEqual)(s,o.const))throw new O.MalformedTypeError("Cannot merge types with mismatching const",{path:n.path,blob:{child:[...n.path,e]}})}else o.const=s;if(o.items=null!=(i=o.items)?i:u,o.additionalItems=null!=(e=o.additionalItems)?e:c,void 0===p&&void 0===o.required||(o.required=(0,O.union)(null!=(i=o.required)?i:[],null!==p&&void 0!==p?p:[])),void 0===f!=(void 0===o.properties))null!=o.properties||(o.properties=f);else if(void 0!==f){let t=f,n=o.properties;e=Object.keys(t),i=Object.keys(n),e=(0,O.union)(e,i);let r={};e.forEach(e=>{void 0!==t[e]?r[e]=n[e]:void 0!==n[e]?r[e]=t[e]:r[e]={allOf:[t[e],n[e]]}})}void 0===d!=(void 0===o.additionalProperties)?null==o.additionalProperties&&(o.additionalProperties=d):void 0!==d&&(o.additionalProperties={allOf:[o.additionalProperties,d]})};return e&&"object"==typeof e&&v("then",e),o&&"object"==typeof o&&v("else",o),h&&"object"==typeof h&&h.forEach(e=>v("allOf",e)),b&&"object"==typeof b&&b.forEach(e=>v("anyOf",e)),g&&"object"==typeof g&&g.forEach(e=>v("oneOf",e)),{...e&&"object"==typeof e?{then:e}:{},...o&&"object"==typeof o?{else:o}:{},...h&&"object"==typeof h?{allOf:h}:{},...b&&"object"==typeof b?{anyOf:b}:{},...g&&"object"==typeof g?{oneOf:g}:{}}}(n,l);var r=l;var{then:e,else:t,allOf:o,anyOf:i,oneOf:a}=e,e=[...e?[[d(r,"then"),e]]:[],...t?[[d(r,"else"),t]]:[]],t=[...i?i.map((e,t)=>[d(d(r,"anyOf"),t),e]):[],...a?a.map((e,t)=>[d(d(r,"oneOf"),t),e]):[]],i=[...o?o.map((e,t)=>[d(d(r,"allOf"),t),e]):[]];return{type:"and",and:[{type:"or",or:e.map(([e,t])=>m(t,e))},{type:"or",or:t.map(([e,t])=>m(t,e))},{type:"and",and:i.map(([e,t])=>m(t,e))}]};return}void 0===n&&l.throwUnsupportedError("Internal error",{blob:{schema:n}});let s=e=>({type:"ref",ref:(0,p.decodeRefNameJsonSchema)(e)});var a=e=>void 0===n.$ref?e:{type:"and",and:[e,s(n.$ref)]},{const:o,enum:e}=n;let u={...void 0!==o?{const:o}:{},...void 0!==e?{enum:e}:{}};return void 0===n.type?n.$ref?{...s(n.$ref),...u}:{type:"any",...u}:1===(t=(0,O.ensureArray)(n.type).map(e=>{var t,r=n,o=u,i=l;if(y(e))return"null"===e?(0,f.annotateCoreTypes)({type:"null"},r):(0,f.annotateCoreTypes)({type:e,...o},r);if("array"===e)return Array.isArray(r.items)?(0,f.annotateCoreTypes)({type:"tuple",elementTypes:r.items.map(e=>m(e,d(i,"items"))),additionalItems:void 0===r.additionalItems||("boolean"==typeof r.additionalItems?r.additionalItems:m(r.additionalItems,d(i,"additionalItems"))),minItems:null!=(a=r.minItems)?a:0,...o},r):!1===r.items?(0,f.annotateCoreTypes)({type:"tuple",elementTypes:[],additionalItems:!1,minItems:0,...o},r):(0,f.annotateCoreTypes)({type:"array",elementType:void 0===r.items||!0===r.items?{type:"any"}:m(r.items,d(i,"items")),...o},r);if("object"===e){let n=new Set(null!=(a=r.required)?a:[]);var a=null!=(a=r.additionalProperties)?a:i.defaultAdditionalProperties;return(0,f.annotateCoreTypes)({type:"object",properties:Object.fromEntries(Object.entries(null!=(t=r.properties)?t:{}).map(([e,t])=>[e,{node:m(t,d(d(i,"properties"),e)),required:n.has(e)}])),additionalProperties:"boolean"==typeof a?a:m(a,d(i,"additionalProperties")),...o},r)}i.throwUnsupportedError(`Unsupported JSON Schema type "${e}"`,{blob:{schema:r}})})).length?a(t[0]):a({type:"or",or:t})}c.convertJsonSchemaToCoreTypes=function(e,n={}){let r=("string"==typeof e?(0,i.getAstByString):(0,i.getAstByObject))(e),o=(e=r.json)["definitions"];return{data:e={version:1,types:Object.keys(null!==o&&void 0!==o?o:{}).map(e=>{var t;return{...m((null!==o&&void 0!==o?o:{})[e],{locByPath(){return{path:this.path,loc:(0,i.getLocation)(r,{dataPath:this.path,markIdentifier:!0})}},path:["definitions",e],throwUnsupportedError(e,t){throw(t={...t}).path||(t.path=this.path),t.loc||(t.loc=(0,i.getLocation)(r,{dataPath:this.path,markIdentifier:!0})),new O.UnsupportedError(e,t)},defaultAdditionalProperties:null==(t=n.defaultAdditionalProperties)||t}),name:e}})},convertedTypes:e.types.map(({name:e})=>e),notConvertedTypes:[]}},c.complexProps=new Set(["anyOf","allOf","oneOf","then","else"]);let y=e=>["string","number","integer","boolean","null"].includes(e)},{"./annotations":2,"core-types":6,jsonpos:25,"openapi-json-schema":18}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.convertOpenApiToCoreTypes=n.convertCoreTypesToOpenApi=void 0;let o=e("openapi-json-schema"),i=e("./core-types-to-json-schema"),r=e("./json-schema-to-core-types");n.convertCoreTypesToOpenApi=function(e,t){let{data:n,...r}=(0,i.convertCoreTypesToJsonSchema)(e,t);return{...r,data:(0,o.jsonSchemaDocumentToOpenApi)(n,t)}},n.convertOpenApiToCoreTypes=function(e){return e="string"==typeof e?JSON.parse(e):e,e=(0,o.openApiToJsonSchema)(e),(0,r.convertJsonSchemaToCoreTypes)(e)}},{"./core-types-to-json-schema":3,"./json-schema-to-core-types":4,"openapi-json-schema":18}],6:[function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=(Object.defineProperty(n,"__esModule",{value:!0}),n.traverse=n.some=n.mergeLocations=n.getPositionOffset=n.locationToLineColumn=n.positionToLineColumn=n.decorateError=n.decorateErrorMeta=n.isCoreTypesError=n.throwRelatedError=n.throwUnsupportedError=n.RelatedError=n.UnsupportedError=n.MissingReferenceError=n.MalformedTypeError=n.formatSee=n.formatDefault=n.formatExamples=n.stringify=n.stripAnnotations=n.stringifyAnnotations=n.extractAnnotations=n.mergeAnnotations=n.isNonNullable=n.union=n.intersection=n.isEqual=n.hasConstEnum=n.isPrimitiveType=n.ensureArray=n.validate=n.simplify=void 0,o(e("./lib/types"),n),e("./lib/simplify")),a=(Object.defineProperty(n,"simplify",{enumerable:!0,get:function(){return i.simplify}}),e("./lib/validate")),l=(Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return a.validate}}),e("./lib/util")),s=(Object.defineProperty(n,"ensureArray",{enumerable:!0,get:function(){return l.ensureArray}}),Object.defineProperty(n,"isPrimitiveType",{enumerable:!0,get:function(){return l.isPrimitiveType}}),Object.defineProperty(n,"hasConstEnum",{enumerable:!0,get:function(){return l.hasConstEnum}}),Object.defineProperty(n,"isEqual",{enumerable:!0,get:function(){return l.isEqual}}),Object.defineProperty(n,"intersection",{enumerable:!0,get:function(){return l.intersection}}),Object.defineProperty(n,"union",{enumerable:!0,get:function(){return l.union}}),Object.defineProperty(n,"isNonNullable",{enumerable:!0,get:function(){return l.isNonNullable}}),e("./lib/annotation")),u=(Object.defineProperty(n,"mergeAnnotations",{enumerable:!0,get:function(){return s.mergeAnnotations}}),Object.defineProperty(n,"extractAnnotations",{enumerable:!0,get:function(){return s.extractAnnotations}}),Object.defineProperty(n,"stringifyAnnotations",{enumerable:!0,get:function(){return s.stringifyAnnotations}}),Object.defineProperty(n,"stripAnnotations",{enumerable:!0,get:function(){return s.stripAnnotations}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(n,"formatExamples",{enumerable:!0,get:function(){return s.formatExamples}}),Object.defineProperty(n,"formatDefault",{enumerable:!0,get:function(){return s.formatDefault}}),Object.defineProperty(n,"formatSee",{enumerable:!0,get:function(){return s.formatSee}}),e("./lib/error")),c=(Object.defineProperty(n,"MalformedTypeError",{enumerable:!0,get:function(){return u.MalformedTypeError}}),Object.defineProperty(n,"MissingReferenceError",{enumerable:!0,get:function(){return u.MissingReferenceError}}),Object.defineProperty(n,"UnsupportedError",{enumerable:!0,get:function(){return u.UnsupportedError}}),Object.defineProperty(n,"RelatedError",{enumerable:!0,get:function(){return u.RelatedError}}),Object.defineProperty(n,"throwUnsupportedError",{enumerable:!0,get:function(){return u.throwUnsupportedError}}),Object.defineProperty(n,"throwRelatedError",{enumerable:!0,get:function(){return u.throwRelatedError}}),Object.defineProperty(n,"isCoreTypesError",{enumerable:!0,get:function(){return u.isCoreTypesError}}),Object.defineProperty(n,"decorateErrorMeta",{enumerable:!0,get:function(){return u.decorateErrorMeta}}),Object.defineProperty(n,"decorateError",{enumerable:!0,get:function(){return u.decorateError}}),e("./lib/location")),p=(Object.defineProperty(n,"positionToLineColumn",{enumerable:!0,get:function(){return c.positionToLineColumn}}),Object.defineProperty(n,"locationToLineColumn",{enumerable:!0,get:function(){return c.locationToLineColumn}}),Object.defineProperty(n,"getPositionOffset",{enumerable:!0,get:function(){return c.getPositionOffset}}),Object.defineProperty(n,"mergeLocations",{enumerable:!0,get:function(){return c.mergeLocations}}),e("./lib/traverse"));Object.defineProperty(n,"some",{enumerable:!0,get:function(){return p.some}}),Object.defineProperty(n,"traverse",{enumerable:!0,get:function(){return p.traverse}})},{"./lib/annotation":7,"./lib/error":8,"./lib/location":9,"./lib/simplify":13,"./lib/traverse":14,"./lib/types":15,"./lib/util":16,"./lib/validate":17}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringify=n.formatSee=n.formatDefault=n.formatExamples=n.arrayOrSingle=n.stripAnnotations=n.stringifyAnnotations=n.wrapWhitespace=n.extractAnnotations=n.mergeAnnotations=void 0;let c=e("./location"),p=e("./util");function l(e){return e.includes("\n")?["*",e.split("\n").map(e=>" * "+e).join("\n")," "].join("\n"):e.startsWith(" ")?e:" "+e}function f(e){return 1===e.length?e[0]:e}function s(e){return e.map(e=>"@example\n"+o(r(e).split("\n"),4)).join("\n").trim()}function u(e){return["@default",o(r(e).split("\n"),4)].join("\n").trim()}function d(e){return e.map(e=>"@see "+r(e)).join("\n").trim()}function r(e){return"string"==typeof e?e:JSON.stringify(e,null,2)}function o(e,n,r=!1){return e.map((e,t)=>{return(0===t&&r?" ".repeat(n-2)+"* ":" ".repeat(n))+e}).join("\n")}n.mergeAnnotations=function(e){let t,n=e=>!!e;var r=(e,t="\n")=>(0,p.uniq)(e.filter(n)).join(t).trim(),o=null==(t=e.find(e=>e.name))?void 0:t.name,i=r(e.map(e=>e.title),", "),a=r(e.map(e=>e.description)),l=(0,p.uniq)([].concat(...e.map(e=>(0,p.ensureArray)(e.examples))).filter(n)),s=r(e.map(e=>e.default)),u=(0,p.uniq)([].concat(...e.map(e=>(0,p.ensureArray)(e.see))).filter(n)),r=r(e.map(e=>e.comment)),e=(0,c.mergeLocations)(e.map(e=>e.loc));return{...o?{name:o}:{},...i?{title:i}:{},...a?{description:a}:{},...0<l.length?{examples:f(l)}:{},...s?{default:s}:{},...0<u.length?{see:f(u)}:{},...r?{comment:r}:{},...e?{loc:e}:{}}},n.extractAnnotations=function(e){var{title:e,description:t,examples:n,default:r,comment:o,see:i}=e;return{...e?{title:e}:{},...t?{description:t}:{},...n?{examples:n}:{},...r?{default:r}:{},...o?{comment:o}:{},...i?{see:i}:{}}},n.wrapWhitespace=l,n.stringifyAnnotations=function(e,{includeComment:t=!1,formatWhitespace:n=!1}={}){var{description:e,examples:r,default:o,comment:i,see:a}=e,e=[e,...null==r?[]:[s((0,p.ensureArray)(r))],...void 0===o?[]:[u(o)],...null==a?[]:[d((0,p.ensureArray)(a))],...t?[i]:[]].filter(e=>e).join("\n\n").trim().replace(/\*\//g,"*\\/");return n&&e?l(e):e},n.stripAnnotations=function t(e,n=!0){let{comment:r,description:o,default:i,examples:a,see:l,title:s,...u}=e,c=u;if(n){if("and"===c.type)return{...c,and:c.and.map(e=>t(e,!0))};if("or"===c.type)return{...c,or:c.or.map(e=>t(e,!0))};if("array"===c.type)return{...c,elementType:t(c.elementType,!0)};if("tuple"===c.type)return{...c,elementTypes:c.elementTypes.map(e=>t(e,!0)),additionalItems:"object"==typeof c.additionalItems?t(c.additionalItems,!0):c.additionalItems};if("object"===c.type)return{...c,properties:Object.fromEntries(Object.keys(c.properties).map(e=>[e,{...c.properties[e],node:t(c.properties[e].node,!0)}])),additionalProperties:"object"==typeof c.additionalProperties?t(c.additionalProperties,!0):c.additionalProperties}}return c},n.arrayOrSingle=f,n.formatExamples=s,n.formatDefault=u,n.formatSee=d,n.stringify=r},{"./location":9,"./util":16}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decorateError=n.decorateErrorMeta=n.isCoreTypesError=n.throwRelatedError=n.throwUnsupportedError=n.RelatedError=n.UnsupportedError=n.MissingReferenceError=n.MalformedTypeError=n.CoreTypesError=void 0;class r extends Error{constructor(e,t={}){super(e),Object.setPrototypeOf(this,r.prototype),this.blob=t.blob,this.path=t.path,this.loc=t.loc,this.source=t.source,this.filename=t.filename,this.relatedError=t.relatedError}}n.CoreTypesError=r;class o extends r{constructor(e,t={}){super(e,t),Object.setPrototypeOf(this,o.prototype)}}n.MalformedTypeError=o;class i extends r{constructor(e,t={}){super(`Reference to missing type "${e}"`,t),Object.setPrototypeOf(this,i.prototype)}}n.MissingReferenceError=i;class a extends r{constructor(e,t={}){super(e,t),Object.setPrototypeOf(this,a.prototype)}}n.UnsupportedError=a;class l extends r{constructor(e,t={}){super(e.message,{...t,relatedError:e}),Object.setPrototypeOf(this,l.prototype)}}function s(e){return e instanceof r}function u(e,t){return t.blob&&null==e.blob&&(e.blob=t.blob),t.path&&null==e.path&&(e.path=t.path),t.loc&&null==e.loc&&(e.loc=t.loc),t.source&&null==e.source&&(e.source=t.source),t.filename&&null==e.filename&&(e.filename=t.filename),e}n.RelatedError=l,n.throwUnsupportedError=function(e,t,n){throw new a(e,{blob:t,...t.loc?{loc:t.loc}:{},...n?{path:n}:{}})},n.throwRelatedError=function(e,t){throw new l(e,t)},n.isCoreTypesError=s,n.decorateErrorMeta=u,n.decorateError=function(e,t){return s(e)&&u(e,t),e}},{}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeLocations=n.getPositionOffset=n.locationToLineColumn=n.positionToLineColumn=void 0;let s=e("./util");function r(e,t){var n=e.slice(0,t).split("\n").length,e=e.lastIndexOf("\n",t);return-1===e?{offset:t,line:n,column:t}:{offset:t,line:n,column:t-e}}n.positionToLineColumn=r,n.locationToLineColumn=function(e,t){return"object"==typeof t.start?t:{start:void 0===t.start?void 0:r(e,t.start),...null==t.end?{}:{end:r(e,t.end)}}},n.getPositionOffset=function(e){return void 0===e||"number"==typeof e?e:e.offset},n.mergeLocations=function(e){let t,n,r,o,i,a=e=>"number"==typeof e?e:null==e?void 0:e.offset;e.filter(s.isNonNullable).forEach(({start:e,end:t})=>{var n=a(e),r=a(t);void 0!==n&&(!o||"number"==typeof o.location&&o.location===n||o.offset>n)&&(o={location:e,offset:n}),void 0!==r&&(!i||"number"==typeof i.location&&i.location===n||i.offset<r)&&(i={location:t,offset:r})});var e=null===o||void 0===o?void 0:o.location,l=null===i||void 0===i?void 0:i.location;if(void 0!==e||void 0!==l)return void 0===(null==(t=e)?void 0:t.offset)||void 0===(null==(n=l)?void 0:n.offset)&&void 0!==l?{start:null!=(r=a(e))?r:0,end:a(l)}:{start:e,end:l}}},{"./util":16}],10:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.combineConstAndEnum=n.mergeConstEnumUnion=n.simplifyEnumAndConst=void 0;let r=e("../util");function i(e){return(0,r.uniq)([...null!=e.const?[e.const]:[],...null!=e.enum?e.enum:[]])}n.simplifyEnumAndConst=function(e){let{const:t,enum:n,...r}=e;var o=i(e);return 0===o.length?r:1===o.length?{...r,const:o[0]}:"boolean"===e.type&&o.includes(!1)&&o.includes(!0)?{...r}:{...r,enum:o}},n.mergeConstEnumUnion=function(e){return(e=e.map(e=>i(e))).some(e=>0===e.length)?[]:(0,r.uniq)([].concat(...e))},n.combineConstAndEnum=i},{"../util":16}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.intersectConstEnum=void 0;let r=e("../annotation"),o=e("../util");n.intersectConstEnum=function(e){if(0===e.length)throw new Error("Cannot intersect const and enum from an empty array of nodes");var t;return 1===e.length?e[0]:(t=(t=e.map(e=>void 0!==e.const?[e.const]:void 0!==e.enum?e.enum:void 0).filter(e=>!!e)).slice(1).reduce((e,t)=>(0,o.intersection)(e,t),t[0]),{type:e[0].type,...1===t.length?{const:t[0]}:{},...1!==t.length?{enum:t}:{},...(0,r.mergeAnnotations)(e)})}},{"../annotation":7,"../util":16}],12:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.simplifySingle=void 0;let r=e("./const-enum");n.simplifySingle=function(e){return"boolean"===e.type||"integer"===e.type||"number"===e.type||"string"===e.type?(0,r.simplifyEnumAndConst)(e):e}},{"./const-enum":10}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.simplify=void 0;let a=e("./simplifications/single"),l=e("./simplifications/const-enum"),o=e("./simplifications/intersect-const-enum"),i=e("./error"),s=e("./annotation"),u=e("./util"),c=["any","string","number","integer","boolean"];n.simplify=function r(t){if(Array.isArray(t))return t.map(e=>r(e));if((0,u.isNodeDocument)(t))return{...t,types:r(t.types)};var e,n=e=>(0,u.copyName)(t,e);if("tuple"===t.type)return{...t,elementTypes:t.elementTypes.map(e=>r(e)),...t.additionalItems&&"object"==typeof t.additionalItems?{additionalItems:r(t.additionalItems)}:{}};if("array"===t.type)return{...t,elementType:r(t.elementType)};if("object"===t.type)return{...t,properties:Object.fromEntries(Object.entries(t.properties).map(([e,{node:t,required:n}])=>[e,{node:r(t),required:n}])),...t.additionalProperties&&"object"==typeof t.additionalProperties?{additionalProperties:r(t.additionalProperties)}:{}};if("and"!==t.type&&"or"!==t.type)return n((0,a.simplifySingle)(t));if("and"===t.type)return 1===(e=function(e){if(0<(e=(0,u.splitTypes)(e)).any.length){if(0===e.and.length&&0===e.or.length&&0===e.ref.length&&0===e.null.length&&0===e.string.length&&0===e.number.length&&0===e.integer.length&&0===e.boolean.length&&0===e.object.length&&0===e.array.length&&0===e.tuple.length)return[{type:"any",...(0,s.mergeAnnotations)(e.any.map(({node:e})=>e))}];e.any=[]}var t=e=>e.map(({node:e})=>e);return 1<e.boolean.length&&(e.boolean=[{node:(0,o.intersectConstEnum)([...e.boolean.map(({node:e})=>e),...t(e.any)]),order:(0,u.firstSplitTypeIndex)(e.boolean)}]),1<e.string.length&&(e.string=[{node:(0,o.intersectConstEnum)([...e.string.map(({node:e})=>e),...t(e.any)]),order:(0,u.firstSplitTypeIndex)(e.string)}]),0<e.number.length&&0<e.integer.length?(e.number=[{node:(0,o.intersectConstEnum)([...e.number.map(({node:e})=>e),...t(e.integer),...t(e.any)]),order:(0,u.firstSplitTypeIndex)(e.number)}],e.integer=[]):1<e.number.length?e.number=[{node:(0,o.intersectConstEnum)([...e.number.map(({node:e})=>e),...t(e.any)]),order:(0,u.firstSplitTypeIndex)(e.number)}]:1<e.integer.length&&(e.integer=[{node:(0,o.intersectConstEnum)([...e.integer.map(({node:e})=>e),...t(e.any)]),order:(0,u.firstSplitTypeIndex)(e.integer)}]),0<e.or.length&&(e.or=e.or.filter(({node:e})=>0<e.or.length)),0<e.and.length&&(e.and=e.and.filter(({node:e})=>0<e.and.length)),(0,u.flattenSplitTypeValues)(e)}([].concat(...t.and.map(e=>(e=r(e)).and||[e])))).length?n({...e[0],...(0,s.mergeAnnotations)([(0,s.extractAnnotations)(t),e[0]])}):n({type:"and",and:e,...(0,s.extractAnnotations)(t)});if("or"===t.type)return 1===(e=function(e){var t,n,r,o,i=(0,u.splitTypes)(e);if(0<i.any.length&&0===(0,l.mergeConstEnumUnion)(i.any.map(({node:e})=>e)).length)return[{type:"any",...(0,s.mergeAnnotations)(i.any.map(({node:e})=>e))}];for([t,n]of Object.entries(i))c.includes(t)&&n.length&&(r=n.map(({node:e})=>e),0===(o=(0,l.mergeConstEnumUnion)(r)).length?i[t]=[{node:{type:t,...(0,s.mergeAnnotations)(r)},order:(0,u.firstSplitTypeIndex)(n)}]:i[t]=[{node:(0,a.simplifySingle)({type:t,enum:o,...(0,s.mergeAnnotations)(r)}),order:(0,u.firstSplitTypeIndex)(n)}]);return 0<i.or.length&&(i.or=i.or.filter(({node:e})=>0<e.or.length)),0<i.and.length&&(i.and=i.and.filter(({node:e})=>0<e.and.length)),(0,u.flattenSplitTypeValues)(i)}([].concat(...t.or.map(e=>(e=r(e)).or||[e])))).length?n({...e[0],...(0,s.mergeAnnotations)([(0,s.extractAnnotations)(t),e[0]])}):n({type:"or",or:e,...(0,s.extractAnnotations)(t)});throw new i.MalformedTypeError("Invalid node",t)}},{"./annotation":7,"./error":8,"./simplifications/const-enum":10,"./simplifications/intersect-const-enum":11,"./simplifications/single":12,"./util":16}],14:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.some=n.traverse=void 0;class r extends Error{}function o(e,t){function a(e,t,n,r,o,i){var i=void 0!==i?i:void 0===r?t[n]:t[n][r],a=[...e.path,n,...void 0===r?[]:[r]];return Object.assign({},e,{node:i,path:a,parentNode:t,parentProperty:n,index:r,required:o})}!function n(r,o){o(r);let i=r.node;if("array"===i.type)n(a(r,i,"elementType"),o);else if("tuple"===i.type)i.elementTypes.forEach((e,t)=>n(a(r,i,"elementTypes",t),o)),"object"==typeof i.additionalItems&&n(a(r,i,"additionalItems"),o);else if("object"===i.type){for(var e of Object.keys(i.properties))n(a(r,i,"properties",e,i.properties[e].required,i.properties[e].node),o);"object"==typeof i.additionalProperties&&n(a(r,i,"additionalProperties"),o)}else"and"===i.type?i.and.forEach((e,t)=>n(a(r,i,"and",t),o)):"or"===i.type&&i.or.forEach((e,t)=>n(a(r,i,"or",t),o))}({node:e,rootNode:e,path:[]},t)}n.traverse=o,n.some=function(e,t){try{o(e,e=>{if(t(e))throw new r})}catch(e){if(e instanceof r)return!0;throw e}return!1}},{}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})},{}],16:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeDocument=n.isNonNullable=n.copyName=n.firstSplitTypeIndex=n.flattenSplitTypeValues=n.splitTypes=n.union=n.intersection=n.isEqual=n.hasConstEnum=n.constEnumTypes=n.isPrimitiveType=n.ensureArray=n.uniq=void 0,n.uniq=function(r){return r.filter((t,n)=>{for(let e=0;e<n;++e)if(o(t,r[e]))return!1;return!0})},n.ensureArray=function(e){return null==e?[]:Array.isArray(e)?e:[e]};n.isPrimitiveType=e=>["null","string","number","integer","boolean"].includes(e.type),n.constEnumTypes=new Set(["any","string","number","integer","boolean","object","array","tuple","ref"]);function o(t,n){var e;return typeof t==typeof n&&!(null===t!=(null===n)||null!==t&&(Array.isArray(t)&&Array.isArray(n)?t.length!==n.length||t.some((e,t)=>!o(e,n[t])):Array.isArray(t)!==Array.isArray(n)||("object"==typeof t?!o(e=Object.keys(t).sort(),Object.keys(n).sort())||e.some(e=>!o(t[e],n[e])):t!==n)))}n.hasConstEnum=e=>n.constEnumTypes.has(e.type),n.isEqual=o,n.intersection=function(e,n){let r=[];return e.forEach(t=>{n.forEach(e=>{o(t,e)&&r.push(t)})}),r},n.union=function(e,t){let n=[...e];return t.forEach(t=>{e.some(e=>o(t,e))||n.push(t)}),n},n.splitTypes=function(e){let n={and:[],or:[],ref:[],any:[],null:[],string:[],number:[],integer:[],boolean:[],object:[],array:[],tuple:[]};return e.forEach((e,t)=>{("and"!==e.type&&"or"!==e.type||"and"===e.type&&0<e.and.length||"or"===e.type&&0<e.or.length)&&(t={node:e,order:t},n[e.type].push(t))}),n},n.flattenSplitTypeValues=function(e){return[].concat(Object.values(e).flat().sort((e,t)=>e.order-t.order).map(({node:e})=>e))},n.firstSplitTypeIndex=function(e){return Math.min(...e.map(({order:e})=>e))},n.copyName=function(e,t){return void 0===e.name?t:{...t,name:e.name}},n.isNonNullable=function(e){return null!=e},n.isNodeDocument=function(e){return Array.isArray(e.types)}},{}],17:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validate=void 0;let r=e("./error"),o=e("./util");n.validate=function t(e){if((0,o.hasConstEnum)(e)){var n=e;if(n.enum&&0===n.enum.length)throw new r.MalformedTypeError("Empty enum is not allowed",n);if(n.enum&&void 0!==n.const&&!n.enum.some(e=>(0,o.isEqual)(e,n.const)))throw new r.MalformedTypeError("Enum and const are both set, but enum doesn't contain const",n)}"and"===e.type&&e.and.forEach(e=>t(e)),"or"===e.type&&e.or.forEach(e=>t(e))}},{"./error":8,"./util":16}],18:[function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),o(e("./lib"),n),o(e("./lib/types"),n),o(e("./lib/utils"),n)},{"./lib":19,"./lib/types":22,"./lib/utils":23}],19:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openApiToJsonSchema=n.jsonSchemaDocumentToOpenApi=n.decorateOpenApi=void 0;let o=e("./json-schema-to-openapi"),r=e("./openapi-to-json-schema");function i(e,{title:t,version:n,schemaVersion:r="3.0.0"}){t={title:t,version:n};return e.$id&&(t["x-id"]=e.$id,delete e.$id),e.$comment&&(t["x-comment"]=e.$comment,delete e.$comment),delete e.$schema,{openapi:r,info:t,paths:{},...e}}n.decorateOpenApi=i,n.jsonSchemaDocumentToOpenApi=function(e,t){let{definitions:n={},...r}=e;return i({...r,components:{schemas:Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(0,o.jsonSchemaTypeToOpenApi)(t)]))}},t)},n.openApiToJsonSchema=function(e){let t=e.components.schemas;return{definitions:Object.fromEntries(Object.keys(t).map(e=>[e,(0,r.openApiToJsonSchemaType)(t[e])]))}}},{"./json-schema-to-openapi":20,"./openapi-to-json-schema":21}],20:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.jsonSchemaTypeToOpenApi=void 0;let r=e("./utils");n.jsonSchemaTypeToOpenApi=function e(t){var n;return"boolean"==typeof t?t:(t=function(e){if(void 0===e.type)return e;let{type:t,...n}=e,r=Array.isArray(t)?t.includes("null"):"null"===t;var o=Array.isArray(t)?t.filter(e=>"null"!==e):"null"===t?void 0:t;let i=(e,t)=>"any"!==t&&t?{...e,type:t}:e;return void 0!==e.const&&(n.enum=[e.const],delete n.const),e=e=>r?{...e,nullable:r}:e,Array.isArray(o)?0===o.length?e(n):1===o.length?i(e(n),o[0]):{...e(n),anyOf:o.map(e=>i({},e))}:i(e(n),o)}(t),t=(n=t).$ref?{...n,$ref:(0,r.encodeRefNameOpenApi)((0,r.decodeRefNameJsonSchema)(n.$ref))}:n,(0,r.recurseSchema)(t,e))}},{"./utils":23}],21:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openApiToJsonSchemaType=void 0;let a=e("./utils");n.openApiToJsonSchemaType=function e(t){if("boolean"==typeof t)return t;let{type:n,nullable:r,...o}=t;var i,t=function(e,t){if(void 0!==e&&"any"!==e)return Array.isArray(e)?e.includes("any")?void 0:(!e.includes("null")&&t&&e.push("null"),1===e.length?e[0]:e):"null"!==e&&t?[e,"null"]:e}(n,r),t={...o,...t?{type:t}:{}},t=(i=t).$ref?{...i,$ref:(0,a.encodeRefNameJsonSchema)((0,a.decodeRefNameOpenApi)(i.$ref))}:i;return(0,a.recurseSchema)(t,e)}},{"./utils":23}],22:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],23:[function(e,t,n){function r(e){return encodeURIComponent(e)}function o(e){return decodeURIComponent(e)}function i(e){return e&&0<Object.keys(e).length}Object.defineProperty(n,"__esModule",{value:!0}),n.recurseSchema=n.decodeRefNameOpenApi=n.encodeRefNameOpenApi=n.decodeRefNameJsonSchema=n.encodeRefNameJsonSchema=n.decodePathPart=n.encodePathPart=void 0,n.encodePathPart=r,n.decodePathPart=o,n.encodeRefNameJsonSchema=function(e){return"#/definitions/"+r(e)},n.decodeRefNameJsonSchema=function(e){return e.startsWith("#/definitions/")?o(e.slice(14)):o(e)},n.encodeRefNameOpenApi=function(e){return"#/components/schemas/"+r(e)},n.decodeRefNameOpenApi=function(e){return e.startsWith("#/components/schemas/")?o(e.slice(21)):o(e)},n.recurseSchema=function(e,n){if("object"!=typeof e)return e;let r=e;return{...r,..."object"!=typeof r.items?{}:Array.isArray(r.items)?{items:r.items.map(e=>n(e))}:{items:n(r.items)},..."object"!=typeof r.additionalItems?{}:{additionalItems:n(r.additionalItems)},..."object"!=typeof r.contains?{}:{contains:n(r.contains)},...i(r.properties)?{properties:Object.fromEntries(Object.keys(r.properties).map(e=>{var t;return[e,n(null==(t=r.properties)?void 0:t[e])]}))}:{},...i(r.patternProperties)?{patternProperties:Object.fromEntries(Object.keys(r.patternProperties).map(e=>{var t;return[e,n(null==(t=r.patternProperties)?void 0:t[e])]}))}:{},..."object"!=typeof r.additionalProperties?{}:{additionalProperties:n(r.additionalProperties)},...i(r.dependencies)?{dependencies:Object.fromEntries(Object.keys(r.dependencies).map(e=>{var t;return[e,n(null==(t=r.dependencies)?void 0:t[e])]}))}:{},..."object"!=typeof r.propertyNames?{}:{propertyNames:n(r.propertyNames)},..."object"!=typeof r.if?{}:{if:n(r.if)},..."object"!=typeof r.then?{}:{then:n(r.then)},..."object"!=typeof r.else?{}:{else:n(r.else)},..."object"==typeof r.allOf&&r.allOf.length?{allOf:r.allOf.map(e=>n(e))}:{},..."object"==typeof r.anyOf&&r.anyOf.length?{anyOf:r.anyOf.map(e=>n(e))}:{},..."object"==typeof r.oneOf&&r.oneOf.length?{oneOf:r.oneOf.map(e=>n(e))}:{},..."object"!=typeof r.not?{}:{not:n(r.not)},...i(r.definitions)?{definitions:Object.fromEntries(Object.keys(r.definitions).map(e=>{var t;return[e,n(null==(t=r.definitions)?void 0:t[e])]}))}:{}}}},{}],24:[function(e,n,r){!function(e){!function(){var e,t;e=this,t=function(){function e(e,t){return e(t={exports:{}},t.exports),t.exports}var l=new(e(function(e){function t(){function l(e,t){var n,r,o=e.charCodeAt(t=void 0===t?0:t);return 55296<=o&&o<=56319&&t<e.length-1?(n=o,56320<=(r=e.charCodeAt(t+1))&&r<=57343?1024*(n-55296)+(r-56320)+65536:n):56320<=o&&o<=57343&&1<=t?(r=o,55296<=(n=e.charCodeAt(t-1))&&n<=56319?1024*(n-55296)+(r-56320)+65536:r):o}function s(e){return 1536<=e&&e<=1541||1757==e||1807==e||2274==e||3406==e||69821==e||70082<=e&&e<=70083||72250==e||72326<=e&&e<=72329||73030==e?12:13==e?0:10==e?1:0<=e&&e<=9||11<=e&&e<=12||14<=e&&e<=31||127<=e&&e<=159||173==e||1564==e||6158==e||8203==e||8206<=e&&e<=8207||8232==e||8233==e||8234<=e&&e<=8238||8288<=e&&e<=8292||8293==e||8294<=e&&e<=8303||55296<=e&&e<=57343||65279==e||65520<=e&&e<=65528||65529<=e&&e<=65531||113824<=e&&e<=113827||119155<=e&&e<=119162||917504==e||917505==e||917506<=e&&e<=917535||917632<=e&&e<=917759||918e3<=e&&e<=921599?2:768<=e&&e<=879||1155<=e&&e<=1159||1160<=e&&e<=1161||1425<=e&&e<=1469||1471==e||1473<=e&&e<=1474||1476<=e&&e<=1477||1479==e||1552<=e&&e<=1562||1611<=e&&e<=1631||1648==e||1750<=e&&e<=1756||1759<=e&&e<=1764||1767<=e&&e<=1768||1770<=e&&e<=1773||1809==e||1840<=e&&e<=1866||1958<=e&&e<=1968||2027<=e&&e<=2035||2070<=e&&e<=2073||2075<=e&&e<=2083||2085<=e&&e<=2087||2089<=e&&e<=2093||2137<=e&&e<=2139||2260<=e&&e<=2273||2275<=e&&e<=2306||2362==e||2364==e||2369<=e&&e<=2376||2381==e||2385<=e&&e<=2391||2402<=e&&e<=2403||2433==e||2492==e||2494==e||2497<=e&&e<=2500||2509==e||2519==e||2530<=e&&e<=2531||2561<=e&&e<=2562||2620==e||2625<=e&&e<=2626||2631<=e&&e<=2632||2635<=e&&e<=2637||2641==e||2672<=e&&e<=2673||2677==e||2689<=e&&e<=2690||2748==e||2753<=e&&e<=2757||2759<=e&&e<=2760||2765==e||2786<=e&&e<=2787||2810<=e&&e<=2815||2817==e||2876==e||2878==e||2879==e||2881<=e&&e<=2884||2893==e||2902==e||2903==e||2914<=e&&e<=2915||2946==e||3006==e||3008==e||3021==e||3031==e||3072==e||3134<=e&&e<=3136||3142<=e&&e<=3144||3146<=e&&e<=3149||3157<=e&&e<=3158||3170<=e&&e<=3171||3201==e||3260==e||3263==e||3266==e||3270==e||3276<=e&&e<=3277||3285<=e&&e<=3286||3298<=e&&e<=3299||3328<=e&&e<=3329||3387<=e&&e<=3388||3390==e||3393<=e&&e<=3396||3405==e||3415==e||3426<=e&&e<=3427||3530==e||3535==e||3538<=e&&e<=3540||3542==e||3551==e||3633==e||3636<=e&&e<=3642||3655<=e&&e<=3662||3761==e||3764<=e&&e<=3769||3771<=e&&e<=3772||3784<=e&&e<=3789||3864<=e&&e<=3865||3893==e||3895==e||3897==e||3953<=e&&e<=3966||3968<=e&&e<=3972||3974<=e&&e<=3975||3981<=e&&e<=3991||3993<=e&&e<=4028||4038==e||4141<=e&&e<=4144||4146<=e&&e<=4151||4153<=e&&e<=4154||4157<=e&&e<=4158||4184<=e&&e<=4185||4190<=e&&e<=4192||4209<=e&&e<=4212||4226==e||4229<=e&&e<=4230||4237==e||4253==e||4957<=e&&e<=4959||5906<=e&&e<=5908||5938<=e&&e<=5940||5970<=e&&e<=5971||6002<=e&&e<=6003||6068<=e&&e<=6069||6071<=e&&e<=6077||6086==e||6089<=e&&e<=6099||6109==e||6155<=e&&e<=6157||6277<=e&&e<=6278||6313==e||6432<=e&&e<=6434||6439<=e&&e<=6440||6450==e||6457<=e&&e<=6459||6679<=e&&e<=6680||6683==e||6742==e||6744<=e&&e<=6750||6752==e||6754==e||6757<=e&&e<=6764||6771<=e&&e<=6780||6783==e||6832<=e&&e<=6845||6846==e||6912<=e&&e<=6915||6964==e||6966<=e&&e<=6970||6972==e||6978==e||7019<=e&&e<=7027||7040<=e&&e<=7041||7074<=e&&e<=7077||7080<=e&&e<=7081||7083<=e&&e<=7085||7142==e||7144<=e&&e<=7145||7149==e||7151<=e&&e<=7153||7212<=e&&e<=7219||7222<=e&&e<=7223||7376<=e&&e<=7378||7380<=e&&e<=7392||7394<=e&&e<=7400||7405==e||7412==e||7416<=e&&e<=7417||7616<=e&&e<=7673||7675<=e&&e<=7679||8204==e||8400<=e&&e<=8412||8413<=e&&e<=8416||8417==e||8418<=e&&e<=8420||8421<=e&&e<=8432||11503<=e&&e<=11505||11647==e||11744<=e&&e<=11775||12330<=e&&e<=12333||12334<=e&&e<=12335||12441<=e&&e<=12442||42607==e||42608<=e&&e<=42610||42612<=e&&e<=42621||42654<=e&&e<=42655||42736<=e&&e<=42737||43010==e||43014==e||43019==e||43045<=e&&e<=43046||43204<=e&&e<=43205||43232<=e&&e<=43249||43302<=e&&e<=43309||43335<=e&&e<=43345||43392<=e&&e<=43394||43443==e||43446<=e&&e<=43449||43452==e||43493==e||43561<=e&&e<=43566||43569<=e&&e<=43570||43573<=e&&e<=43574||43587==e||43596==e||43644==e||43696==e||43698<=e&&e<=43700||43703<=e&&e<=43704||43710<=e&&e<=43711||43713==e||43756<=e&&e<=43757||43766==e||44005==e||44008==e||44013==e||64286==e||65024<=e&&e<=65039||65056<=e&&e<=65071||65438<=e&&e<=65439||66045==e||66272==e||66422<=e&&e<=66426||68097<=e&&e<=68099||68101<=e&&e<=68102||68108<=e&&e<=68111||68152<=e&&e<=68154||68159==e||68325<=e&&e<=68326||69633==e||69688<=e&&e<=69702||69759<=e&&e<=69761||69811<=e&&e<=69814||69817<=e&&e<=69818||69888<=e&&e<=69890||69927<=e&&e<=69931||69933<=e&&e<=69940||70003==e||70016<=e&&e<=70017||70070<=e&&e<=70078||70090<=e&&e<=70092||70191<=e&&e<=70193||70196==e||70198<=e&&e<=70199||70206==e||70367==e||70371<=e&&e<=70378||70400<=e&&e<=70401||70460==e||70462==e||70464==e||70487==e||70502<=e&&e<=70508||70512<=e&&e<=70516||70712<=e&&e<=70719||70722<=e&&e<=70724||70726==e||70832==e||70835<=e&&e<=70840||70842==e||70845==e||70847<=e&&e<=70848||70850<=e&&e<=70851||71087==e||71090<=e&&e<=71093||71100<=e&&e<=71101||71103<=e&&e<=71104||71132<=e&&e<=71133||71219<=e&&e<=71226||71229==e||71231<=e&&e<=71232||71339==e||71341==e||71344<=e&&e<=71349||71351==e||71453<=e&&e<=71455||71458<=e&&e<=71461||71463<=e&&e<=71467||72193<=e&&e<=72198||72201<=e&&e<=72202||72243<=e&&e<=72248||72251<=e&&e<=72254||72263==e||72273<=e&&e<=72278||72281<=e&&e<=72283||72330<=e&&e<=72342||72344<=e&&e<=72345||72752<=e&&e<=72758||72760<=e&&e<=72765||72767==e||72850<=e&&e<=72871||72874<=e&&e<=72880||72882<=e&&e<=72883||72885<=e&&e<=72886||73009<=e&&e<=73014||73018==e||73020<=e&&e<=73021||73023<=e&&e<=73029||73031==e||92912<=e&&e<=92916||92976<=e&&e<=92982||94095<=e&&e<=94098||113821<=e&&e<=113822||119141==e||119143<=e&&e<=119145||119150<=e&&e<=119154||119163<=e&&e<=119170||119173<=e&&e<=119179||119210<=e&&e<=119213||119362<=e&&e<=119364||121344<=e&&e<=121398||121403<=e&&e<=121452||121461==e||121476==e||121499<=e&&e<=121503||121505<=e&&e<=121519||122880<=e&&e<=122886||122888<=e&&e<=122904||122907<=e&&e<=122913||122915<=e&&e<=122916||122918<=e&&e<=122922||125136<=e&&e<=125142||125252<=e&&e<=125258||917536<=e&&e<=917631||917760<=e&&e<=917999?3:127462<=e&&e<=127487?4:2307==e||2363==e||2366<=e&&e<=2368||2377<=e&&e<=2380||2382<=e&&e<=2383||2434<=e&&e<=2435||2495<=e&&e<=2496||2503<=e&&e<=2504||2507<=e&&e<=2508||2563==e||2622<=e&&e<=2624||2691==e||2750<=e&&e<=2752||2761==e||2763<=e&&e<=2764||2818<=e&&e<=2819||2880==e||2887<=e&&e<=2888||2891<=e&&e<=2892||3007==e||3009<=e&&e<=3010||3014<=e&&e<=3016||3018<=e&&e<=3020||3073<=e&&e<=3075||3137<=e&&e<=3140||3202<=e&&e<=3203||3262==e||3264<=e&&e<=3265||3267<=e&&e<=3268||3271<=e&&e<=3272||3274<=e&&e<=3275||3330<=e&&e<=3331||3391<=e&&e<=3392||3398<=e&&e<=3400||3402<=e&&e<=3404||3458<=e&&e<=3459||3536<=e&&e<=3537||3544<=e&&e<=3550||3570<=e&&e<=3571||3635==e||3763==e||3902<=e&&e<=3903||3967==e||4145==e||4155<=e&&e<=4156||4182<=e&&e<=4183||4228==e||6070==e||6078<=e&&e<=6085||6087<=e&&e<=6088||6435<=e&&e<=6438||6441<=e&&e<=6443||6448<=e&&e<=6449||6451<=e&&e<=6456||6681<=e&&e<=6682||6741==e||6743==e||6765<=e&&e<=6770||6916==e||6965==e||6971==e||6973<=e&&e<=6977||6979<=e&&e<=6980||7042==e||7073==e||7078<=e&&e<=7079||7082==e||7143==e||7146<=e&&e<=7148||7150==e||7154<=e&&e<=7155||7204<=e&&e<=7211||7220<=e&&e<=7221||7393==e||7410<=e&&e<=7411||7415==e||43043<=e&&e<=43044||43047==e||43136<=e&&e<=43137||43188<=e&&e<=43203||43346<=e&&e<=43347||43395==e||43444<=e&&e<=43445||43450<=e&&e<=43451||43453<=e&&e<=43456||43567<=e&&e<=43568||43571<=e&&e<=43572||43597==e||43755==e||43758<=e&&e<=43759||43765==e||44003<=e&&e<=44004||44006<=e&&e<=44007||44009<=e&&e<=44010||44012==e||69632==e||69634==e||69762==e||69808<=e&&e<=69810||69815<=e&&e<=69816||69932==e||70018==e||70067<=e&&e<=70069||70079<=e&&e<=70080||70188<=e&&e<=70190||70194<=e&&e<=70195||70197==e||70368<=e&&e<=70370||70402<=e&&e<=70403||70463==e||70465<=e&&e<=70468||70471<=e&&e<=70472||70475<=e&&e<=70477||70498<=e&&e<=70499||70709<=e&&e<=70711||70720<=e&&e<=70721||70725==e||70833<=e&&e<=70834||70841==e||70843<=e&&e<=70844||70846==e||70849==e||71088<=e&&e<=71089||71096<=e&&e<=71099||71102==e||71216<=e&&e<=71218||71227<=e&&e<=71228||71230==e||71340==e||71342<=e&&e<=71343||71350==e||71456<=e&&e<=71457||71462==e||72199<=e&&e<=72200||72249==e||72279<=e&&e<=72280||72343==e||72751==e||72766==e||72873==e||72881==e||72884==e||94033<=e&&e<=94078||119142==e||119149==e?5:4352<=e&&e<=4447||43360<=e&&e<=43388?6:4448<=e&&e<=4519||55216<=e&&e<=55238?7:4520<=e&&e<=4607||55243<=e&&e<=55291?8:44032==e||44060==e||44088==e||44116==e||44144==e||44172==e||44200==e||44228==e||44256==e||44284==e||44312==e||44340==e||44368==e||44396==e||44424==e||44452==e||44480==e||44508==e||44536==e||44564==e||44592==e||44620==e||44648==e||44676==e||44704==e||44732==e||44760==e||44788==e||44816==e||44844==e||44872==e||44900==e||44928==e||44956==e||44984==e||45012==e||45040==e||45068==e||45096==e||45124==e||45152==e||45180==e||45208==e||45236==e||45264==e||45292==e||45320==e||45348==e||45376==e||45404==e||45432==e||45460==e||45488==e||45516==e||45544==e||45572==e||45600==e||45628==e||45656==e||45684==e||45712==e||45740==e||45768==e||45796==e||45824==e||45852==e||45880==e||45908==e||45936==e||45964==e||45992==e||46020==e||46048==e||46076==e||46104==e||46132==e||46160==e||46188==e||46216==e||46244==e||46272==e||46300==e||46328==e||46356==e||46384==e||46412==e||46440==e||46468==e||46496==e||46524==e||46552==e||46580==e||46608==e||46636==e||46664==e||46692==e||46720==e||46748==e||46776==e||46804==e||46832==e||46860==e||46888==e||46916==e||46944==e||46972==e||47e3==e||47028==e||47056==e||47084==e||47112==e||47140==e||47168==e||47196==e||47224==e||47252==e||47280==e||47308==e||47336==e||47364==e||47392==e||47420==e||47448==e||47476==e||47504==e||47532==e||47560==e||47588==e||47616==e||47644==e||47672==e||47700==e||47728==e||47756==e||47784==e||47812==e||47840==e||47868==e||47896==e||47924==e||47952==e||47980==e||48008==e||48036==e||48064==e||48092==e||48120==e||48148==e||48176==e||48204==e||48232==e||48260==e||48288==e||48316==e||48344==e||48372==e||48400==e||48428==e||48456==e||48484==e||48512==e||48540==e||48568==e||48596==e||48624==e||48652==e||48680==e||48708==e||48736==e||48764==e||48792==e||48820==e||48848==e||48876==e||48904==e||48932==e||48960==e||48988==e||49016==e||49044==e||49072==e||49100==e||49128==e||49156==e||49184==e||49212==e||49240==e||49268==e||49296==e||49324==e||49352==e||49380==e||49408==e||49436==e||49464==e||49492==e||49520==e||49548==e||49576==e||49604==e||49632==e||49660==e||49688==e||49716==e||49744==e||49772==e||49800==e||49828==e||49856==e||49884==e||49912==e||49940==e||49968==e||49996==e||50024==e||50052==e||50080==e||50108==e||50136==e||50164==e||50192==e||50220==e||50248==e||50276==e||50304==e||50332==e||50360==e||50388==e||50416==e||50444==e||50472==e||50500==e||50528==e||50556==e||50584==e||50612==e||50640==e||50668==e||50696==e||50724==e||50752==e||50780==e||50808==e||50836==e||50864==e||50892==e||50920==e||50948==e||50976==e||51004==e||51032==e||51060==e||51088==e||51116==e||51144==e||51172==e||51200==e||51228==e||51256==e||51284==e||51312==e||51340==e||51368==e||51396==e||51424==e||51452==e||51480==e||51508==e||51536==e||51564==e||51592==e||51620==e||51648==e||51676==e||51704==e||51732==e||51760==e||51788==e||51816==e||51844==e||51872==e||51900==e||51928==e||51956==e||51984==e||52012==e||52040==e||52068==e||52096==e||52124==e||52152==e||52180==e||52208==e||52236==e||52264==e||52292==e||52320==e||52348==e||52376==e||52404==e||52432==e||52460==e||52488==e||52516==e||52544==e||52572==e||52600==e||52628==e||52656==e||52684==e||52712==e||52740==e||52768==e||52796==e||52824==e||52852==e||52880==e||52908==e||52936==e||52964==e||52992==e||53020==e||53048==e||53076==e||53104==e||53132==e||53160==e||53188==e||53216==e||53244==e||53272==e||53300==e||53328==e||53356==e||53384==e||53412==e||53440==e||53468==e||53496==e||53524==e||53552==e||53580==e||53608==e||53636==e||53664==e||53692==e||53720==e||53748==e||53776==e||53804==e||53832==e||53860==e||53888==e||53916==e||53944==e||53972==e||54e3==e||54028==e||54056==e||54084==e||54112==e||54140==e||54168==e||54196==e||54224==e||54252==e||54280==e||54308==e||54336==e||54364==e||54392==e||54420==e||54448==e||54476==e||54504==e||54532==e||54560==e||54588==e||54616==e||54644==e||54672==e||54700==e||54728==e||54756==e||54784==e||54812==e||54840==e||54868==e||54896==e||54924==e||54952==e||54980==e||55008==e||55036==e||55064==e||55092==e||55120==e||55148==e||55176==e?9:44033<=e&&e<=44059||44061<=e&&e<=44087||44089<=e&&e<=44115||44117<=e&&e<=44143||44145<=e&&e<=44171||44173<=e&&e<=44199||44201<=e&&e<=44227||44229<=e&&e<=44255||44257<=e&&e<=44283||44285<=e&&e<=44311||44313<=e&&e<=44339||44341<=e&&e<=44367||44369<=e&&e<=44395||44397<=e&&e<=44423||44425<=e&&e<=44451||44453<=e&&e<=44479||44481<=e&&e<=44507||44509<=e&&e<=44535||44537<=e&&e<=44563||44565<=e&&e<=44591||44593<=e&&e<=44619||44621<=e&&e<=44647||44649<=e&&e<=44675||44677<=e&&e<=44703||44705<=e&&e<=44731||44733<=e&&e<=44759||44761<=e&&e<=44787||44789<=e&&e<=44815||44817<=e&&e<=44843||44845<=e&&e<=44871||44873<=e&&e<=44899||44901<=e&&e<=44927||44929<=e&&e<=44955||44957<=e&&e<=44983||44985<=e&&e<=45011||45013<=e&&e<=45039||45041<=e&&e<=45067||45069<=e&&e<=45095||45097<=e&&e<=45123||45125<=e&&e<=45151||45153<=e&&e<=45179||45181<=e&&e<=45207||45209<=e&&e<=45235||45237<=e&&e<=45263||45265<=e&&e<=45291||45293<=e&&e<=45319||45321<=e&&e<=45347||45349<=e&&e<=45375||45377<=e&&e<=45403||45405<=e&&e<=45431||45433<=e&&e<=45459||45461<=e&&e<=45487||45489<=e&&e<=45515||45517<=e&&e<=45543||45545<=e&&e<=45571||45573<=e&&e<=45599||45601<=e&&e<=45627||45629<=e&&e<=45655||45657<=e&&e<=45683||45685<=e&&e<=45711||45713<=e&&e<=45739||45741<=e&&e<=45767||45769<=e&&e<=45795||45797<=e&&e<=45823||45825<=e&&e<=45851||45853<=e&&e<=45879||45881<=e&&e<=45907||45909<=e&&e<=45935||45937<=e&&e<=45963||45965<=e&&e<=45991||45993<=e&&e<=46019||46021<=e&&e<=46047||46049<=e&&e<=46075||46077<=e&&e<=46103||46105<=e&&e<=46131||46133<=e&&e<=46159||46161<=e&&e<=46187||46189<=e&&e<=46215||46217<=e&&e<=46243||46245<=e&&e<=46271||46273<=e&&e<=46299||46301<=e&&e<=46327||46329<=e&&e<=46355||46357<=e&&e<=46383||46385<=e&&e<=46411||46413<=e&&e<=46439||46441<=e&&e<=46467||46469<=e&&e<=46495||46497<=e&&e<=46523||46525<=e&&e<=46551||46553<=e&&e<=46579||46581<=e&&e<=46607||46609<=e&&e<=46635||46637<=e&&e<=46663||46665<=e&&e<=46691||46693<=e&&e<=46719||46721<=e&&e<=46747||46749<=e&&e<=46775||46777<=e&&e<=46803||46805<=e&&e<=46831||46833<=e&&e<=46859||46861<=e&&e<=46887||46889<=e&&e<=46915||46917<=e&&e<=46943||46945<=e&&e<=46971||46973<=e&&e<=46999||47001<=e&&e<=47027||47029<=e&&e<=47055||47057<=e&&e<=47083||47085<=e&&e<=47111||47113<=e&&e<=47139||47141<=e&&e<=47167||47169<=e&&e<=47195||47197<=e&&e<=47223||47225<=e&&e<=47251||47253<=e&&e<=47279||47281<=e&&e<=47307||47309<=e&&e<=47335||47337<=e&&e<=47363||47365<=e&&e<=47391||47393<=e&&e<=47419||47421<=e&&e<=47447||47449<=e&&e<=47475||47477<=e&&e<=47503||47505<=e&&e<=47531||47533<=e&&e<=47559||47561<=e&&e<=47587||47589<=e&&e<=47615||47617<=e&&e<=47643||47645<=e&&e<=47671||47673<=e&&e<=47699||47701<=e&&e<=47727||47729<=e&&e<=47755||47757<=e&&e<=47783||47785<=e&&e<=47811||47813<=e&&e<=47839||47841<=e&&e<=47867||47869<=e&&e<=47895||47897<=e&&e<=47923||47925<=e&&e<=47951||47953<=e&&e<=47979||47981<=e&&e<=48007||48009<=e&&e<=48035||48037<=e&&e<=48063||48065<=e&&e<=48091||48093<=e&&e<=48119||48121<=e&&e<=48147||48149<=e&&e<=48175||48177<=e&&e<=48203||48205<=e&&e<=48231||48233<=e&&e<=48259||48261<=e&&e<=48287||48289<=e&&e<=48315||48317<=e&&e<=48343||48345<=e&&e<=48371||48373<=e&&e<=48399||48401<=e&&e<=48427||48429<=e&&e<=48455||48457<=e&&e<=48483||48485<=e&&e<=48511||48513<=e&&e<=48539||48541<=e&&e<=48567||48569<=e&&e<=48595||48597<=e&&e<=48623||48625<=e&&e<=48651||48653<=e&&e<=48679||48681<=e&&e<=48707||48709<=e&&e<=48735||48737<=e&&e<=48763||48765<=e&&e<=48791||48793<=e&&e<=48819||48821<=e&&e<=48847||48849<=e&&e<=48875||48877<=e&&e<=48903||48905<=e&&e<=48931||48933<=e&&e<=48959||48961<=e&&e<=48987||48989<=e&&e<=49015||49017<=e&&e<=49043||49045<=e&&e<=49071||49073<=e&&e<=49099||49101<=e&&e<=49127||49129<=e&&e<=49155||49157<=e&&e<=49183||49185<=e&&e<=49211||49213<=e&&e<=49239||49241<=e&&e<=49267||49269<=e&&e<=49295||49297<=e&&e<=49323||49325<=e&&e<=49351||49353<=e&&e<=49379||49381<=e&&e<=49407||49409<=e&&e<=49435||49437<=e&&e<=49463||49465<=e&&e<=49491||49493<=e&&e<=49519||49521<=e&&e<=49547||49549<=e&&e<=49575||49577<=e&&e<=49603||49605<=e&&e<=49631||49633<=e&&e<=49659||49661<=e&&e<=49687||49689<=e&&e<=49715||49717<=e&&e<=49743||49745<=e&&e<=49771||49773<=e&&e<=49799||49801<=e&&e<=49827||49829<=e&&e<=49855||49857<=e&&e<=49883||49885<=e&&e<=49911||49913<=e&&e<=49939||49941<=e&&e<=49967||49969<=e&&e<=49995||49997<=e&&e<=50023||50025<=e&&e<=50051||50053<=e&&e<=50079||50081<=e&&e<=50107||50109<=e&&e<=50135||50137<=e&&e<=50163||50165<=e&&e<=50191||50193<=e&&e<=50219||50221<=e&&e<=50247||50249<=e&&e<=50275||50277<=e&&e<=50303||50305<=e&&e<=50331||50333<=e&&e<=50359||50361<=e&&e<=50387||50389<=e&&e<=50415||50417<=e&&e<=50443||50445<=e&&e<=50471||50473<=e&&e<=50499||50501<=e&&e<=50527||50529<=e&&e<=50555||50557<=e&&e<=50583||50585<=e&&e<=50611||50613<=e&&e<=50639||50641<=e&&e<=50667||50669<=e&&e<=50695||50697<=e&&e<=50723||50725<=e&&e<=50751||50753<=e&&e<=50779||50781<=e&&e<=50807||50809<=e&&e<=50835||50837<=e&&e<=50863||50865<=e&&e<=50891||50893<=e&&e<=50919||50921<=e&&e<=50947||50949<=e&&e<=50975||50977<=e&&e<=51003||51005<=e&&e<=51031||51033<=e&&e<=51059||51061<=e&&e<=51087||51089<=e&&e<=51115||51117<=e&&e<=51143||51145<=e&&e<=51171||51173<=e&&e<=51199||51201<=e&&e<=51227||51229<=e&&e<=51255||51257<=e&&e<=51283||51285<=e&&e<=51311||51313<=e&&e<=51339||51341<=e&&e<=51367||51369<=e&&e<=51395||51397<=e&&e<=51423||51425<=e&&e<=51451||51453<=e&&e<=51479||51481<=e&&e<=51507||51509<=e&&e<=51535||51537<=e&&e<=51563||51565<=e&&e<=51591||51593<=e&&e<=51619||51621<=e&&e<=51647||51649<=e&&e<=51675||51677<=e&&e<=51703||51705<=e&&e<=51731||51733<=e&&e<=51759||51761<=e&&e<=51787||51789<=e&&e<=51815||51817<=e&&e<=51843||51845<=e&&e<=51871||51873<=e&&e<=51899||51901<=e&&e<=51927||51929<=e&&e<=51955||51957<=e&&e<=51983||51985<=e&&e<=52011||52013<=e&&e<=52039||52041<=e&&e<=52067||52069<=e&&e<=52095||52097<=e&&e<=52123||52125<=e&&e<=52151||52153<=e&&e<=52179||52181<=e&&e<=52207||52209<=e&&e<=52235||52237<=e&&e<=52263||52265<=e&&e<=52291||52293<=e&&e<=52319||52321<=e&&e<=52347||52349<=e&&e<=52375||52377<=e&&e<=52403||52405<=e&&e<=52431||52433<=e&&e<=52459||52461<=e&&e<=52487||52489<=e&&e<=52515||52517<=e&&e<=52543||52545<=e&&e<=52571||52573<=e&&e<=52599||52601<=e&&e<=52627||52629<=e&&e<=52655||52657<=e&&e<=52683||52685<=e&&e<=52711||52713<=e&&e<=52739||52741<=e&&e<=52767||52769<=e&&e<=52795||52797<=e&&e<=52823||52825<=e&&e<=52851||52853<=e&&e<=52879||52881<=e&&e<=52907||52909<=e&&e<=52935||52937<=e&&e<=52963||52965<=e&&e<=52991||52993<=e&&e<=53019||53021<=e&&e<=53047||53049<=e&&e<=53075||53077<=e&&e<=53103||53105<=e&&e<=53131||53133<=e&&e<=53159||53161<=e&&e<=53187||53189<=e&&e<=53215||53217<=e&&e<=53243||53245<=e&&e<=53271||53273<=e&&e<=53299||53301<=e&&e<=53327||53329<=e&&e<=53355||53357<=e&&e<=53383||53385<=e&&e<=53411||53413<=e&&e<=53439||53441<=e&&e<=53467||53469<=e&&e<=53495||53497<=e&&e<=53523||53525<=e&&e<=53551||53553<=e&&e<=53579||53581<=e&&e<=53607||53609<=e&&e<=53635||53637<=e&&e<=53663||53665<=e&&e<=53691||53693<=e&&e<=53719||53721<=e&&e<=53747||53749<=e&&e<=53775||53777<=e&&e<=53803||53805<=e&&e<=53831||53833<=e&&e<=53859||53861<=e&&e<=53887||53889<=e&&e<=53915||53917<=e&&e<=53943||53945<=e&&e<=53971||53973<=e&&e<=53999||54001<=e&&e<=54027||54029<=e&&e<=54055||54057<=e&&e<=54083||54085<=e&&e<=54111||54113<=e&&e<=54139||54141<=e&&e<=54167||54169<=e&&e<=54195||54197<=e&&e<=54223||54225<=e&&e<=54251||54253<=e&&e<=54279||54281<=e&&e<=54307||54309<=e&&e<=54335||54337<=e&&e<=54363||54365<=e&&e<=54391||54393<=e&&e<=54419||54421<=e&&e<=54447||54449<=e&&e<=54475||54477<=e&&e<=54503||54505<=e&&e<=54531||54533<=e&&e<=54559||54561<=e&&e<=54587||54589<=e&&e<=54615||54617<=e&&e<=54643||54645<=e&&e<=54671||54673<=e&&e<=54699||54701<=e&&e<=54727||54729<=e&&e<=54755||54757<=e&&e<=54783||54785<=e&&e<=54811||54813<=e&&e<=54839||54841<=e&&e<=54867||54869<=e&&e<=54895||54897<=e&&e<=54923||54925<=e&&e<=54951||54953<=e&&e<=54979||54981<=e&&e<=55007||55009<=e&&e<=55035||55037<=e&&e<=55063||55065<=e&&e<=55091||55093<=e&&e<=55119||55121<=e&&e<=55147||55149<=e&&e<=55175||55177<=e&&e<=55203?10:9757==e||9977==e||9994<=e&&e<=9997||127877==e||127938<=e&&e<=127940||127943==e||127946<=e&&e<=127948||128066<=e&&e<=128067||128070<=e&&e<=128080||128110==e||128112<=e&&e<=128120||128124==e||128129<=e&&e<=128131||128133<=e&&e<=128135||128170==e||128372<=e&&e<=128373||128378==e||128400==e||128405<=e&&e<=128406||128581<=e&&e<=128583||128587<=e&&e<=128591||128675==e||128692<=e&&e<=128694||128704==e||128716==e||129304<=e&&e<=129308||129310<=e&&e<=129311||129318==e||129328<=e&&e<=129337||129341<=e&&e<=129342||129489<=e&&e<=129501?13:127995<=e&&e<=127999?14:8205==e?15:9792==e||9794==e||9877<=e&&e<=9878||9992==e||10084==e||127752==e||127806==e||127859==e||127891==e||127908==e||127912==e||127979==e||127981==e||128139==e||128187<=e&&e<=128188||128295==e||128300==e||128488==e||128640==e||128658==e?16:128102<=e&&e<=128105?17:11}return this.nextBreak=function(e,t){if((t=void 0===t?0:t)<0)return 0;if(!(t>=e.length-1))for(var n,r=s(l(e,t)),o=[],i=t+1;i<e.length;i++)if(n=i-1,!(55296<=(a=e).charCodeAt(n)&&a.charCodeAt(n)<=56319&&56320<=a.charCodeAt(n+1)&&a.charCodeAt(n+1)<=57343)){var a=s(l(e,i));if(function(e,t,n){var r=[e].concat(t).concat([n]),o=r[r.length-2],i=r.lastIndexOf(14);if(1<i&&r.slice(1,i).every(function(e){return 3==e})&&-1==[3,13,17].indexOf(e))return 1;if(0<(i=r.lastIndexOf(4))&&r.slice(1,i).every(function(e){return 4==e})&&-1==[12,4].indexOf(o))return r.filter(function(e){return 4==e}).length,1;if(0!=o||1!=n){if(2==o||0==o||1==o)return 14==n&&t.every(function(e){return 3==e}),1;if(2==n||0==n||1==n)return 1;if(6!=o||6!=n&&7!=n&&9!=n&&10!=n)if(9!=o&&7!=o||7!=n&&8!=n)if(10!=o&&8!=o||8!=n)if(3!=n&&15!=n)if(5!=n)if(12!=o)return e=-1!=r.indexOf(3)?r.lastIndexOf(3)-1:r.length-2,-1!=[13,17].indexOf(r[e])&&r.slice(1+e,-1).every(function(e){return 3==e})&&14==n?void 0:!(15==o&&-1!=[16,17].indexOf(n)||-1==t.indexOf(4)&&4==o&&4==n)}}(r,o,a))return i;o.push(a)}return e.length},this.splitGraphemes=function(e){for(var t,n=[],r=0;(t=this.nextBreak(e,r))<e.length;)n.push(e.slice(r,t)),r=t;return r<e.length&&n.push(e.slice(r)),n},this.iterateGraphemes=function(n){var r=0,e={next:function(){var e,t;return(t=this.nextBreak(n,r))<n.length?(e=n.slice(r,t),r=t,{value:e,done:!1}):r<n.length?(e=n.slice(r),r=n.length,{value:e,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(e[Symbol.iterator]=function(){return e}),e},this.countGraphemes=function(e){for(var t,n=0,r=0;(t=this.nextBreak(e,r))<e.length;)r=t,n++;return r<e.length&&n++,n},this}e.exports&&(e.exports=t)})),u=function(e,t,n){for(var r=l.iterateGraphemes(e.substring(t)),o="",i=0;i<n-t;i++){var a=r.next();if(o+=a.value,a.done)break}return o},c=function(e,t,n,r,o,i,a){return{start:{line:e,column:t,offset:n},end:{line:r,column:o,offset:i},source:a||null}},i=e(function(e,t){e.exports=function(){"use strict";var r="",o,d=e;function e(e,t){if(typeof e!=="string")throw new TypeError("expected a string");if(t===1)return e;if(t===2)return e+e;var n=e.length*t;if(o!==e||typeof o==="undefined"){o=e;r=""}else if(r.length>=n)return r.substr(0,n);while(n>r.length&&t>1){if(t&1)r+=e;t>>=1;e+=e}r+=e;r=r.substr(0,n);return r}"use strict";var l=function e(t,n,r){if(t==null||n==null)return t;var o=String(t);var i=typeof n==="number"?n:parseInt(n,10);if(isNaN(i)||!isFinite(i))return o;var a=o.length;if(a>=i)return o;var l=r==null?"":String(r);if(l==="")l=" ";var s=i-a;while(l.length<s)l+=l;var u=l.length>s?l.substr(0,s):l;return u+o},m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))e[r]=n[r]}return e};function y(e,t,n,r){var o=String(t);var i=l(o,n," ");var a=d(" ",r.tabSize);return i+" | "+e.replace(/\t/g,a)}function h(e,n,t,r,o){return e.slice(n,t).map(function(e,t){return y(e,n+t+1,r,o)}).join("\n")}var b={extraLines:2,tabSize:4},t;return function e(t,n,r,o){o=m({},b,o);var i=t.split(/\r\n?|\n|\f/);var a=Math.max(1,n-o.extraLines)-1;var l=Math.min(n+o.extraLines,i.length);var s=String(l).length;var u=h(i,a,n,s,o);var c=y(i[n-1].substring(0,r-1),n,s,o);var p=d(" ",c.length)+"^";var f=h(i,n,l,s,o);return[u,p,f].filter(Boolean).join("\n")}}()}),n=(new Error).stack,a=function(e){var t=Object.create(SyntaxError.prototype);return Object.assign(t,e,{name:"SyntaxError"}),Object.defineProperty(t,"stack",{get:function(){return n?n.replace(/^(.+\n){1,3}/,String(t)+"\n"):""}}),t},p=function(e,t,n,r,o){throw a({message:r?e+"\n"+i(t,r,o):e,rawMessage:e,source:n,line:r,column:o})},f={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"Unexpected token <"+e+"> at "+n.filter(Boolean).join(":")}},s={unexpectedSymbol:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"Unexpected symbol <"+e+"> at "+n.filter(Boolean).join(":")}},d={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},o={"{":d.LEFT_BRACE,"}":d.RIGHT_BRACE,"[":d.LEFT_BRACKET,"]":d.RIGHT_BRACKET,":":d.COLON,",":d.COMMA},m={true:d.TRUE,false:d.FALSE,null:d.NULL},y={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},h={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},b={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function g(e){return"1"<=e&&e<="9"}function v(e){return"0"<=e&&e<="9"}function O(e){return"e"===e||"E"===e}function T(e,t,n,r){var o=e.charAt(t);if("\r"===o)n++,r=1,"\n"===e.charAt(++t)&&t++;else if("\n"===o)t++,n++,r=1;else{if("\t"!==o&&" "!==o)return null;t++,r++}return{index:t,line:n,column:r}}function j(e,t,n,r){e=e.charAt(t);return e in o?{type:o[e],line:n,column:r+1,index:t+1,value:null}:null}function A(e,t,n,r){for(var o in m)if(m.hasOwnProperty(o)&&e.substr(t,o.length)===o)return{type:m[o],line:n,column:r+o.length,index:t+o.length,value:o};return null}function E(e,t,n,r){for(var o=t,i=y._START_;t<e.length;){var a=e.charAt(t);switch(i){case y._START_:if('"'!==a)return null;t++,i=y.START_QUOTE_OR_CHAR;break;case y.START_QUOTE_OR_CHAR:if("\\"===a)t++,i=y.ESCAPE;else{if('"'===a)return t++,{type:d.STRING,line:n,column:r+t-o,index:t,value:e.slice(o,t)};t++}break;case y.ESCAPE:if(!(a in h))return null;if(t++,"u"===a)for(var l=0;l<4;l++){var s=e.charAt(t);if(!s||!(v(s=s)||"a"<=s&&s<="f"||"A"<=s&&s<="F"))return null;t++}i=y.START_QUOTE_OR_CHAR}}}function P(e,t,n,r){var o=t,i=t,a=b._START_;e:for(;t<e.length;){var l=e.charAt(t);switch(a){case b._START_:if("-"===l)a=b.MINUS;else if("0"===l)i=t+1,a=b.ZERO;else{if(!g(l))return null;i=t+1,a=b.DIGIT}break;case b.MINUS:if("0"===l)i=t+1,a=b.ZERO;else{if(!g(l))return null;i=t+1,a=b.DIGIT}break;case b.ZERO:if("."===l)a=b.POINT;else{if(!O(l))break e;a=b.EXP}break;case b.DIGIT:if(v(l))i=t+1;else if("."===l)a=b.POINT;else{if(!O(l))break e;a=b.EXP}break;case b.POINT:if(!v(l))break e;i=t+1,a=b.DIGIT_FRACTION;break;case b.DIGIT_FRACTION:if(v(l))i=t+1;else{if(!O(l))break e;a=b.EXP}break;case b.EXP:if("+"!==l&&"-"!==l){if(!v(l))break e;i=t+1}a=b.EXP_DIGIT_OR_SIGN;break;case b.EXP_DIGIT_OR_SIGN:if(!v(l))break e;i=t+1}t++}return 0<i?{type:d.NUMBER,line:n,column:r+i-o,index:i,value:e.slice(o,i)}:null}var x={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},S={_START_:0,KEY:1,COLON:2},C={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},w={loc:!0,source:null};function N(e,t,n){t=0<t.length?t[t.length-1].loc.end:{line:1,column:1};p(f.unexpectedEnd(),e,n.source,t.line,t.column)}var R={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},_=['"',"\\","/"];function I(e){for(var t="",n=0;n<e.length;n++){var r=e.charAt(n);if("\\"===r){n++;var o=e.charAt(n);if("u"===o)t+=function(e){for(var t=0,n=0;n<4;n++)t=16*t+parseInt(e[n],16);return String.fromCharCode(t)}(e.substr(n+1,4)),n+=4;else if(-1!==_.indexOf(o))t+=o;else{if(!(o in R))break;t+=R[o]}}else t+=r}return t}function M(e,t,n,r){for(var o=void 0,i={type:"Property",key:null,value:null},a=S._START_;n<t.length;){var l=t[n];switch(a){case S._START_:if(l.type!==d.STRING)return null;var s={type:"Identifier",value:I(e.slice(l.loc.start.offset+1,l.loc.end.offset-1)),raw:l.value};r.loc&&(s.loc=l.loc),o=l,i.key=s,a=S.KEY,n++;break;case S.KEY:l.type===d.COLON?(a=S.COLON,n++):p(f.unexpectedToken(u(e,l.loc.start.offset,l.loc.end.offset),r.source,l.loc.start.line,l.loc.start.column),e,r.source,l.loc.start.line,l.loc.start.column);break;case S.COLON:s=K(e,t,n,r);return i.value=s.value,r.loc&&(i.loc=c(o.loc.start.line,o.loc.start.column,o.loc.start.offset,s.value.loc.end.line,s.value.loc.end.column,s.value.loc.end.offset,r.source)),{value:i,index:s.index}}}}function K(e,t,n,r){t=t[n],n=function(e,t,n,r){var o=t[n],i=null;switch(o.type){case d.STRING:i=I(e.slice(o.loc.start.offset+1,o.loc.end.offset-1));break;case d.NUMBER:i=Number(o.value);break;case d.TRUE:i=!0;break;case d.FALSE:i=!1;break;case d.NULL:i=null;break;default:return null}return t={type:"Literal",value:i,raw:o.value},r.loc&&(t.loc=o.loc),{value:t,index:n+1}}.apply(void 0,arguments)||function(e,t,n,r){for(var o=void 0,i={type:"Object",children:[]},a=x._START_;n<t.length;){var l=t[n];switch(a){case x._START_:if(l.type!==d.LEFT_BRACE)return null;o=l,a=x.OPEN_OBJECT,n++;break;case x.OPEN_OBJECT:if(l.type===d.RIGHT_BRACE)return r.loc&&(i.loc=c(o.loc.start.line,o.loc.start.column,o.loc.start.offset,l.loc.end.line,l.loc.end.column,l.loc.end.offset,r.source)),{value:i,index:n+1};var s=M(e,t,n,r);i.children.push(s.value),a=x.PROPERTY,n=s.index;break;case x.PROPERTY:if(l.type===d.RIGHT_BRACE)return r.loc&&(i.loc=c(o.loc.start.line,o.loc.start.column,o.loc.start.offset,l.loc.end.line,l.loc.end.column,l.loc.end.offset,r.source)),{value:i,index:n+1};l.type===d.COMMA?(a=x.COMMA,n++):p(f.unexpectedToken(u(e,l.loc.start.offset,l.loc.end.offset),r.source,l.loc.start.line,l.loc.start.column),e,r.source,l.loc.start.line,l.loc.start.column);break;case x.COMMA:s=M(e,t,n,r);s?(n=s.index,i.children.push(s.value),a=x.PROPERTY):p(f.unexpectedToken(u(e,l.loc.start.offset,l.loc.end.offset),r.source,l.loc.start.line,l.loc.start.column),e,r.source,l.loc.start.line,l.loc.start.column)}}N(e,t,r)}.apply(void 0,arguments)||function(e,t,n,r){for(var o,i=void 0,a={type:"Array",children:[]},l=C._START_;n<t.length;)switch(o=t[n],l){case C._START_:if(o.type!==d.LEFT_BRACKET)return null;i=o,l=C.OPEN_ARRAY,n++;break;case C.OPEN_ARRAY:if(o.type===d.RIGHT_BRACKET)return r.loc&&(a.loc=c(i.loc.start.line,i.loc.start.column,i.loc.start.offset,o.loc.end.line,o.loc.end.column,o.loc.end.offset,r.source)),{value:a,index:n+1};var s=K(e,t,n,r);n=s.index,a.children.push(s.value),l=C.VALUE;break;case C.VALUE:if(o.type===d.RIGHT_BRACKET)return r.loc&&(a.loc=c(i.loc.start.line,i.loc.start.column,i.loc.start.offset,o.loc.end.line,o.loc.end.column,o.loc.end.offset,r.source)),{value:a,index:n+1};o.type===d.COMMA?(l=C.COMMA,n++):p(f.unexpectedToken(u(e,o.loc.start.offset,o.loc.end.offset),r.source,o.loc.start.line,o.loc.start.column),e,r.source,o.loc.start.line,o.loc.start.column);break;case C.COMMA:s=K(e,t,n,r);n=s.index,a.children.push(s.value),l=C.VALUE}N(e,t,r)}.apply(void 0,arguments);if(n)return n;p(f.unexpectedToken(u(e,t.loc.start.offset,t.loc.end.offset),r.source,t.loc.start.line,t.loc.start.column),e,r.source,t.loc.start.line,t.loc.start.column)}return function(e,t){var n=function(e,t){for(var n=1,r=1,o=0,i=[];o<e.length;){var a=[e,o,n,r],l=T.apply(void 0,a);l?(o=l.index,n=l.line,r=l.column):(l=j.apply(void 0,a)||A.apply(void 0,a)||E.apply(void 0,a)||P.apply(void 0,a))?(a={type:l.type,value:l.value,loc:c(n,r,o,l.line,l.column,l.index,t.source)},i.push(a),o=l.index,n=l.line,r=l.column):p(s.unexpectedSymbol(u(e,o,o+1),t.source,n,r),e,t.source,n,r)}return i}(e,t=Object.assign({},w,t)),r=(0===n.length&&N(e,n,t),K(e,n,0,t));if(r.index===n.length)return r.value;n=n[r.index];p(f.unexpectedToken(u(e,n.loc.start.offset,n.loc.end.offset),t.source,n.loc.start.line,n.loc.start.column),e,t.source,n.loc.start.line,n.loc.start.column)}},"object"==typeof r&&void 0!==n?n.exports=t():"function"==typeof define&&define.amd?define(t):e.jsonToAst=t()}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.jsonpos=n.getLocation=n.getAstByString=n.getAstByObject=void 0;let r=e("./lib/parse"),o=(Object.defineProperty(n,"getAstByObject",{enumerable:!0,get:function(){return r.getAstByObject}}),Object.defineProperty(n,"getAstByString",{enumerable:!0,get:function(){return r.getAstByString}}),e("./lib/location"));Object.defineProperty(n,"getLocation",{enumerable:!0,get:function(){return o.getLocation}}),n.jsonpos=function(e,t){return o.getLocation("string"==typeof e?r.getAstByString(e):r.getAstByObject(e),t)}},{"./lib/location":26,"./lib/parse":27}],26:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getLocation=void 0,n.getLocation=function(e,{dataPath:t,markIdentifier:i=!1}){e=e.jsonAST;let a=Array.isArray(t)?t:(t.startsWith(".")?t.slice(1):t).split(".").filter(e=>e),l=e=>{return e=e,"."+a.slice(0,e).join(".")+` [query: ${a.join(".")}]`};return{start:null==(t=a.reduce((e,t,n)=>{if("Object"===e.type){var r,o=e.children.find(e=>e.key.value===t);if(o)return{key:o,value:r}=o,i&&n===a.length-1?o:r;throw new Error(`No such property ${t} in `+l(n))}if("Array"!==e.type)return e;o=Number(t);if(isNaN(o))throw new Error(`Invalid non-numeric array index "${t}" `+"in array at "+l(n));if(o<0||o>=e.children.length)throw new RangeError(`Index ${o} out-of-bounds in array of `+`size ${e.children.length} at `+l(n));return e.children,e.children[Number(t)]},e).loc)?void 0:t.start,end:null==t?void 0:t.end}}},{}],27:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAstByObject=n.getAstByString=void 0;let r=e("json-to-ast");function o(e,t){var n=r(e,{loc:!0});return{json:t||JSON.parse(e),jsonString:e,jsonAST:n}}n.getAstByString=o,n.getAstByObject=function(e,t=4){return o(JSON.stringify(e,null,t))}},{"json-to-ast":24}],28:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});let j=e("core-types-json-schema"),A=e("./utils/sharedUtils"),E=e("./utils/constants"),P=e("./utils/nosqlUtils"),l=e("./utils/constants-nosql");Draw.loadPlugin(function(p){var e=document.createElement("div");e.style.userSelect="none",e.style.overflow="hidden",e.style.padding="10px",e.style.height="100%";let r=document.createElement("textarea"),t=(r.style.height="200px",r.style.width="100%","-- click a nosql type button");r.value=t,mxUtils.br(e),e.appendChild(r);var n=p.menus.get("exportAs");let o="tonosql=To NoSQL",i=(n&&!window.VsCodeApi||(o="tonosql=Export As NoSQL"),mxResources.parse(o),new mxWindow(mxResources.get("tonosql"),e,document.body.offsetWidth-480,140,320,320,!0,!0));i.destroyOnClose=!1,i.setMaximizable(!1),i.setResizable(!1),i.setClosable(!0),mxUtils.br(e);var a=mxUtils.button(mxResources.get("reset"),function(){r.value=t}),a=(a.style.marginTop="8px",a.style.marginRight="4px",a.style.padding="4px",e.appendChild(a),mxUtils.button("OpenAPI",function(){{var t="openapi",n=(0,A.getMermaidDiagramDb)(p,t),n=(0,P.dbToOpenApi)(n);let e="";if("openapi"!=t)throw new Error(`type:${t} is not supported`);e=JSON.stringify(n,null,2),r.value=e}}));a.style.marginTop="8px",a.style.padding="4px",e.appendChild(a),p.actions.addAction("tonosql",function(){i.setVisible(!i.isVisible()),i.isVisible()&&r.focus()});let f,d,m,y=[],h=null,b=null,g=0,v;e=document.createElement("div");e.style.userSelect="none",e.style.overflow="hidden",e.style.padding="10px",e.style.height="100%";let O=document.createElement("textarea"),T=(O.style.height="200px",O.style.width="100%",O.value=l.defaultResetOpenApi,mxUtils.br(e),e.appendChild(O),mxResources.parse("fromNoSql=From NoSQL"),new mxWindow(mxResources.get("fromNoSql"),e,document.body.offsetWidth-480,140,320,320,!0,!0));T.destroyOnClose=!1,T.setMaximizable(!1),T.setResizable(!1),T.setClosable(!0),mxUtils.br(e);a=mxUtils.button("Reset OpenAPI",function(){O.value=l.defaultResetOpenApi}),a.style.marginTop="8px",a.style.marginRight="4px",a.style.padding="4px",e.appendChild(a),a=mxUtils.button("Insert OpenAPI",function(){var t,n=O.value,r="openapi";y=[],h=null,b=null;try{let e=null;var o={title:"nosql default options",version:E.pluginVersion};if("openapi"!=r)throw new Error(`type:${r} is not supported`);var i,a,l=JSON.parse(n),s=(0,j.convertOpenApiToCoreTypes)(l)["data"],u=(0,j.convertCoreTypesToJsonSchema)(s)["data"],c=((0,j.jsonSchemaDocumentToOpenApi)(u,o),null==(t=null===(e=l)||void 0===e?void 0:e.components)?void 0:t.schemas);c&&(i=(0,P.ConvertOpenApiToDatabaseModel)(c),f=i.ForeignKeyList,d=i.PrimaryKeyList,m=i.TableList,v=m.length,a=(0,A.CreateTableUI)(p,T,m,y,b,h,f,g,r))&&(y=a.cells,g=a.dx,h=a.tableCell,b=a.rowCell)}catch(e){console.log("unable to serialize the response:"+r),console.log(e)}}),a.style.marginTop="8px",a.style.padding="4px",e.appendChild(a),p.actions.addAction("fromNoSql",function(){T.setVisible(!T.isVisible()),T.isVisible()&&O.focus()}),e=p.menus.get("insert");if(e){let r=e.funct;e.funct=function(...e){var[t,n]=e;r.apply(this,e),p.menus.addMenuItems(t,["fromNoSql"],n)}}if(n&&!window.VsCodeApi){let r=n.funct;n.funct=function(...e){var[t,n]=e;r.apply(this,e),p.menus.addMenuItems(t,["tonosql"],n)}}else{a=p.menus.get("file");if(a&&a.enabled){let r=a.funct;a.funct=function(...e){var[t,n]=e;r.apply(this,e),p.menus.addMenuItems(t,["tonosql"],n)}}}})},{"./utils/constants":30,"./utils/constants-nosql":29,"./utils/nosqlUtils":31,"./utils/sharedUtils":32,"core-types-json-schema":1}],29:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validJSONSchemaTypes=n.defaultResetOpenApi=n.defaultReset=void 0;e=e("./constants");n.defaultReset=`/*
	Drawio default value
	Plugin: nosql
	Version: ${e.pluginVersion}
*/


export interface WeatherForecast {
  /** @format date-time */
  date?: string;
  /** @format int32 */
  temperatureC?: number;
  /** @format int32 */
  temperatureF?: number;
  summary?: string | null;
  nestedProp: string[];
  children?: Child[];
}

export interface Child {
  name: string
}
    `,n.defaultResetOpenApi=`
{
  "openapi": "3.0.0",
  "info": {
    "title": "nosql plugin sample",
    "version": "${e.pluginVersion}",
    "x-comment": "Generated by core-types-json-schema (https://github.com/grantila/core-types-json-schema)"
  },
  "paths": {},
  "components": {
    "schemas": {
      "WeatherForecast": {
        "properties": {
          "date": {
            "title": "WeatherForecast.date",
            "description": "@format date-time",
            "type": "string"
          },
          "temperatureC": {
            "title": "WeatherForecast.temperatureC",
            "description": "@format int32",
            "type": "number"
          },
          "temperatureF": {
            "title": "WeatherForecast.temperatureF",
            "description": "@format int32",
            "type": "number"
          },
          "summary": {
            "title": "WeatherForecast.summary",
            "nullable": true,
            "type": "string"
          },
          "nestedProp": {
            "items": {
              "title": "WeatherForecast.nestedProp.[]",
              "type": "string"
            },
            "title": "WeatherForecast.nestedProp",
            "type": "array"
          },
          "child": {
            "$ref": "#/components/schemas/Child",
            "title": "WeatherForecast.child"
          }
        },
        "required": [
          "nestedProp"
        ],
        "additionalProperties": false,
        "title": "WeatherForecast",
        "type": "object"
      },
      "Child": {
        "properties": {
          "name": {
            "title": "Child.name",
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "additionalProperties": false,
        "title": "Child",
        "type": "object"
      }
    }
  }
}
    `;n.validJSONSchemaTypes=["string","number","integer","boolean","object","array","null","any"]},{"./constants":30}],30:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.objectKeyword=n.arrayKeyword=n.nullableKeyword=n.enumKeyword=n.formatKeyword=n.commentColumnQuantifiers=n.pluginVersion=void 0,n.pluginVersion="0.0.6",n.commentColumnQuantifiers={Start:"/**",End:"*/"},n.formatKeyword="@format",n.enumKeyword="enum",n.nullableKeyword="nullable",n.arrayKeyword="array",n.objectKeyword="object"},{}],31:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.dbToOpenApi=function(u){var e={openapi:"3.0.0",info:{title:"drawio nosql export",version:g.pluginVersion,"x-comment":"Generated by from drawio uml using plugin nosql"},paths:{},components:{schemas:{}}},c={},r=u.getEntities();for(let s in r)if(Object.prototype.hasOwnProperty.call(r,s)){let l=s;var o=r[s],i=(0,v.getCommentIndexes)(s);let t="",n="";if(-1<i.start&&-1<i.end){let e=l.toString().trim();var a=(i=(0,v.getCommentIndexes)(e)).start,p=i.end;l=e.substring(0,i.beforeStart).trim(),-1!==(e=e.substring(a,p).trim()).indexOf(g.formatKeyword)&&(i=e.indexOf(g.formatKeyword),n=e.substring(i+g.formatKeyword.length).trim(),e=e.substring(0,i)),e&&(t=e)}if(!c[l]){c[l]={type:g.objectKeyword,title:l,additionalProperties:!1,properties:{}},t&&(c[l].description=t.trim()),n&&(c[l].format=n.trim());for(let e=0;e<o.attributes.length;e++){var f=o.attributes[e],d=f.attributeName.trim();if(d&&!c[l].properties[d]){var m=null!=(m=null==(m=f.attributeType)?void 0:m.trim().split(" "))?m:[];let e=!1,o=null!=(m=m[0])?m:"string",i=(-1!==d.indexOf(g.enumKeyword)&&2==(m=d.split(" ")).length&&-1!==O.validJSONSchemaTypes.indexOf(m[0])&&m[1]==g.enumKeyword&&(e=!0,o=m[0]),""),a="",t=null;if(null!=(m=f.attributeType)&&m.includes(g.commentColumnQuantifiers.Start)&&null!=(m=f.attributeType)&&m.includes(g.commentColumnQuantifiers.End)){let e=f.attributeType;var m=(0,v.getCommentIndexes)(e),y=m.start,h=m.end,m=e.substring(0,m.beforeStart).trim();if(m)try{t=JSON.parse(m)}catch(e){console.log(`Error parsing raw enum values: ${m} Message: `+JSON.stringify(e))}-1!==(e=e.substring(y,h)).indexOf(g.formatKeyword)&&(m=e.indexOf(g.formatKeyword),a=e.substring(m+g.formatKeyword.length).trim(),e=e.substring(0,m)),e.trim()&&(i=e.trim())}if(e)c[l].enum||(t&&(c[l].enum=t),i.trim()&&(c[l].description=i.trim()),a.trim()&&(c[l].format=a.trim()),c[l].type=o);else{let e=null,t=!1,n=null,r=null;if(-1===O.validJSONSchemaTypes.indexOf(o)&&(-1!=o.indexOf("[]")&&(y=o.replace("[]",""),-1!=O.validJSONSchemaTypes.indexOf(y))&&(n={type:y},o="array"),-1==O.validJSONSchemaTypes.indexOf(o))&&(t=!0,e="#/components/schemas/"+(0,v.RemoveNameQuantifiers)(o)),-1!==["array","object"].indexOf(o)){h=u.getRelationships().filter(e=>e.entityA==s);let t=`[${s}.${d}]`;m=h.find(e=>-1!=e.roleA.indexOf(t));m&&(b=(0,v.getCommentIndexes)(m.entityB),m=m.entityB.substring(0,b.beforeStart).trim(),e="#/components/schemas/"+m),e&&("array"==o&&(n={$ref:e}),"object"==o)&&(r={$ref:e})}var b={title:l+"."+d,type:o};r&&(b.additionalProperties=r),n&&(b.items=n),null!=(m=f.attributeType)&&m.includes("nullable")&&(b.nullable=!0),!e||null!==r&&void 0!==r&&r.$ref||null!==n&&void 0!==n&&n.$ref||(b.$ref=e),t&&delete b.type,i.trim()&&!e&&(b.description=i.trim()),a.trim()&&(b.items?b.items.format=a.trim():b.format=a.trim()),c[l].properties[f.attributeName]=b}}}0===Object.keys(c[l].properties).length&&delete c[l].properties}}return e.components.schemas=c,e},n.GeneratePropertyModel=h,n.ConvertOpenApiToDatabaseModel=function(t){var n,r,o;var i={Dialect:"nosql",TableList:[],PrimaryKeyList:[],ForeignKeyList:[]},a={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var l,s,u,c=t[e],p=(0,v.dbTypeEnds)(e),f={Name:(0,v.dbTypeEnds)(e),Properties:[]};for(u in c.enum?(l=c.enum,s=c.type+" "+g.enumKeyword,l={enum:l},c.description&&(l.description=c.description),c.format&&(l.format=c.format),e=h(e,s,l),f.Properties.push(e)):(s=(0,v.generateComment)(c.description,c.format))&&(f.Name+=" "+s),c.properties)if(Object.prototype.hasOwnProperty.call(c.properties,u)){var d=c.properties[u];let e=null;d.$ref?e=d.$ref.split("/").pop():d.items&&typeof d.items==g.objectKeyword?e=null==(n=d.items.$ref)?void 0:n.split("/").pop():d.additionalProperties&&"object"==typeof d.additionalProperties&&(e=null==(n=d.additionalProperties.$ref)?void 0:n.split("/").pop()),e&&(y=t[e],e=y&&!y.enum&&(y=(0,v.generateComment)(y.description,y.format))?(0,v.dbTypeEnds)(e)+" "+y:(0,v.dbTypeEnds)(e)),e&&!d.type&&(d.type=e);var m,y=h(f.Name,u,d);e&&(d={PrimaryKeyTableName:f.Name,ReferencesTableName:e,PrimaryKeyName:(0,v.dbTypeEnds)(u),ReferencesPropertyName:"",IsDestination:!1},m={ReferencesTableName:f.Name,PrimaryKeyTableName:e,ReferencesPropertyName:(0,v.dbTypeEnds)(u),PrimaryKeyName:"",IsDestination:!0},i.ForeignKeyList.push(m),i.ForeignKeyList.push(d),y.IsForeignKey=!0),f.Properties.push(y)}i.TableList.push(f),a[p]||(a[p]=f)}for(let n=0;n<i.ForeignKeyList.length;n++){let t=i.ForeignKeyList[n];if(!t.ReferencesPropertyName){let e=null==(r=i.TableList.find(e=>e.Name==t.ReferencesTableName))?void 0:r.Properties[0];(e=e||(null==(r=a[t.ReferencesTableName])?void 0:r.Properties[0]))&&(i.ForeignKeyList[n].ReferencesPropertyName=e.Name)}if(!t.PrimaryKeyName){let e=null==(r=i.TableList.find(e=>e.Name==t.PrimaryKeyTableName))?void 0:r.Properties[0];(e=e||(null==(o=a[t.PrimaryKeyTableName])?void 0:o.Properties[0]))&&(i.ForeignKeyList[n].PrimaryKeyName=e.Name)}}return i};let g=e("./constants"),v=e("./sharedUtils"),O=e("./constants-nosql");function h(e,t,n){let r,o=(null!=(r=n.type)?r:g.objectKeyword).toString();o===g.arrayKeyword&&n.items&&typeof n.items===g.objectKeyword&&(n.items.format&&!n.format&&(n.format=n.items.format),n.items.type)&&(o=n.items.type+"[]"),n.enum?o=""+JSON.stringify(n.enum):n.nullable&&(o+=" "+g.nullableKeyword);n=(0,v.generateComment)(n.description,n.format),n&&(o+=" "+n),n={Name:(0,v.dbTypeEnds)(t),IsPrimaryKey:!1,IsForeignKey:!1,ColumnProperties:o,TableName:(0,v.dbTypeEnds)(e),ForeignKey:[]};return n}},{"./constants":30,"./constants-nosql":29,"./sharedUtils":32}],32:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GetColumnQuantifiers=P,n.removeHtml=r,n.dbTypeEnds=y,n.RemoveNameQuantifiers=x,n.getDbLabel=S,n.entityName=function(e,t){let n="";e&&(n+=""+e);t&&(n+=` ${E.formatKeyword} `+t);n=n&&`/** ${n=n.trim()} */`;return n},n.getCommentIndexes=C,n.getMermaidDiagramDb=function(e,o){var t=e.editor.graph.getModel(),i={},a=[];for(var l in t.cells)if(Object.hasOwnProperty.call(t.cells,l)){var s=t.cells[l];if(-1!==s.mxObjectId.indexOf("mxCell")&&s.style&&s.style.trim().startsWith("swimlane;")){let t=s.value.toString(),n="",r="";if(null!==t&&void 0!==t&&t.includes(E.commentColumnQuantifiers.Start)&&null!==t&&void 0!==t&&t.includes(E.commentColumnQuantifiers.End)){let e=t.toString();var l=C(e),u=l.start,c=l.end;t=e.substring(0,l.beforeStart),-1!==(e=e.substring(u,c)).indexOf(E.formatKeyword)&&(l=e.indexOf(E.formatKeyword),r=e.substring(l+E.formatKeyword.length).trim(),e=e.substring(0,l)),e&&(n=e)}var p={name:x(t),attributes:[]},u=N(n,r);u&&(p.name+=" "+u);for(let e=0;e<s.children.length;e++){var f=s.children[e];if(-1!==f.mxObjectId.indexOf("mxCell")&&f.style&&f.style.trim().startsWith("shape=partialRectangle")){var d=P(o),m=S(f.value,d),y=f.children.find(t=>-1!==["FK","PK"].findIndex(e=>e==t.value.toUpperCase())||-1!=t.value.toUpperCase().indexOf("PK,"));if(y&&(m.attributeKeyType=y.value,"PK"!=m.attributeKeyType)&&-1!=m.attributeKeyType.indexOf("PK")&&(m.attributeKeyType="PK"),p.attributes.push(m),f.edges&&f.edges.length)for(let e=0;e<f.edges.length;e++){var h=f.edges[e];if(-1!==h.mxObjectId.indexOf("mxCell")&&h.style&&-1!=h.style.indexOf("endArrow=")&&h.source&&h.source.value&&h.target&&h.target.value){var b="endArrow=";let t=-1!=h.style.indexOf(b)?h.style.substring(h.style.indexOf(b)+b.length,h.style.substring(h.style.indexOf(b)+b.length).indexOf(";")+h.style.indexOf(b)+b.length):"";b="startArrow=";let n=-1!=h.style.indexOf(b)?h.style.substring(h.style.indexOf(b)+b.length,h.style.substring(h.style.indexOf(b)+b.length).indexOf(";")+h.style.indexOf(b)+b.length):"";var b=["open","many"],g=t&&-1!=b.findIndex(e=>-1!=t.toLocaleLowerCase().indexOf(e)),b=n&&-1!=b.findIndex(e=>-1!=n.toLocaleLowerCase().indexOf(e));if(!b&&!g||b&&g){if(b&&g){var b=S(h.source.value,d),v=(b.attributeKeyType="PK",j=b.attributeName,x(h.source.parent.value)),O=S(h.target.value,d),T=(O.attributeKeyType="PK",A=O.attributeName,x(h.target.parent.value)),b={name:x(v)+"_"+x(T),attributes:[b,O]};i[b.name]||(i[b.name]=b);let t={entityA:v,entityB:b.name,relSpec:{cardA:"ZERO_OR_MORE",cardB:"ONLY_ONE",relType:"IDENTIFYING"},roleA:`[${v}.${j}] to [${b.name}.${j}]`},n=(-1==a.findIndex(e=>e.entityA==t.entityA&&e.entityB==t.entityB&&e.roleA==t.roleA)&&a.push(t),{entityA:T,entityB:b.name,relSpec:{cardA:"ZERO_OR_MORE",cardB:"ONLY_ONE",relType:"IDENTIFYING"},roleA:`[${T}.${A}] to [${b.name}.${A}]`});-1==a.findIndex(e=>e.entityA==n.entityA&&e.entityB==n.entityB&&e.roleA==n.roleA)&&a.push(n)}}else{O=S(h.source.value,d).attributeName;let e=h.source.parent.value;var j,A,v=C(e),T=(e=-1!=v.start&&-1!=v.end?(j=e.substring(v.start,v.end).trim(),x(e=e.substring(0,v.beforeStart).trim())+" "+N(j)):x(e),h.target.value),b=S(T,d);T=b.attributeName;let t=h.target.parent.value,n=(v=C(t),t=-1!=v.start&&-1!=v.end?(A=t.substring(v.start,v.end).trim(),x(t=t.substring(0,v.beforeStart).trim())+" "+N(A)):x(t),{entityA:g?e:t,entityB:g?t:e,relSpec:{cardA:"ZERO_OR_MORE",cardB:"ONLY_ONE",relType:"IDENTIFYING"},roleA:g?`[${e}.${O}] to [${t}.${T}]`:`[${t}.${T}] to [${e}.${O}]`});-1==a.findIndex(e=>e.entityA==n.entityA&&e.entityB==n.entityB&&e.roleA==n.roleA)&&a.push(n)}}}}}if(i[p.name]){let e=2;for(;i[p.name+e.toString()];)e++;i[p.name+e.toString()]=p}else i[p.name]=p}}e=w(i,a);return e},n.GenerateDatabaseModel=w,n.generateComment=N,n.CreateTableUI=function(r,e,t,o,i,a,n,l,s){if(t.forEach(function(t){var e,n=100+t.Name.length;(a=new mxCell(t.Name,new mxGeometry(l,0,n,26),"swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=default;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=default;align=center;")).vertex=!0,i&&null!==(e=r.editor.graph.getPreferredSizeForCell(i))&&(a.geometry.width=e.width+n),o.push(a),t.Properties.forEach(function(e){e=function(e,t,n,r){var o=t.Name+(t.ColumnProperties?" "+t.ColumnProperties:""),o=((n=new mxCell(o,new mxGeometry(0,0,90,26),"shape=partialRectangle;top=0;left=0;right=0;bottom=0;align=left;verticalAlign=top;spacingTop=-2;fillColor=none;spacingLeft=64;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;")).vertex=!0,t.IsPrimaryKey&&t.IsForeignKey?"PK | FK":t.IsPrimaryKey?"PK":t.IsForeignKey?"FK":""),t=sb.cloneCell(n,o),o=(t.connectable=!1,t.style="shape=partialRectangle;top=0;left=0;bottom=0;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=180;points=[];portConstraint=eastwest;part=1;",t.geometry.width=54,t.geometry.height=26,n.insert(t),e.editor.graph.getPreferredSizeForCell(n));r&&(null!==o&&r.geometry.width<o.width+10&&(r.geometry.width=o.width+10),r.insert(n),r.geometry.height+=26);return{rowCell:n,tableCell:r}}(r,e,(t.Name,i),a);e&&(i=e.rowCell,a=e.tableCell)}),l+=a.geometry.width+40,a=null}),0<o.length){let f=r.editor.graph;var t=f.view,u=f.getGraphBounds(),c=Math.ceil(Math.max(0,u.x/t.scale-t.translate.x)+4*f.gridSize),u=Math.ceil(Math.max(0,(u.y+u.height)/t.scale-t.translate.y)+4*f.gridSize);f.setSelectionCells(f.importCells(o,c,u));let d=f.getModel(),m=P(s);n.forEach(function(r){if(r.IsDestination&&r.PrimaryKeyName&&r.ReferencesPropertyName&&r.PrimaryKeyTableName&&r.ReferencesTableName){var e,o=mxUtils.bind(this,function(e,t,n){f.insertEdge(null,null,"",n.invert?t:e,n.invert?e:t,"edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERzeroToMany;startArrow=ERzeroToOne;labelBackgroundColor=none;fontFamily=Verdana;fontSize=14;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.018;entryY=0.608;entryDx=0;entryDy=0;entryPerimeter=0;")}),i={invert:!0};let t=null,n=null;for(e in d.cells){if(t&&n)break;if(Object.hasOwnProperty.call(d.cells,e)){var a=d.cells[e];if(a.style&&a.style.trim().startsWith("swimlane;")){var l={name:a.value,attributes:[]},s=l.name==r.PrimaryKeyTableName,u=l.name==r.ReferencesTableName;if(s||u)for(let e=0;e<a.children.length&&(!t||!n);e++){var c=a.children[e];if(-1!==c.mxObjectId.indexOf("mxCell")&&c.style&&c.style.trim().startsWith("shape=partialRectangle")){var p=S(c.value,m);if(s&&y(p.attributeName)==r.PrimaryKeyName&&(t=c),u&&y(p.attributeName)==r.ReferencesPropertyName&&(n=c),t&&n)break}}}}}t&&n&&o(t,n,i)}}),f.scrollCellToVisible(f.getSelectionCell())}return e.setVisible(!1),{cells:o,rowCell:i,tableCell:a,dx:l}};let E=e("./constants");function P(e){var t={Start:'"',End:'"'};return e&&["mysql","ts","openapi"].includes(e)?(t.Start="`",t.End="`"):"sqlserver"==e&&(t.Start="[",t.End="]"),t}function r(e){var t=document.createElement("div"),e=(t.innerHTML=e,t.textContent||t.innerText||"");return t.remove(),e}function y(e){return`\`${e}\``}function x(e){return e.replace(/\[|\]|\(|\"|\'|\`/g,"").trim()}function S(e,t){let n=r(e);e=(n=n.toString().replace(/\s+/g," "))[0]==t.Start&&-1!==n.indexOf(t.End+" ")?n.indexOf(t.End+" "):n.indexOf(" "),t=n.substring(e+1).trim();return{attributeName:x(n.substring(0,e+1)),attributeType:t}}function C(e){let t=!1;return{beforeStart:(t=-1!==e.indexOf(E.commentColumnQuantifiers.Start)&&-1!==e.indexOf(E.commentColumnQuantifiers.End)?!0:t)?e.indexOf(E.commentColumnQuantifiers.Start):-1,start:t?e.indexOf(E.commentColumnQuantifiers.Start)+E.commentColumnQuantifiers.Start.length:-1,end:t?e.indexOf(E.commentColumnQuantifiers.End)-1:-1}}function w(e,t){return new class{constructor(e,t){this.entities=e,this.relationships=t}getEntities(){return this.entities}getRelationships(){return this.relationships}}(e,t)}function N(e,t){let n="";return e&&(n+=""+e),t&&(n+=` ${E.formatKeyword} `+t),n&&(n=n.trim(),n=`${E.commentColumnQuantifiers.Start} ${n} `+E.commentColumnQuantifiers.End),n}},{"./constants":30}]},{},[28]);