/**
 * File: nosql.min.js
 * Version: 0.0.7
 * Generated: 2025-10-24
 */
!function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return o(t[s][1][e]||e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.helpers=n.openApiToJsonSchema=n.jsonSchemaDocumentToOpenApi=n.convertOpenApiToCoreTypes=n.convertCoreTypesToOpenApi=n.convertJsonSchemaToCoreTypes=n.convertCoreTypesToJsonSchema=n.decorateSchema=void 0;var r=e("./lib/core-types-to-json-schema");Object.defineProperty(n,"decorateSchema",{enumerable:!0,get:function(){return r.decorateSchema}}),Object.defineProperty(n,"convertCoreTypesToJsonSchema",{enumerable:!0,get:function(){return r.convertCoreTypesToJsonSchema}});var o=e("./lib/json-schema-to-core-types");Object.defineProperty(n,"convertJsonSchemaToCoreTypes",{enumerable:!0,get:function(){return o.convertJsonSchemaToCoreTypes}});var i=e("./lib/open-api");Object.defineProperty(n,"convertCoreTypesToOpenApi",{enumerable:!0,get:function(){return i.convertCoreTypesToOpenApi}}),Object.defineProperty(n,"convertOpenApiToCoreTypes",{enumerable:!0,get:function(){return i.convertOpenApiToCoreTypes}});var s=e("openapi-json-schema");Object.defineProperty(n,"jsonSchemaDocumentToOpenApi",{enumerable:!0,get:function(){return s.jsonSchemaDocumentToOpenApi}}),Object.defineProperty(n,"openApiToJsonSchema",{enumerable:!0,get:function(){return s.openApiToJsonSchema}}),n.helpers=e("./lib/annotations")},{"./lib/annotations":2,"./lib/core-types-to-json-schema":3,"./lib/json-schema-to-core-types":4,"./lib/open-api":5,"openapi-json-schema":18}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.annotateCoreTypes=n.annotateJsonSchema=void 0;const r=e("core-types");n.annotateJsonSchema=function(e,t){const n=e.description||e.see?function(e,t){const n=()=>(0,r.ensureArray)(t).map(e=>`@see ${e}`).join("\n");if(e&&(null==t?void 0:t.length))return e+"\n\n"+n();return e||n()}(e.description,e.see):void 0;return{...t,...e.title?{title:e.title}:{},...n?{description:n}:{},...e.default?{default:e.default}:{},...e.examples?{examples:e.examples}:{},...e.comment?{$comment:e.comment}:{}}},n.annotateCoreTypes=function(e,t){var n;const{description:o,see:i}=function(e){const t=(null!=e?e:"").split("\n"),n=[];for(;t.length>0&&t[t.length-1].startsWith("@see ");)n.push(t.pop().slice(5));for(;t.length>0&&!t[t.length-1].trim();)t.pop();return{description:t.join("\n"),see:n}}(null!==(n=t.description)&&void 0!==n?n:"");return{...{...t.title?{title:t.title}:{},...t.default?{default:(0,r.stringify)(t.default)}:{},...t.examples?{examples:(0,r.stringify)(t.examples)}:{},...t.$comment?{comment:t.$comment}:{},...o?{description:o}:{},...i&&i.length>0?{see:i}:{}},...e}}},{"core-types":6}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.convertCoreTypesToJsonSchema=n.decorateSchema=void 0;const r=e("openapi-json-schema"),o=e("core-types"),i=e("./annotations");function s(e,{filename:t,sourceFilename:n,userPackage:r,userPackageUrl:o},i="core-types-json-schema",s="https://github.com/grantila/core-types-json-schema"){var a,l;void 0!==t&&(null!==(a=e.$id)&&void 0!==a||(e.$id=t));const c=r||o?r&&o?`${r} (${o})`:r||o:"",u=n?` from ${n}`:"";null!==(l=e.$comment)&&void 0!==l||(e.$comment=`Generated${u} by ${i} (${s})`+(c?` on behalf of ${c}`:""))}function a(e){const t=e.or.map(e=>l(e)),n=(0,i.annotateJsonSchema)(e,{anyOf:t});return t.length>1&&!t.some(e=>!function(e){const t=Object.keys(e).sort();return 1===t.length&&"type"===t[0]||2===t.length&&"title"===t[0]&&"type"===t[1]}(e))&&(delete n.anyOf,n.type=t.map(({type:e})=>e)),n}function l(e){if("any"===e.type)return(0,i.annotateJsonSchema)(e,c(e,{}));if("null"===e.type)return(0,i.annotateJsonSchema)(e,{type:"null"});if("boolean"===e.type)return(0,i.annotateJsonSchema)(e,c(e,{type:"boolean"}));if("string"===e.type)return(0,i.annotateJsonSchema)(e,c(e,{type:"string"}));if("number"===e.type)return(0,i.annotateJsonSchema)(e,c(e,{type:"number"}));if("integer"===e.type)return(0,i.annotateJsonSchema)(e,c(e,{type:"integer"}));if("and"===e.type)return(0,i.annotateJsonSchema)(e,{allOf:e.and.map(e=>l(e))});if("or"===e.type)return a(e);if("object"===e.type){const t=Object.keys(e.properties),n=t.filter(t=>e.properties[t].required),r=Object.fromEntries(t.map(t=>[t,l(e.properties[t].node)]));return(0,i.annotateJsonSchema)(e,c(e,{type:"object",...t.length>0?{properties:r}:{},...n.length>0?{required:n}:{},...!0===e.additionalProperties?{}:e.additionalProperties?{additionalProperties:l(e.additionalProperties)}:{additionalProperties:!1}}))}if("array"===e.type)return(0,i.annotateJsonSchema)(e,c(e,{type:"array",items:l(e.elementType)}));if("tuple"===e.type)return(0,i.annotateJsonSchema)(e,c(e,{type:"array",items:e.elementTypes.map(e=>l(e)),...!0===e.additionalItems?{}:e.additionalItems?{additionalItems:l(e.additionalItems)}:{additionalItems:!1},minItems:e.minItems}));if("ref"===e.type)return(0,i.annotateJsonSchema)(e,c(e,{$ref:(0,r.encodeRefNameJsonSchema)(e.ref)}));throw new o.UnsupportedError(`core-types node of type ${e.type} not supported`,e)}function c(e,t){return void 0!==e.const?{...t,const:e.const}:e.enum?{...t,enum:e.enum}:t}n.decorateSchema=s,n.convertCoreTypesToJsonSchema=function(e,t){const{version:n,types:r}=e;if(1!==n)throw new o.UnsupportedError(`core-types version ${n} not supported`);const i={definitions:Object.fromEntries(r.map(e=>[e.name,l(e)]))};return s(i,null!=t?t:{}),{data:i,convertedTypes:r.map(({name:e})=>e),notConvertedTypes:[]}}},{"./annotations":2,"core-types":6,"openapi-json-schema":18}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.complexProps=n.convertJsonSchemaToCoreTypes=void 0;const r=e("jsonpos"),o=e("openapi-json-schema"),i=e("core-types"),s=e("./annotations"),a=(e,t)=>({...e,path:[...e.path,t]});function l(e,t){if("boolean"==typeof e)t.throwUnsupportedError("Boolean JSON Schema definition not supported",{blob:{schema:e}});else if(function(e){return"object"==typeof e&&Object.keys(e).some(e=>n.complexProps.has(e))}(e))return function(e,t){const{then:n,else:r,allOf:o,anyOf:i,oneOf:s}=e,c=[...n?[[a(t,"then"),n]]:[],...r?[[a(t,"else"),r]]:[]],u=[...i?i.map((e,n)=>[a(a(t,"anyOf"),n),e]):[],...s?s.map((e,n)=>[a(a(t,"oneOf"),n),e]):[]],p=[...o?o.map((e,n)=>[a(a(t,"allOf"),n),e]):[]];return{type:"and",and:[{type:"or",or:c.map(([e,t])=>l(t,e))},{type:"or",or:u.map(([e,t])=>l(t,e))},{type:"and",and:p.map(([e,t])=>l(t,e))}]}}(function(e,t){const{$ref:n,type:r,enum:o,const:s,items:a,additionalItems:l,required:c,properties:u,additionalProperties:p,then:f,else:d,allOf:m,anyOf:y,oneOf:h}=e,b=m&&"object"==typeof m?m.filter(e=>e&&"object"==typeof e):null,g=y&&"object"==typeof y?y.filter(e=>e&&"object"==typeof e):null,v=h&&"object"==typeof h?h.filter(e=>e&&"object"==typeof e):null,O=(f,d)=>{var m,y,h,b,g;const v=(e,t)=>!(e&&t&&!(0,i.isEqual)(e,t));if(v(n,d.$ref)||t.throwUnsupportedError(`Cannot have $ref in a node *and* in its '${f}'`,{blob:e}),v(r,d.type)||t.throwUnsupportedError(`Cannot have 'type' in a node *and* in its '${f}'`,{blob:e}),o)if(d.enum){const e=(0,i.intersection)(o,d.enum);if(0===e.length)throw new i.MalformedTypeError("Cannot merge types with non-intersecting enums",{path:t.path,blob:{child:[...t.path,f]}});d.enum=e}else d.enum=o;if(void 0!==s)if(void 0!==d.const){if((0,i.isEqual)(s,d.const))throw new i.MalformedTypeError("Cannot merge types with mismatching const",{path:t.path,blob:{child:[...t.path,f]}})}else d.const=s;if(d.items=null!==(m=d.items)&&void 0!==m?m:a,d.additionalItems=null!==(y=d.additionalItems)&&void 0!==y?y:l,void 0===c&&void 0===d.required||(d.required=(0,i.union)(null!==(h=d.required)&&void 0!==h?h:[],null!=c?c:[])),void 0===u!=(void 0===d.properties))null!==(b=d.properties)&&void 0!==b||(d.properties=u);else if(void 0!==u){const e=u,t=d.properties,n=Object.keys(e),r=Object.keys(t),o=(0,i.union)(n,r),s={};o.forEach(n=>{void 0!==e[n]?s[n]=t[n]:void 0!==t[n]?s[n]=e[n]:s[n]={allOf:[e[n],t[n]]}})}void 0===p!=(void 0===d.additionalProperties)?null!==(g=d.additionalProperties)&&void 0!==g||(d.additionalProperties=p):void 0!==p&&(d.additionalProperties={allOf:[d.additionalProperties,p]})};return f&&"object"==typeof f&&O("then",f),d&&"object"==typeof d&&O("else",d),b&&"object"==typeof b&&b.forEach(e=>O("allOf",e)),g&&"object"==typeof g&&g.forEach(e=>O("anyOf",e)),v&&"object"==typeof v&&v.forEach(e=>O("oneOf",e)),{...f&&"object"==typeof f?{then:f}:{},...d&&"object"==typeof d?{else:d}:{},...b&&"object"==typeof b?{allOf:b}:{},...g&&"object"==typeof g?{anyOf:g}:{},...v&&"object"==typeof v?{oneOf:v}:{}}}(e,t),t);void 0===e&&t.throwUnsupportedError("Internal error",{blob:{schema:e}});const r=e=>({type:"ref",ref:(0,o.decodeRefNameJsonSchema)(e)}),u=t=>void 0===e.$ref?t:{type:"and",and:[t,r(e.$ref)]},{const:p,enum:f}=e,d={...void 0!==p?{const:p}:{},...void 0!==f?{enum:f}:{}};if(void 0===e.type)return e.$ref?{...r(e.$ref),...d}:{type:"any",...d};const m=(0,i.ensureArray)(e.type).map(n=>function(e,t,n,r){var o,i,u,p;if(c(t))return"null"===t?(0,s.annotateCoreTypes)({type:"null"},e):(0,s.annotateCoreTypes)({type:t,...n},e);if("array"===t)return Array.isArray(e.items)?(0,s.annotateCoreTypes)({type:"tuple",elementTypes:e.items.map(e=>l(e,a(r,"items"))),additionalItems:void 0===e.additionalItems||("boolean"==typeof e.additionalItems?e.additionalItems:l(e.additionalItems,a(r,"additionalItems"))),minItems:null!==(o=e.minItems)&&void 0!==o?o:0,...n},e):!1===e.items?(0,s.annotateCoreTypes)({type:"tuple",elementTypes:[],additionalItems:!1,minItems:0,...n},e):(0,s.annotateCoreTypes)({type:"array",elementType:void 0===e.items||!0===e.items?{type:"any"}:l(e.items,a(r,"items")),...n},e);if("object"===t){const t=new Set(null!==(i=e.required)&&void 0!==i?i:[]),o=null!==(u=e.additionalProperties)&&void 0!==u?u:r.defaultAdditionalProperties;return(0,s.annotateCoreTypes)({type:"object",properties:Object.fromEntries(Object.entries(null!==(p=e.properties)&&void 0!==p?p:{}).map(([e,n])=>[e,{node:l(n,a(a(r,"properties"),e)),required:t.has(e)}])),additionalProperties:"boolean"==typeof o?o:l(o,a(r,"additionalProperties")),...n},e)}r.throwUnsupportedError(`Unsupported JSON Schema type "${t}"`,{blob:{schema:e}})}(e,n,d,t));return 1===m.length?u(m[0]):u({type:"or",or:m})}n.convertJsonSchemaToCoreTypes=function(e,t={}){const n="string"==typeof e?(0,r.getAstByString)(e):(0,r.getAstByObject)(e),{json:o}=n,{definitions:s}=o,a={version:1,types:Object.keys(null!=s?s:{}).map(e=>{var o;return{...l((null!=s?s:{})[e],{locByPath(){return{path:this.path,loc:(0,r.getLocation)(n,{dataPath:this.path,markIdentifier:!0})}},path:["definitions",e],throwUnsupportedError(e,t){throw(t={...t}).path||(t.path=this.path),t.loc||(t.loc=(0,r.getLocation)(n,{dataPath:this.path,markIdentifier:!0})),new i.UnsupportedError(e,t)},defaultAdditionalProperties:null===(o=t.defaultAdditionalProperties)||void 0===o||o}),name:e}})};return{data:a,convertedTypes:a.types.map(({name:e})=>e),notConvertedTypes:[]}},n.complexProps=new Set(["anyOf","allOf","oneOf","then","else"]);const c=e=>["string","number","integer","boolean","null"].includes(e)},{"./annotations":2,"core-types":6,jsonpos:25,"openapi-json-schema":18}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.convertOpenApiToCoreTypes=n.convertCoreTypesToOpenApi=void 0;const r=e("openapi-json-schema"),o=e("./core-types-to-json-schema"),i=e("./json-schema-to-core-types");n.convertCoreTypesToOpenApi=function(e,t){const{data:n,...i}=(0,o.convertCoreTypesToJsonSchema)(e,t);return{...i,data:(0,r.jsonSchemaDocumentToOpenApi)(n,t)}},n.convertOpenApiToCoreTypes=function(e){e="string"==typeof e?JSON.parse(e):e;const t=(0,r.openApiToJsonSchema)(e);return(0,i.convertJsonSchemaToCoreTypes)(t)}},{"./core-types-to-json-schema":3,"./json-schema-to-core-types":4,"openapi-json-schema":18}],6:[function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.traverse=n.some=n.mergeLocations=n.getPositionOffset=n.locationToLineColumn=n.positionToLineColumn=n.decorateError=n.decorateErrorMeta=n.isCoreTypesError=n.throwRelatedError=n.throwUnsupportedError=n.RelatedError=n.UnsupportedError=n.MissingReferenceError=n.MalformedTypeError=n.formatSee=n.formatDefault=n.formatExamples=n.stringify=n.stripAnnotations=n.stringifyAnnotations=n.extractAnnotations=n.mergeAnnotations=n.isNonNullable=n.union=n.intersection=n.isEqual=n.hasConstEnum=n.isPrimitiveType=n.ensureArray=n.validate=n.simplify=void 0,o(e("./lib/types"),n);var i=e("./lib/simplify");Object.defineProperty(n,"simplify",{enumerable:!0,get:function(){return i.simplify}});var s=e("./lib/validate");Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return s.validate}});var a=e("./lib/util");Object.defineProperty(n,"ensureArray",{enumerable:!0,get:function(){return a.ensureArray}}),Object.defineProperty(n,"isPrimitiveType",{enumerable:!0,get:function(){return a.isPrimitiveType}}),Object.defineProperty(n,"hasConstEnum",{enumerable:!0,get:function(){return a.hasConstEnum}}),Object.defineProperty(n,"isEqual",{enumerable:!0,get:function(){return a.isEqual}}),Object.defineProperty(n,"intersection",{enumerable:!0,get:function(){return a.intersection}}),Object.defineProperty(n,"union",{enumerable:!0,get:function(){return a.union}}),Object.defineProperty(n,"isNonNullable",{enumerable:!0,get:function(){return a.isNonNullable}});var l=e("./lib/annotation");Object.defineProperty(n,"mergeAnnotations",{enumerable:!0,get:function(){return l.mergeAnnotations}}),Object.defineProperty(n,"extractAnnotations",{enumerable:!0,get:function(){return l.extractAnnotations}}),Object.defineProperty(n,"stringifyAnnotations",{enumerable:!0,get:function(){return l.stringifyAnnotations}}),Object.defineProperty(n,"stripAnnotations",{enumerable:!0,get:function(){return l.stripAnnotations}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(n,"formatExamples",{enumerable:!0,get:function(){return l.formatExamples}}),Object.defineProperty(n,"formatDefault",{enumerable:!0,get:function(){return l.formatDefault}}),Object.defineProperty(n,"formatSee",{enumerable:!0,get:function(){return l.formatSee}});var c=e("./lib/error");Object.defineProperty(n,"MalformedTypeError",{enumerable:!0,get:function(){return c.MalformedTypeError}}),Object.defineProperty(n,"MissingReferenceError",{enumerable:!0,get:function(){return c.MissingReferenceError}}),Object.defineProperty(n,"UnsupportedError",{enumerable:!0,get:function(){return c.UnsupportedError}}),Object.defineProperty(n,"RelatedError",{enumerable:!0,get:function(){return c.RelatedError}}),Object.defineProperty(n,"throwUnsupportedError",{enumerable:!0,get:function(){return c.throwUnsupportedError}}),Object.defineProperty(n,"throwRelatedError",{enumerable:!0,get:function(){return c.throwRelatedError}}),Object.defineProperty(n,"isCoreTypesError",{enumerable:!0,get:function(){return c.isCoreTypesError}}),Object.defineProperty(n,"decorateErrorMeta",{enumerable:!0,get:function(){return c.decorateErrorMeta}}),Object.defineProperty(n,"decorateError",{enumerable:!0,get:function(){return c.decorateError}});var u=e("./lib/location");Object.defineProperty(n,"positionToLineColumn",{enumerable:!0,get:function(){return u.positionToLineColumn}}),Object.defineProperty(n,"locationToLineColumn",{enumerable:!0,get:function(){return u.locationToLineColumn}}),Object.defineProperty(n,"getPositionOffset",{enumerable:!0,get:function(){return u.getPositionOffset}}),Object.defineProperty(n,"mergeLocations",{enumerable:!0,get:function(){return u.mergeLocations}});var p=e("./lib/traverse");Object.defineProperty(n,"some",{enumerable:!0,get:function(){return p.some}}),Object.defineProperty(n,"traverse",{enumerable:!0,get:function(){return p.traverse}})},{"./lib/annotation":7,"./lib/error":8,"./lib/location":9,"./lib/simplify":13,"./lib/traverse":14,"./lib/types":15,"./lib/util":16,"./lib/validate":17}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.stringify=n.formatSee=n.formatDefault=n.formatExamples=n.arrayOrSingle=n.stripAnnotations=n.stringifyAnnotations=n.wrapWhitespace=n.extractAnnotations=n.mergeAnnotations=void 0;const r=e("./location"),o=e("./util");function i(e){return e.includes("\n")?["*",e.split("\n").map(e=>` * ${e}`).join("\n")," "].join("\n"):e.startsWith(" ")?e:` ${e}`}function s(e){return 1===e.length?e[0]:e}function a(e){return e.map(e=>"@example\n"+p(u(e).split("\n"),4)).join("\n").trim()}function l(e){return["@default",p(u(e).split("\n"),4)].join("\n").trim()}function c(e){return e.map(e=>"@see "+u(e)).join("\n").trim()}function u(e){return"string"==typeof e?e:JSON.stringify(e,null,2)}function p(e,t,n=!1){return e.map((e,r)=>(0===r&&n?" ".repeat(t-2)+"* ":" ".repeat(t))+e).join("\n")}n.mergeAnnotations=function(e){var t;const n=e=>!!e,i=(e,t="\n")=>(0,o.uniq)(e.filter(n)).join(t).trim(),a=null===(t=e.find(e=>e.name))||void 0===t?void 0:t.name,l=i(e.map(e=>e.title),", "),c=i(e.map(e=>e.description)),u=(0,o.uniq)([].concat(...e.map(e=>(0,o.ensureArray)(e.examples))).filter(n)),p=i(e.map(e=>e.default)),f=(0,o.uniq)([].concat(...e.map(e=>(0,o.ensureArray)(e.see))).filter(n)),d=i(e.map(e=>e.comment)),m=(0,r.mergeLocations)(e.map(e=>e.loc));return{...a?{name:a}:{},...l?{title:l}:{},...c?{description:c}:{},...u.length>0?{examples:s(u)}:{},...p?{default:p}:{},...f.length>0?{see:s(f)}:{},...d?{comment:d}:{},...m?{loc:m}:{}}},n.extractAnnotations=function(e){const{title:t,description:n,examples:r,default:o,comment:i,see:s}=e;return{...t?{title:t}:{},...n?{description:n}:{},...r?{examples:r}:{},...o?{default:o}:{},...i?{comment:i}:{},...s?{see:s}:{}}},n.wrapWhitespace=i,n.stringifyAnnotations=function(e,{includeComment:t=!1,formatWhitespace:n=!1}={}){const{description:r,examples:s,default:u,comment:p,see:f}=e,d=[r,...null==s?[]:[a((0,o.ensureArray)(s))],...void 0===u?[]:[l(u)],...null==f?[]:[c((0,o.ensureArray)(f))],...t?[p]:[]].filter(e=>e).join("\n\n").trim().replace(/\*\//g,"*\\/");return n&&d?i(d):d},n.stripAnnotations=function e(t,n=!0){const{comment:r,description:o,default:i,examples:s,see:a,title:l,...c}=t,u=c;if(n){if("and"===u.type)return{...u,and:u.and.map(t=>e(t,!0))};if("or"===u.type)return{...u,or:u.or.map(t=>e(t,!0))};if("array"===u.type)return{...u,elementType:e(u.elementType,!0)};if("tuple"===u.type)return{...u,elementTypes:u.elementTypes.map(t=>e(t,!0)),additionalItems:"object"==typeof u.additionalItems?e(u.additionalItems,!0):u.additionalItems};if("object"===u.type)return{...u,properties:Object.fromEntries(Object.keys(u.properties).map(t=>[t,{...u.properties[t],node:e(u.properties[t].node,!0)}])),additionalProperties:"object"==typeof u.additionalProperties?e(u.additionalProperties,!0):u.additionalProperties}}return u},n.arrayOrSingle=s,n.formatExamples=a,n.formatDefault=l,n.formatSee=c,n.stringify=u},{"./location":9,"./util":16}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.decorateError=n.decorateErrorMeta=n.isCoreTypesError=n.throwRelatedError=n.throwUnsupportedError=n.RelatedError=n.UnsupportedError=n.MissingReferenceError=n.MalformedTypeError=n.CoreTypesError=void 0;class r extends Error{constructor(e,t={}){super(e),Object.setPrototypeOf(this,r.prototype),this.blob=t.blob,this.path=t.path,this.loc=t.loc,this.source=t.source,this.filename=t.filename,this.relatedError=t.relatedError}}n.CoreTypesError=r;class o extends r{constructor(e,t={}){super(e,t),Object.setPrototypeOf(this,o.prototype)}}n.MalformedTypeError=o;class i extends r{constructor(e,t={}){super(`Reference to missing type "${e}"`,t),Object.setPrototypeOf(this,i.prototype)}}n.MissingReferenceError=i;class s extends r{constructor(e,t={}){super(e,t),Object.setPrototypeOf(this,s.prototype)}}n.UnsupportedError=s;class a extends r{constructor(e,t={}){super(e.message,{...t,relatedError:e}),Object.setPrototypeOf(this,a.prototype)}}function l(e){return e instanceof r}function c(e,t){var n,r,o,i,s;return t.blob&&(null!==(n=e.blob)&&void 0!==n||(e.blob=t.blob)),t.path&&(null!==(r=e.path)&&void 0!==r||(e.path=t.path)),t.loc&&(null!==(o=e.loc)&&void 0!==o||(e.loc=t.loc)),t.source&&(null!==(i=e.source)&&void 0!==i||(e.source=t.source)),t.filename&&(null!==(s=e.filename)&&void 0!==s||(e.filename=t.filename)),e}n.RelatedError=a,n.throwUnsupportedError=function(e,t,n){throw new s(e,{blob:t,...t.loc?{loc:t.loc}:{},...n?{path:n}:{}})},n.throwRelatedError=function(e,t){throw new a(e,t)},n.isCoreTypesError=l,n.decorateErrorMeta=c,n.decorateError=function(e,t){return l(e)&&c(e,t),e}},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mergeLocations=n.getPositionOffset=n.locationToLineColumn=n.positionToLineColumn=void 0;const r=e("./util");function o(e,t){const n=e.slice(0,t).split("\n").length,r=e.lastIndexOf("\n",t);return-1===r?{offset:t,line:n,column:t}:{offset:t,line:n,column:t-r}}n.positionToLineColumn=o,n.locationToLineColumn=function(e,t){return"object"==typeof t.start?t:{start:void 0===t.start?void 0:o(e,t.start),...null==t.end?{}:{end:o(e,t.end)}}},n.getPositionOffset=function(e){return void 0===e||"number"==typeof e?e:e.offset},n.mergeLocations=function(e){var t,n,o;let i,s;const a=e=>"number"==typeof e?e:null==e?void 0:e.offset;e.filter(r.isNonNullable).forEach(({start:e,end:t})=>{const n=a(e),r=a(t);void 0!==n&&(!i||"number"==typeof i.location&&i.location===n||i.offset>n)&&(i={location:e,offset:n}),void 0!==r&&(!s||"number"==typeof s.location&&s.location===n||s.offset<r)&&(s={location:t,offset:r})});const l=null==i?void 0:i.location,c=null==s?void 0:s.location;if(void 0!==l||void 0!==c)return void 0===(null===(t=l)||void 0===t?void 0:t.offset)||void 0===(null===(n=c)||void 0===n?void 0:n.offset)&&void 0!==c?{start:null!==(o=a(l))&&void 0!==o?o:0,end:a(c)}:{start:l,end:c}}},{"./util":16}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.combineConstAndEnum=n.mergeConstEnumUnion=n.simplifyEnumAndConst=void 0;const r=e("../util");function o(e){return(0,r.uniq)([...null!=e.const?[e.const]:[],...null!=e.enum?e.enum:[]])}n.simplifyEnumAndConst=function(e){const{const:t,enum:n,...r}=e,i=o(e);return 0===i.length?r:1===i.length?{...r,const:i[0]}:"boolean"===e.type&&i.includes(!1)&&i.includes(!0)?{...r}:{...r,enum:i}},n.mergeConstEnumUnion=function(e){const t=e.map(e=>o(e));return t.some(e=>0===e.length)?[]:(0,r.uniq)([].concat(...t))},n.combineConstAndEnum=o},{"../util":16}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.intersectConstEnum=void 0;const r=e("../annotation"),o=e("../util");n.intersectConstEnum=function(e){if(0===e.length)throw new Error("Cannot intersect const and enum from an empty array of nodes");if(1===e.length)return e[0];const t=e.map(e=>void 0!==e.const?[e.const]:void 0!==e.enum?e.enum:void 0).filter(e=>!!e),n=t.slice(1).reduce((e,t)=>(0,o.intersection)(e,t),t[0]);return{type:e[0].type,...1===n.length?{const:n[0]}:{},...1!==n.length?{enum:n}:{},...(0,r.mergeAnnotations)(e)}}},{"../annotation":7,"../util":16}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.simplifySingle=void 0;const r=e("./const-enum");n.simplifySingle=function(e){return"boolean"===e.type||"integer"===e.type||"number"===e.type||"string"===e.type?(0,r.simplifyEnumAndConst)(e):e}},{"./const-enum":10}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.simplify=void 0;const r=e("./simplifications/single"),o=e("./simplifications/const-enum"),i=e("./simplifications/intersect-const-enum"),s=e("./error"),a=e("./annotation"),l=e("./util"),c=["any","string","number","integer","boolean"];n.simplify=function e(t){if(Array.isArray(t))return t.map(t=>e(t));if((0,l.isNodeDocument)(t))return{...t,types:e(t.types)};const n=e=>(0,l.copyName)(t,e);if("tuple"===t.type)return{...t,elementTypes:t.elementTypes.map(t=>e(t)),...t.additionalItems&&"object"==typeof t.additionalItems?{additionalItems:e(t.additionalItems)}:{}};if("array"===t.type)return{...t,elementType:e(t.elementType)};if("object"===t.type)return{...t,properties:Object.fromEntries(Object.entries(t.properties).map(([t,{node:n,required:r}])=>[t,{node:e(n),required:r}])),...t.additionalProperties&&"object"==typeof t.additionalProperties?{additionalProperties:e(t.additionalProperties)}:{}};if("and"!==t.type&&"or"!==t.type)return n((0,r.simplifySingle)(t));if("and"===t.type){const r=function(e){const t=(0,l.splitTypes)(e);if(t.any.length>0){if(0===t.and.length&&0===t.or.length&&0===t.ref.length&&0===t.null.length&&0===t.string.length&&0===t.number.length&&0===t.integer.length&&0===t.boolean.length&&0===t.object.length&&0===t.array.length&&0===t.tuple.length)return[{type:"any",...(0,a.mergeAnnotations)(t.any.map(({node:e})=>e))}];t.any=[]}const n=e=>e.map(({node:e})=>e);t.boolean.length>1&&(t.boolean=[{node:(0,i.intersectConstEnum)([...t.boolean.map(({node:e})=>e),...n(t.any)]),order:(0,l.firstSplitTypeIndex)(t.boolean)}]);t.string.length>1&&(t.string=[{node:(0,i.intersectConstEnum)([...t.string.map(({node:e})=>e),...n(t.any)]),order:(0,l.firstSplitTypeIndex)(t.string)}]);t.number.length>0&&t.integer.length>0?(t.number=[{node:(0,i.intersectConstEnum)([...t.number.map(({node:e})=>e),...n(t.integer),...n(t.any)]),order:(0,l.firstSplitTypeIndex)(t.number)}],t.integer=[]):t.number.length>1?t.number=[{node:(0,i.intersectConstEnum)([...t.number.map(({node:e})=>e),...n(t.any)]),order:(0,l.firstSplitTypeIndex)(t.number)}]:t.integer.length>1&&(t.integer=[{node:(0,i.intersectConstEnum)([...t.integer.map(({node:e})=>e),...n(t.any)]),order:(0,l.firstSplitTypeIndex)(t.integer)}]);t.or.length>0&&(t.or=t.or.filter(({node:e})=>e.or.length>0));t.and.length>0&&(t.and=t.and.filter(({node:e})=>e.and.length>0));return(0,l.flattenSplitTypeValues)(t)}([].concat(...t.and.map(t=>{const n=e(t);return n.and?n.and:[n]})));return 1===r.length?n({...r[0],...(0,a.mergeAnnotations)([(0,a.extractAnnotations)(t),r[0]])}):n({type:"and",and:r,...(0,a.extractAnnotations)(t)})}if("or"===t.type){const i=function(e){const t=(0,l.splitTypes)(e);if(t.any.length>0){const e=(0,o.mergeConstEnumUnion)(t.any.map(({node:e})=>e));if(0===e.length)return[{type:"any",...(0,a.mergeAnnotations)(t.any.map(({node:e})=>e))}]}for(const[e,n]of Object.entries(t)){const i=e;if(!c.includes(i)||!n.length)continue;const s=n,u=s.map(({node:e})=>e),p=(0,o.mergeConstEnumUnion)(u);0===p.length?t[i]=[{node:{type:i,...(0,a.mergeAnnotations)(u)},order:(0,l.firstSplitTypeIndex)(s)}]:t[i]=[{node:(0,r.simplifySingle)({type:i,enum:p,...(0,a.mergeAnnotations)(u)}),order:(0,l.firstSplitTypeIndex)(s)}]}t.or.length>0&&(t.or=t.or.filter(({node:e})=>e.or.length>0));t.and.length>0&&(t.and=t.and.filter(({node:e})=>e.and.length>0));return(0,l.flattenSplitTypeValues)(t)}([].concat(...t.or.map(t=>{const n=e(t);return n.or?n.or:[n]})));return 1===i.length?n({...i[0],...(0,a.mergeAnnotations)([(0,a.extractAnnotations)(t),i[0]])}):n({type:"or",or:i,...(0,a.extractAnnotations)(t)})}throw new s.MalformedTypeError("Invalid node",t)}},{"./annotation":7,"./error":8,"./simplifications/const-enum":10,"./simplifications/intersect-const-enum":11,"./simplifications/single":12,"./util":16}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.some=n.traverse=void 0;class r extends Error{}function o(e,t){function n(e,t,n,r,o,i){const s={node:void 0!==i?i:void 0===r?t[n]:t[n][r],path:[...e.path,n,...void 0===r?[]:[r]],parentNode:t,parentProperty:n,index:r,required:o};return Object.assign({},e,s)}!function e(t,r){r(t);const{node:o}=t;if("array"===o.type)e(n(t,o,"elementType"),r);else if("tuple"===o.type)o.elementTypes.forEach((i,s)=>e(n(t,o,"elementTypes",s),r)),"object"==typeof o.additionalItems&&e(n(t,o,"additionalItems"),r);else if("object"===o.type){for(const i of Object.keys(o.properties))e(n(t,o,"properties",i,o.properties[i].required,o.properties[i].node),r);"object"==typeof o.additionalProperties&&e(n(t,o,"additionalProperties"),r)}else"and"===o.type?o.and.forEach((i,s)=>e(n(t,o,"and",s),r)):"or"===o.type&&o.or.forEach((i,s)=>e(n(t,o,"or",s),r))}({node:e,rootNode:e,path:[]},t)}n.traverse=o,n.some=function(e,t){try{o(e,e=>{if(t(e))throw new r})}catch(e){if(e instanceof r)return!0;throw e}return!1}},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeDocument=n.isNonNullable=n.copyName=n.firstSplitTypeIndex=n.flattenSplitTypeValues=n.splitTypes=n.union=n.intersection=n.isEqual=n.hasConstEnum=n.constEnumTypes=n.isPrimitiveType=n.ensureArray=n.uniq=void 0,n.uniq=function(e){return e.filter((t,n)=>{for(let o=0;o<n;++o){if(r(t,e[o]))return!1}return!0})},n.ensureArray=function(e){return null==e?[]:Array.isArray(e)?e:[e]};n.isPrimitiveType=e=>["null","string","number","integer","boolean"].includes(e.type),n.constEnumTypes=new Set(["any","string","number","integer","boolean","object","array","tuple","ref"]);function r(e,t){if(typeof e!=typeof t)return!1;if(null===e!=(null===t))return!1;if(null===e)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&!e.some((e,n)=>!r(e,t[n]));if(Array.isArray(e)!==Array.isArray(t))return!1;if("object"==typeof e){const n=Object.keys(e).sort();return!!r(n,Object.keys(t).sort())&&!n.some(n=>!r(e[n],t[n]))}return e===t}n.hasConstEnum=e=>n.constEnumTypes.has(e.type),n.isEqual=r,n.intersection=function(e,t){const n=[];return e.forEach(e=>{t.forEach(t=>{r(e,t)&&n.push(e)})}),n},n.union=function(e,t){const n=[...e];return t.forEach(t=>{!e.some(e=>r(t,e))&&n.push(t)}),n},n.splitTypes=function(e){const t={and:[],or:[],ref:[],any:[],null:[],string:[],number:[],integer:[],boolean:[],object:[],array:[],tuple:[]};return e.forEach((e,n)=>{if("and"!==e.type&&"or"!==e.type||"and"===e.type&&e.and.length>0||"or"===e.type&&e.or.length>0){const r={node:e,order:n};t[e.type].push(r)}}),t},n.flattenSplitTypeValues=function(e){return[].concat(Object.values(e).flat().sort((e,t)=>e.order-t.order).map(({node:e})=>e))},n.firstSplitTypeIndex=function(e){return Math.min(...e.map(({order:e})=>e))},n.copyName=function(e,t){return void 0===e.name?t:{...t,name:e.name}},n.isNonNullable=function(e){return null!=e},n.isNodeDocument=function(e){return Array.isArray(e.types)}},{}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.validate=void 0;const r=e("./error"),o=e("./util");n.validate=function e(t){(0,o.hasConstEnum)(t)&&function(e){if(e.enum&&0===e.enum.length)throw new r.MalformedTypeError("Empty enum is not allowed",e);if(e.enum&&void 0!==e.const&&!e.enum.some(t=>(0,o.isEqual)(t,e.const)))throw new r.MalformedTypeError("Enum and const are both set, but enum doesn't contain const",e)}(t),"and"===t.type&&t.and.forEach(t=>e(t)),"or"===t.type&&t.or.forEach(t=>e(t))}},{"./error":8,"./util":16}],18:[function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),o(e("./lib"),n),o(e("./lib/types"),n),o(e("./lib/utils"),n)},{"./lib":19,"./lib/types":22,"./lib/utils":23}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.openApiToJsonSchema=n.jsonSchemaDocumentToOpenApi=n.decorateOpenApi=void 0;const r=e("./json-schema-to-openapi"),o=e("./openapi-to-json-schema");function i(e,{title:t,version:n,schemaVersion:r="3.0.0"}){const o={title:t,version:n};return e.$id&&(o["x-id"]=e.$id,delete e.$id),e.$comment&&(o["x-comment"]=e.$comment,delete e.$comment),delete e.$schema,{openapi:r,info:o,paths:{},...e}}n.decorateOpenApi=i,n.jsonSchemaDocumentToOpenApi=function(e,t){const{definitions:n={},...o}=e;return i({...o,components:{schemas:Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(0,r.jsonSchemaTypeToOpenApi)(t)]))}},t)},n.openApiToJsonSchema=function(e){const t=e.components.schemas;return{definitions:Object.fromEntries(Object.keys(t).map(e=>[e,(0,o.openApiToJsonSchemaType)(t[e])]))}}},{"./json-schema-to-openapi":20,"./openapi-to-json-schema":21}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonSchemaTypeToOpenApi=void 0;const r=e("./utils");n.jsonSchemaTypeToOpenApi=function e(t){return"boolean"==typeof t?t:(t=function(e){if(void 0===e.type)return e;const{type:t,...n}=e,r=Array.isArray(t)?t.includes("null"):"null"===t,o=Array.isArray(t)?t.filter(e=>"null"!==e):"null"===t?void 0:t,i=(e,t)=>"any"!==t&&t?{...e,type:t}:e;void 0!==e.const&&(n.enum=[e.const],delete n.const);const s=e=>r?{...e,nullable:r}:e;return Array.isArray(o)?0===o.length?s(n):1===o.length?i(s(n),o[0]):{...s(n),anyOf:o.map(e=>i({},e))}:i(s(n),o)}(t),t=(n=t).$ref?{...n,$ref:(0,r.encodeRefNameOpenApi)((0,r.decodeRefNameJsonSchema)(n.$ref))}:n,(0,r.recurseSchema)(t,e));var n}},{"./utils":23}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.openApiToJsonSchemaType=void 0;const r=e("./utils");n.openApiToJsonSchemaType=function e(t){if("boolean"==typeof t)return t;const{type:n,nullable:o,...i}=t,s=function(e,t){if(void 0!==e&&"any"!==e){if(Array.isArray(e)){if(e.includes("any"))return;return!e.includes("null")&&t&&e.push("null"),1===e.length?e[0]:e}return"null"!==e&&t?[e,"null"]:e}}(n,o);let a={...i,...s?{type:s}:{}};var l;return a=(l=a).$ref?{...l,$ref:(0,r.encodeRefNameJsonSchema)((0,r.decodeRefNameOpenApi)(l.$ref))}:l,(0,r.recurseSchema)(a,e)}},{"./utils":23}],22:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],23:[function(e,t,n){"use strict";function r(e){return encodeURIComponent(e)}function o(e){return decodeURIComponent(e)}function i(e){return e&&Object.keys(e).length>0}Object.defineProperty(n,"__esModule",{value:!0}),n.recurseSchema=n.decodeRefNameOpenApi=n.encodeRefNameOpenApi=n.decodeRefNameJsonSchema=n.encodeRefNameJsonSchema=n.decodePathPart=n.encodePathPart=void 0,n.encodePathPart=r,n.decodePathPart=o,n.encodeRefNameJsonSchema=function(e){return`#/definitions/${r(e)}`},n.decodeRefNameJsonSchema=function(e){return e.startsWith("#/definitions/")?o(e.slice(14)):o(e)},n.encodeRefNameOpenApi=function(e){return`#/components/schemas/${r(e)}`},n.decodeRefNameOpenApi=function(e){return e.startsWith("#/components/schemas/")?o(e.slice(21)):o(e)},n.recurseSchema=function(e,t){if("object"!=typeof e)return e;const n=e;return{...n,..."object"!=typeof n.items?{}:Array.isArray(n.items)?{items:n.items.map(e=>t(e))}:{items:t(n.items)},..."object"!=typeof n.additionalItems?{}:{additionalItems:t(n.additionalItems)},..."object"!=typeof n.contains?{}:{contains:t(n.contains)},...i(n.properties)?{properties:Object.fromEntries(Object.keys(n.properties).map(e=>{var r;return[e,t(null===(r=n.properties)||void 0===r?void 0:r[e])]}))}:{},...i(n.patternProperties)?{patternProperties:Object.fromEntries(Object.keys(n.patternProperties).map(e=>{var r;return[e,t(null===(r=n.patternProperties)||void 0===r?void 0:r[e])]}))}:{},..."object"!=typeof n.additionalProperties?{}:{additionalProperties:t(n.additionalProperties)},...i(n.dependencies)?{dependencies:Object.fromEntries(Object.keys(n.dependencies).map(e=>{var r;return[e,t(null===(r=n.dependencies)||void 0===r?void 0:r[e])]}))}:{},..."object"!=typeof n.propertyNames?{}:{propertyNames:t(n.propertyNames)},..."object"!=typeof n.if?{}:{if:t(n.if)},..."object"!=typeof n.then?{}:{then:t(n.then)},..."object"!=typeof n.else?{}:{else:t(n.else)},..."object"==typeof n.allOf&&n.allOf.length?{allOf:n.allOf.map(e=>t(e))}:{},..."object"==typeof n.anyOf&&n.anyOf.length?{anyOf:n.anyOf.map(e=>t(e))}:{},..."object"==typeof n.oneOf&&n.oneOf.length?{oneOf:n.oneOf.map(e=>t(e))}:{},..."object"!=typeof n.not?{}:{not:t(n.not)},...i(n.definitions)?{definitions:Object.fromEntries(Object.keys(n.definitions).map(e=>{var r;return[e,t(null===(r=n.definitions)||void 0===r?void 0:r[e])]}))}:{}}}},{}],24:[function(e,t,n){(function(e){(function(){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.jsonToAst=r()}(this,function(){"use strict";"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=t(function(e){e.exports&&(e.exports=function(){var e=3,t=4,n=12,r=13,o=16,i=17;function s(e,t){return 55296<=e.charCodeAt(t)&&e.charCodeAt(t)<=56319&&56320<=e.charCodeAt(t+1)&&e.charCodeAt(t+1)<=57343}function a(e,t){void 0===t&&(t=0);var n=e.charCodeAt(t);if(55296<=n&&n<=56319&&t<e.length-1){var r=n;return 56320<=(o=e.charCodeAt(t+1))&&o<=57343?1024*(r-55296)+(o-56320)+65536:r}if(56320<=n&&n<=57343&&t>=1){var o=n;return 55296<=(r=e.charCodeAt(t-1))&&r<=56319?1024*(r-55296)+(o-56320)+65536:o}return n}function l(s,a,l){var c=[s].concat(a).concat([l]),u=c[c.length-2],p=l,f=c.lastIndexOf(14);if(f>1&&c.slice(1,f).every(function(t){return t==e})&&-1==[e,r,i].indexOf(s))return 2;var d=c.lastIndexOf(t);if(d>0&&c.slice(1,d).every(function(e){return e==t})&&-1==[n,t].indexOf(u))return c.filter(function(e){return e==t}).length%2==1?3:4;if(0==u&&1==p)return 0;if(2==u||0==u||1==u)return 14==p&&a.every(function(t){return t==e})?2:1;if(2==p||0==p||1==p)return 1;if(6==u&&(6==p||7==p||9==p||10==p))return 0;if(!(9!=u&&7!=u||7!=p&&8!=p))return 0;if((10==u||8==u)&&8==p)return 0;if(p==e||15==p)return 0;if(5==p)return 0;if(u==n)return 0;var m=-1!=c.indexOf(e)?c.lastIndexOf(e)-1:c.length-2;return-1!=[r,i].indexOf(c[m])&&c.slice(m+1,-1).every(function(t){return t==e})&&14==p||15==u&&-1!=[o,i].indexOf(p)?0:-1!=a.indexOf(t)?2:u==t&&p==t?0:1}function c(s){return 1536<=s&&s<=1541||1757==s||1807==s||2274==s||3406==s||69821==s||70082<=s&&s<=70083||72250==s||72326<=s&&s<=72329||73030==s?n:13==s?0:10==s?1:0<=s&&s<=9||11<=s&&s<=12||14<=s&&s<=31||127<=s&&s<=159||173==s||1564==s||6158==s||8203==s||8206<=s&&s<=8207||8232==s||8233==s||8234<=s&&s<=8238||8288<=s&&s<=8292||8293==s||8294<=s&&s<=8303||55296<=s&&s<=57343||65279==s||65520<=s&&s<=65528||65529<=s&&s<=65531||113824<=s&&s<=113827||119155<=s&&s<=119162||917504==s||917505==s||917506<=s&&s<=917535||917632<=s&&s<=917759||918e3<=s&&s<=921599?2:768<=s&&s<=879||1155<=s&&s<=1159||1160<=s&&s<=1161||1425<=s&&s<=1469||1471==s||1473<=s&&s<=1474||1476<=s&&s<=1477||1479==s||1552<=s&&s<=1562||1611<=s&&s<=1631||1648==s||1750<=s&&s<=1756||1759<=s&&s<=1764||1767<=s&&s<=1768||1770<=s&&s<=1773||1809==s||1840<=s&&s<=1866||1958<=s&&s<=1968||2027<=s&&s<=2035||2070<=s&&s<=2073||2075<=s&&s<=2083||2085<=s&&s<=2087||2089<=s&&s<=2093||2137<=s&&s<=2139||2260<=s&&s<=2273||2275<=s&&s<=2306||2362==s||2364==s||2369<=s&&s<=2376||2381==s||2385<=s&&s<=2391||2402<=s&&s<=2403||2433==s||2492==s||2494==s||2497<=s&&s<=2500||2509==s||2519==s||2530<=s&&s<=2531||2561<=s&&s<=2562||2620==s||2625<=s&&s<=2626||2631<=s&&s<=2632||2635<=s&&s<=2637||2641==s||2672<=s&&s<=2673||2677==s||2689<=s&&s<=2690||2748==s||2753<=s&&s<=2757||2759<=s&&s<=2760||2765==s||2786<=s&&s<=2787||2810<=s&&s<=2815||2817==s||2876==s||2878==s||2879==s||2881<=s&&s<=2884||2893==s||2902==s||2903==s||2914<=s&&s<=2915||2946==s||3006==s||3008==s||3021==s||3031==s||3072==s||3134<=s&&s<=3136||3142<=s&&s<=3144||3146<=s&&s<=3149||3157<=s&&s<=3158||3170<=s&&s<=3171||3201==s||3260==s||3263==s||3266==s||3270==s||3276<=s&&s<=3277||3285<=s&&s<=3286||3298<=s&&s<=3299||3328<=s&&s<=3329||3387<=s&&s<=3388||3390==s||3393<=s&&s<=3396||3405==s||3415==s||3426<=s&&s<=3427||3530==s||3535==s||3538<=s&&s<=3540||3542==s||3551==s||3633==s||3636<=s&&s<=3642||3655<=s&&s<=3662||3761==s||3764<=s&&s<=3769||3771<=s&&s<=3772||3784<=s&&s<=3789||3864<=s&&s<=3865||3893==s||3895==s||3897==s||3953<=s&&s<=3966||3968<=s&&s<=3972||3974<=s&&s<=3975||3981<=s&&s<=3991||3993<=s&&s<=4028||4038==s||4141<=s&&s<=4144||4146<=s&&s<=4151||4153<=s&&s<=4154||4157<=s&&s<=4158||4184<=s&&s<=4185||4190<=s&&s<=4192||4209<=s&&s<=4212||4226==s||4229<=s&&s<=4230||4237==s||4253==s||4957<=s&&s<=4959||5906<=s&&s<=5908||5938<=s&&s<=5940||5970<=s&&s<=5971||6002<=s&&s<=6003||6068<=s&&s<=6069||6071<=s&&s<=6077||6086==s||6089<=s&&s<=6099||6109==s||6155<=s&&s<=6157||6277<=s&&s<=6278||6313==s||6432<=s&&s<=6434||6439<=s&&s<=6440||6450==s||6457<=s&&s<=6459||6679<=s&&s<=6680||6683==s||6742==s||6744<=s&&s<=6750||6752==s||6754==s||6757<=s&&s<=6764||6771<=s&&s<=6780||6783==s||6832<=s&&s<=6845||6846==s||6912<=s&&s<=6915||6964==s||6966<=s&&s<=6970||6972==s||6978==s||7019<=s&&s<=7027||7040<=s&&s<=7041||7074<=s&&s<=7077||7080<=s&&s<=7081||7083<=s&&s<=7085||7142==s||7144<=s&&s<=7145||7149==s||7151<=s&&s<=7153||7212<=s&&s<=7219||7222<=s&&s<=7223||7376<=s&&s<=7378||7380<=s&&s<=7392||7394<=s&&s<=7400||7405==s||7412==s||7416<=s&&s<=7417||7616<=s&&s<=7673||7675<=s&&s<=7679||8204==s||8400<=s&&s<=8412||8413<=s&&s<=8416||8417==s||8418<=s&&s<=8420||8421<=s&&s<=8432||11503<=s&&s<=11505||11647==s||11744<=s&&s<=11775||12330<=s&&s<=12333||12334<=s&&s<=12335||12441<=s&&s<=12442||42607==s||42608<=s&&s<=42610||42612<=s&&s<=42621||42654<=s&&s<=42655||42736<=s&&s<=42737||43010==s||43014==s||43019==s||43045<=s&&s<=43046||43204<=s&&s<=43205||43232<=s&&s<=43249||43302<=s&&s<=43309||43335<=s&&s<=43345||43392<=s&&s<=43394||43443==s||43446<=s&&s<=43449||43452==s||43493==s||43561<=s&&s<=43566||43569<=s&&s<=43570||43573<=s&&s<=43574||43587==s||43596==s||43644==s||43696==s||43698<=s&&s<=43700||43703<=s&&s<=43704||43710<=s&&s<=43711||43713==s||43756<=s&&s<=43757||43766==s||44005==s||44008==s||44013==s||64286==s||65024<=s&&s<=65039||65056<=s&&s<=65071||65438<=s&&s<=65439||66045==s||66272==s||66422<=s&&s<=66426||68097<=s&&s<=68099||68101<=s&&s<=68102||68108<=s&&s<=68111||68152<=s&&s<=68154||68159==s||68325<=s&&s<=68326||69633==s||69688<=s&&s<=69702||69759<=s&&s<=69761||69811<=s&&s<=69814||69817<=s&&s<=69818||69888<=s&&s<=69890||69927<=s&&s<=69931||69933<=s&&s<=69940||70003==s||70016<=s&&s<=70017||70070<=s&&s<=70078||70090<=s&&s<=70092||70191<=s&&s<=70193||70196==s||70198<=s&&s<=70199||70206==s||70367==s||70371<=s&&s<=70378||70400<=s&&s<=70401||70460==s||70462==s||70464==s||70487==s||70502<=s&&s<=70508||70512<=s&&s<=70516||70712<=s&&s<=70719||70722<=s&&s<=70724||70726==s||70832==s||70835<=s&&s<=70840||70842==s||70845==s||70847<=s&&s<=70848||70850<=s&&s<=70851||71087==s||71090<=s&&s<=71093||71100<=s&&s<=71101||71103<=s&&s<=71104||71132<=s&&s<=71133||71219<=s&&s<=71226||71229==s||71231<=s&&s<=71232||71339==s||71341==s||71344<=s&&s<=71349||71351==s||71453<=s&&s<=71455||71458<=s&&s<=71461||71463<=s&&s<=71467||72193<=s&&s<=72198||72201<=s&&s<=72202||72243<=s&&s<=72248||72251<=s&&s<=72254||72263==s||72273<=s&&s<=72278||72281<=s&&s<=72283||72330<=s&&s<=72342||72344<=s&&s<=72345||72752<=s&&s<=72758||72760<=s&&s<=72765||72767==s||72850<=s&&s<=72871||72874<=s&&s<=72880||72882<=s&&s<=72883||72885<=s&&s<=72886||73009<=s&&s<=73014||73018==s||73020<=s&&s<=73021||73023<=s&&s<=73029||73031==s||92912<=s&&s<=92916||92976<=s&&s<=92982||94095<=s&&s<=94098||113821<=s&&s<=113822||119141==s||119143<=s&&s<=119145||119150<=s&&s<=119154||119163<=s&&s<=119170||119173<=s&&s<=119179||119210<=s&&s<=119213||119362<=s&&s<=119364||121344<=s&&s<=121398||121403<=s&&s<=121452||121461==s||121476==s||121499<=s&&s<=121503||121505<=s&&s<=121519||122880<=s&&s<=122886||122888<=s&&s<=122904||122907<=s&&s<=122913||122915<=s&&s<=122916||122918<=s&&s<=122922||125136<=s&&s<=125142||125252<=s&&s<=125258||917536<=s&&s<=917631||917760<=s&&s<=917999?e:127462<=s&&s<=127487?t:2307==s||2363==s||2366<=s&&s<=2368||2377<=s&&s<=2380||2382<=s&&s<=2383||2434<=s&&s<=2435||2495<=s&&s<=2496||2503<=s&&s<=2504||2507<=s&&s<=2508||2563==s||2622<=s&&s<=2624||2691==s||2750<=s&&s<=2752||2761==s||2763<=s&&s<=2764||2818<=s&&s<=2819||2880==s||2887<=s&&s<=2888||2891<=s&&s<=2892||3007==s||3009<=s&&s<=3010||3014<=s&&s<=3016||3018<=s&&s<=3020||3073<=s&&s<=3075||3137<=s&&s<=3140||3202<=s&&s<=3203||3262==s||3264<=s&&s<=3265||3267<=s&&s<=3268||3271<=s&&s<=3272||3274<=s&&s<=3275||3330<=s&&s<=3331||3391<=s&&s<=3392||3398<=s&&s<=3400||3402<=s&&s<=3404||3458<=s&&s<=3459||3536<=s&&s<=3537||3544<=s&&s<=3550||3570<=s&&s<=3571||3635==s||3763==s||3902<=s&&s<=3903||3967==s||4145==s||4155<=s&&s<=4156||4182<=s&&s<=4183||4228==s||6070==s||6078<=s&&s<=6085||6087<=s&&s<=6088||6435<=s&&s<=6438||6441<=s&&s<=6443||6448<=s&&s<=6449||6451<=s&&s<=6456||6681<=s&&s<=6682||6741==s||6743==s||6765<=s&&s<=6770||6916==s||6965==s||6971==s||6973<=s&&s<=6977||6979<=s&&s<=6980||7042==s||7073==s||7078<=s&&s<=7079||7082==s||7143==s||7146<=s&&s<=7148||7150==s||7154<=s&&s<=7155||7204<=s&&s<=7211||7220<=s&&s<=7221||7393==s||7410<=s&&s<=7411||7415==s||43043<=s&&s<=43044||43047==s||43136<=s&&s<=43137||43188<=s&&s<=43203||43346<=s&&s<=43347||43395==s||43444<=s&&s<=43445||43450<=s&&s<=43451||43453<=s&&s<=43456||43567<=s&&s<=43568||43571<=s&&s<=43572||43597==s||43755==s||43758<=s&&s<=43759||43765==s||44003<=s&&s<=44004||44006<=s&&s<=44007||44009<=s&&s<=44010||44012==s||69632==s||69634==s||69762==s||69808<=s&&s<=69810||69815<=s&&s<=69816||69932==s||70018==s||70067<=s&&s<=70069||70079<=s&&s<=70080||70188<=s&&s<=70190||70194<=s&&s<=70195||70197==s||70368<=s&&s<=70370||70402<=s&&s<=70403||70463==s||70465<=s&&s<=70468||70471<=s&&s<=70472||70475<=s&&s<=70477||70498<=s&&s<=70499||70709<=s&&s<=70711||70720<=s&&s<=70721||70725==s||70833<=s&&s<=70834||70841==s||70843<=s&&s<=70844||70846==s||70849==s||71088<=s&&s<=71089||71096<=s&&s<=71099||71102==s||71216<=s&&s<=71218||71227<=s&&s<=71228||71230==s||71340==s||71342<=s&&s<=71343||71350==s||71456<=s&&s<=71457||71462==s||72199<=s&&s<=72200||72249==s||72279<=s&&s<=72280||72343==s||72751==s||72766==s||72873==s||72881==s||72884==s||94033<=s&&s<=94078||119142==s||119149==s?5:4352<=s&&s<=4447||43360<=s&&s<=43388?6:4448<=s&&s<=4519||55216<=s&&s<=55238?7:4520<=s&&s<=4607||55243<=s&&s<=55291?8:44032==s||44060==s||44088==s||44116==s||44144==s||44172==s||44200==s||44228==s||44256==s||44284==s||44312==s||44340==s||44368==s||44396==s||44424==s||44452==s||44480==s||44508==s||44536==s||44564==s||44592==s||44620==s||44648==s||44676==s||44704==s||44732==s||44760==s||44788==s||44816==s||44844==s||44872==s||44900==s||44928==s||44956==s||44984==s||45012==s||45040==s||45068==s||45096==s||45124==s||45152==s||45180==s||45208==s||45236==s||45264==s||45292==s||45320==s||45348==s||45376==s||45404==s||45432==s||45460==s||45488==s||45516==s||45544==s||45572==s||45600==s||45628==s||45656==s||45684==s||45712==s||45740==s||45768==s||45796==s||45824==s||45852==s||45880==s||45908==s||45936==s||45964==s||45992==s||46020==s||46048==s||46076==s||46104==s||46132==s||46160==s||46188==s||46216==s||46244==s||46272==s||46300==s||46328==s||46356==s||46384==s||46412==s||46440==s||46468==s||46496==s||46524==s||46552==s||46580==s||46608==s||46636==s||46664==s||46692==s||46720==s||46748==s||46776==s||46804==s||46832==s||46860==s||46888==s||46916==s||46944==s||46972==s||47e3==s||47028==s||47056==s||47084==s||47112==s||47140==s||47168==s||47196==s||47224==s||47252==s||47280==s||47308==s||47336==s||47364==s||47392==s||47420==s||47448==s||47476==s||47504==s||47532==s||47560==s||47588==s||47616==s||47644==s||47672==s||47700==s||47728==s||47756==s||47784==s||47812==s||47840==s||47868==s||47896==s||47924==s||47952==s||47980==s||48008==s||48036==s||48064==s||48092==s||48120==s||48148==s||48176==s||48204==s||48232==s||48260==s||48288==s||48316==s||48344==s||48372==s||48400==s||48428==s||48456==s||48484==s||48512==s||48540==s||48568==s||48596==s||48624==s||48652==s||48680==s||48708==s||48736==s||48764==s||48792==s||48820==s||48848==s||48876==s||48904==s||48932==s||48960==s||48988==s||49016==s||49044==s||49072==s||49100==s||49128==s||49156==s||49184==s||49212==s||49240==s||49268==s||49296==s||49324==s||49352==s||49380==s||49408==s||49436==s||49464==s||49492==s||49520==s||49548==s||49576==s||49604==s||49632==s||49660==s||49688==s||49716==s||49744==s||49772==s||49800==s||49828==s||49856==s||49884==s||49912==s||49940==s||49968==s||49996==s||50024==s||50052==s||50080==s||50108==s||50136==s||50164==s||50192==s||50220==s||50248==s||50276==s||50304==s||50332==s||50360==s||50388==s||50416==s||50444==s||50472==s||50500==s||50528==s||50556==s||50584==s||50612==s||50640==s||50668==s||50696==s||50724==s||50752==s||50780==s||50808==s||50836==s||50864==s||50892==s||50920==s||50948==s||50976==s||51004==s||51032==s||51060==s||51088==s||51116==s||51144==s||51172==s||51200==s||51228==s||51256==s||51284==s||51312==s||51340==s||51368==s||51396==s||51424==s||51452==s||51480==s||51508==s||51536==s||51564==s||51592==s||51620==s||51648==s||51676==s||51704==s||51732==s||51760==s||51788==s||51816==s||51844==s||51872==s||51900==s||51928==s||51956==s||51984==s||52012==s||52040==s||52068==s||52096==s||52124==s||52152==s||52180==s||52208==s||52236==s||52264==s||52292==s||52320==s||52348==s||52376==s||52404==s||52432==s||52460==s||52488==s||52516==s||52544==s||52572==s||52600==s||52628==s||52656==s||52684==s||52712==s||52740==s||52768==s||52796==s||52824==s||52852==s||52880==s||52908==s||52936==s||52964==s||52992==s||53020==s||53048==s||53076==s||53104==s||53132==s||53160==s||53188==s||53216==s||53244==s||53272==s||53300==s||53328==s||53356==s||53384==s||53412==s||53440==s||53468==s||53496==s||53524==s||53552==s||53580==s||53608==s||53636==s||53664==s||53692==s||53720==s||53748==s||53776==s||53804==s||53832==s||53860==s||53888==s||53916==s||53944==s||53972==s||54e3==s||54028==s||54056==s||54084==s||54112==s||54140==s||54168==s||54196==s||54224==s||54252==s||54280==s||54308==s||54336==s||54364==s||54392==s||54420==s||54448==s||54476==s||54504==s||54532==s||54560==s||54588==s||54616==s||54644==s||54672==s||54700==s||54728==s||54756==s||54784==s||54812==s||54840==s||54868==s||54896==s||54924==s||54952==s||54980==s||55008==s||55036==s||55064==s||55092==s||55120==s||55148==s||55176==s?9:44033<=s&&s<=44059||44061<=s&&s<=44087||44089<=s&&s<=44115||44117<=s&&s<=44143||44145<=s&&s<=44171||44173<=s&&s<=44199||44201<=s&&s<=44227||44229<=s&&s<=44255||44257<=s&&s<=44283||44285<=s&&s<=44311||44313<=s&&s<=44339||44341<=s&&s<=44367||44369<=s&&s<=44395||44397<=s&&s<=44423||44425<=s&&s<=44451||44453<=s&&s<=44479||44481<=s&&s<=44507||44509<=s&&s<=44535||44537<=s&&s<=44563||44565<=s&&s<=44591||44593<=s&&s<=44619||44621<=s&&s<=44647||44649<=s&&s<=44675||44677<=s&&s<=44703||44705<=s&&s<=44731||44733<=s&&s<=44759||44761<=s&&s<=44787||44789<=s&&s<=44815||44817<=s&&s<=44843||44845<=s&&s<=44871||44873<=s&&s<=44899||44901<=s&&s<=44927||44929<=s&&s<=44955||44957<=s&&s<=44983||44985<=s&&s<=45011||45013<=s&&s<=45039||45041<=s&&s<=45067||45069<=s&&s<=45095||45097<=s&&s<=45123||45125<=s&&s<=45151||45153<=s&&s<=45179||45181<=s&&s<=45207||45209<=s&&s<=45235||45237<=s&&s<=45263||45265<=s&&s<=45291||45293<=s&&s<=45319||45321<=s&&s<=45347||45349<=s&&s<=45375||45377<=s&&s<=45403||45405<=s&&s<=45431||45433<=s&&s<=45459||45461<=s&&s<=45487||45489<=s&&s<=45515||45517<=s&&s<=45543||45545<=s&&s<=45571||45573<=s&&s<=45599||45601<=s&&s<=45627||45629<=s&&s<=45655||45657<=s&&s<=45683||45685<=s&&s<=45711||45713<=s&&s<=45739||45741<=s&&s<=45767||45769<=s&&s<=45795||45797<=s&&s<=45823||45825<=s&&s<=45851||45853<=s&&s<=45879||45881<=s&&s<=45907||45909<=s&&s<=45935||45937<=s&&s<=45963||45965<=s&&s<=45991||45993<=s&&s<=46019||46021<=s&&s<=46047||46049<=s&&s<=46075||46077<=s&&s<=46103||46105<=s&&s<=46131||46133<=s&&s<=46159||46161<=s&&s<=46187||46189<=s&&s<=46215||46217<=s&&s<=46243||46245<=s&&s<=46271||46273<=s&&s<=46299||46301<=s&&s<=46327||46329<=s&&s<=46355||46357<=s&&s<=46383||46385<=s&&s<=46411||46413<=s&&s<=46439||46441<=s&&s<=46467||46469<=s&&s<=46495||46497<=s&&s<=46523||46525<=s&&s<=46551||46553<=s&&s<=46579||46581<=s&&s<=46607||46609<=s&&s<=46635||46637<=s&&s<=46663||46665<=s&&s<=46691||46693<=s&&s<=46719||46721<=s&&s<=46747||46749<=s&&s<=46775||46777<=s&&s<=46803||46805<=s&&s<=46831||46833<=s&&s<=46859||46861<=s&&s<=46887||46889<=s&&s<=46915||46917<=s&&s<=46943||46945<=s&&s<=46971||46973<=s&&s<=46999||47001<=s&&s<=47027||47029<=s&&s<=47055||47057<=s&&s<=47083||47085<=s&&s<=47111||47113<=s&&s<=47139||47141<=s&&s<=47167||47169<=s&&s<=47195||47197<=s&&s<=47223||47225<=s&&s<=47251||47253<=s&&s<=47279||47281<=s&&s<=47307||47309<=s&&s<=47335||47337<=s&&s<=47363||47365<=s&&s<=47391||47393<=s&&s<=47419||47421<=s&&s<=47447||47449<=s&&s<=47475||47477<=s&&s<=47503||47505<=s&&s<=47531||47533<=s&&s<=47559||47561<=s&&s<=47587||47589<=s&&s<=47615||47617<=s&&s<=47643||47645<=s&&s<=47671||47673<=s&&s<=47699||47701<=s&&s<=47727||47729<=s&&s<=47755||47757<=s&&s<=47783||47785<=s&&s<=47811||47813<=s&&s<=47839||47841<=s&&s<=47867||47869<=s&&s<=47895||47897<=s&&s<=47923||47925<=s&&s<=47951||47953<=s&&s<=47979||47981<=s&&s<=48007||48009<=s&&s<=48035||48037<=s&&s<=48063||48065<=s&&s<=48091||48093<=s&&s<=48119||48121<=s&&s<=48147||48149<=s&&s<=48175||48177<=s&&s<=48203||48205<=s&&s<=48231||48233<=s&&s<=48259||48261<=s&&s<=48287||48289<=s&&s<=48315||48317<=s&&s<=48343||48345<=s&&s<=48371||48373<=s&&s<=48399||48401<=s&&s<=48427||48429<=s&&s<=48455||48457<=s&&s<=48483||48485<=s&&s<=48511||48513<=s&&s<=48539||48541<=s&&s<=48567||48569<=s&&s<=48595||48597<=s&&s<=48623||48625<=s&&s<=48651||48653<=s&&s<=48679||48681<=s&&s<=48707||48709<=s&&s<=48735||48737<=s&&s<=48763||48765<=s&&s<=48791||48793<=s&&s<=48819||48821<=s&&s<=48847||48849<=s&&s<=48875||48877<=s&&s<=48903||48905<=s&&s<=48931||48933<=s&&s<=48959||48961<=s&&s<=48987||48989<=s&&s<=49015||49017<=s&&s<=49043||49045<=s&&s<=49071||49073<=s&&s<=49099||49101<=s&&s<=49127||49129<=s&&s<=49155||49157<=s&&s<=49183||49185<=s&&s<=49211||49213<=s&&s<=49239||49241<=s&&s<=49267||49269<=s&&s<=49295||49297<=s&&s<=49323||49325<=s&&s<=49351||49353<=s&&s<=49379||49381<=s&&s<=49407||49409<=s&&s<=49435||49437<=s&&s<=49463||49465<=s&&s<=49491||49493<=s&&s<=49519||49521<=s&&s<=49547||49549<=s&&s<=49575||49577<=s&&s<=49603||49605<=s&&s<=49631||49633<=s&&s<=49659||49661<=s&&s<=49687||49689<=s&&s<=49715||49717<=s&&s<=49743||49745<=s&&s<=49771||49773<=s&&s<=49799||49801<=s&&s<=49827||49829<=s&&s<=49855||49857<=s&&s<=49883||49885<=s&&s<=49911||49913<=s&&s<=49939||49941<=s&&s<=49967||49969<=s&&s<=49995||49997<=s&&s<=50023||50025<=s&&s<=50051||50053<=s&&s<=50079||50081<=s&&s<=50107||50109<=s&&s<=50135||50137<=s&&s<=50163||50165<=s&&s<=50191||50193<=s&&s<=50219||50221<=s&&s<=50247||50249<=s&&s<=50275||50277<=s&&s<=50303||50305<=s&&s<=50331||50333<=s&&s<=50359||50361<=s&&s<=50387||50389<=s&&s<=50415||50417<=s&&s<=50443||50445<=s&&s<=50471||50473<=s&&s<=50499||50501<=s&&s<=50527||50529<=s&&s<=50555||50557<=s&&s<=50583||50585<=s&&s<=50611||50613<=s&&s<=50639||50641<=s&&s<=50667||50669<=s&&s<=50695||50697<=s&&s<=50723||50725<=s&&s<=50751||50753<=s&&s<=50779||50781<=s&&s<=50807||50809<=s&&s<=50835||50837<=s&&s<=50863||50865<=s&&s<=50891||50893<=s&&s<=50919||50921<=s&&s<=50947||50949<=s&&s<=50975||50977<=s&&s<=51003||51005<=s&&s<=51031||51033<=s&&s<=51059||51061<=s&&s<=51087||51089<=s&&s<=51115||51117<=s&&s<=51143||51145<=s&&s<=51171||51173<=s&&s<=51199||51201<=s&&s<=51227||51229<=s&&s<=51255||51257<=s&&s<=51283||51285<=s&&s<=51311||51313<=s&&s<=51339||51341<=s&&s<=51367||51369<=s&&s<=51395||51397<=s&&s<=51423||51425<=s&&s<=51451||51453<=s&&s<=51479||51481<=s&&s<=51507||51509<=s&&s<=51535||51537<=s&&s<=51563||51565<=s&&s<=51591||51593<=s&&s<=51619||51621<=s&&s<=51647||51649<=s&&s<=51675||51677<=s&&s<=51703||51705<=s&&s<=51731||51733<=s&&s<=51759||51761<=s&&s<=51787||51789<=s&&s<=51815||51817<=s&&s<=51843||51845<=s&&s<=51871||51873<=s&&s<=51899||51901<=s&&s<=51927||51929<=s&&s<=51955||51957<=s&&s<=51983||51985<=s&&s<=52011||52013<=s&&s<=52039||52041<=s&&s<=52067||52069<=s&&s<=52095||52097<=s&&s<=52123||52125<=s&&s<=52151||52153<=s&&s<=52179||52181<=s&&s<=52207||52209<=s&&s<=52235||52237<=s&&s<=52263||52265<=s&&s<=52291||52293<=s&&s<=52319||52321<=s&&s<=52347||52349<=s&&s<=52375||52377<=s&&s<=52403||52405<=s&&s<=52431||52433<=s&&s<=52459||52461<=s&&s<=52487||52489<=s&&s<=52515||52517<=s&&s<=52543||52545<=s&&s<=52571||52573<=s&&s<=52599||52601<=s&&s<=52627||52629<=s&&s<=52655||52657<=s&&s<=52683||52685<=s&&s<=52711||52713<=s&&s<=52739||52741<=s&&s<=52767||52769<=s&&s<=52795||52797<=s&&s<=52823||52825<=s&&s<=52851||52853<=s&&s<=52879||52881<=s&&s<=52907||52909<=s&&s<=52935||52937<=s&&s<=52963||52965<=s&&s<=52991||52993<=s&&s<=53019||53021<=s&&s<=53047||53049<=s&&s<=53075||53077<=s&&s<=53103||53105<=s&&s<=53131||53133<=s&&s<=53159||53161<=s&&s<=53187||53189<=s&&s<=53215||53217<=s&&s<=53243||53245<=s&&s<=53271||53273<=s&&s<=53299||53301<=s&&s<=53327||53329<=s&&s<=53355||53357<=s&&s<=53383||53385<=s&&s<=53411||53413<=s&&s<=53439||53441<=s&&s<=53467||53469<=s&&s<=53495||53497<=s&&s<=53523||53525<=s&&s<=53551||53553<=s&&s<=53579||53581<=s&&s<=53607||53609<=s&&s<=53635||53637<=s&&s<=53663||53665<=s&&s<=53691||53693<=s&&s<=53719||53721<=s&&s<=53747||53749<=s&&s<=53775||53777<=s&&s<=53803||53805<=s&&s<=53831||53833<=s&&s<=53859||53861<=s&&s<=53887||53889<=s&&s<=53915||53917<=s&&s<=53943||53945<=s&&s<=53971||53973<=s&&s<=53999||54001<=s&&s<=54027||54029<=s&&s<=54055||54057<=s&&s<=54083||54085<=s&&s<=54111||54113<=s&&s<=54139||54141<=s&&s<=54167||54169<=s&&s<=54195||54197<=s&&s<=54223||54225<=s&&s<=54251||54253<=s&&s<=54279||54281<=s&&s<=54307||54309<=s&&s<=54335||54337<=s&&s<=54363||54365<=s&&s<=54391||54393<=s&&s<=54419||54421<=s&&s<=54447||54449<=s&&s<=54475||54477<=s&&s<=54503||54505<=s&&s<=54531||54533<=s&&s<=54559||54561<=s&&s<=54587||54589<=s&&s<=54615||54617<=s&&s<=54643||54645<=s&&s<=54671||54673<=s&&s<=54699||54701<=s&&s<=54727||54729<=s&&s<=54755||54757<=s&&s<=54783||54785<=s&&s<=54811||54813<=s&&s<=54839||54841<=s&&s<=54867||54869<=s&&s<=54895||54897<=s&&s<=54923||54925<=s&&s<=54951||54953<=s&&s<=54979||54981<=s&&s<=55007||55009<=s&&s<=55035||55037<=s&&s<=55063||55065<=s&&s<=55091||55093<=s&&s<=55119||55121<=s&&s<=55147||55149<=s&&s<=55175||55177<=s&&s<=55203?10:9757==s||9977==s||9994<=s&&s<=9997||127877==s||127938<=s&&s<=127940||127943==s||127946<=s&&s<=127948||128066<=s&&s<=128067||128070<=s&&s<=128080||128110==s||128112<=s&&s<=128120||128124==s||128129<=s&&s<=128131||128133<=s&&s<=128135||128170==s||128372<=s&&s<=128373||128378==s||128400==s||128405<=s&&s<=128406||128581<=s&&s<=128583||128587<=s&&s<=128591||128675==s||128692<=s&&s<=128694||128704==s||128716==s||129304<=s&&s<=129308||129310<=s&&s<=129311||129318==s||129328<=s&&s<=129337||129341<=s&&s<=129342||129489<=s&&s<=129501?r:127995<=s&&s<=127999?14:8205==s?15:9792==s||9794==s||9877<=s&&s<=9878||9992==s||10084==s||127752==s||127806==s||127859==s||127891==s||127908==s||127912==s||127979==s||127981==s||128139==s||128187<=s&&s<=128188||128295==s||128300==s||128488==s||128640==s||128658==s?o:128102<=s&&s<=128105?i:11}return this.nextBreak=function(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;for(var n=c(a(e,t)),r=[],o=t+1;o<e.length;o++)if(!s(e,o-1)){var i=c(a(e,o));if(l(n,r,i))return o;r.push(i)}return e.length},this.splitGraphemes=function(e){for(var t,n=[],r=0;(t=this.nextBreak(e,r))<e.length;)n.push(e.slice(r,t)),r=t;return r<e.length&&n.push(e.slice(r)),n},this.iterateGraphemes=function(e){var t=0,n={next:function(){var n,r;return(r=this.nextBreak(e,t))<e.length?(n=e.slice(t,r),t=r,{value:n,done:!1}):t<e.length?(n=e.slice(t),t=e.length,{value:n,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return n}),n},this.countGraphemes=function(e){for(var t,n=0,r=0;(t=this.nextBreak(e,r))<e.length;)r=t,n++;return r<e.length&&n++,n},this})}),r=new n,o=function(e,t,n){for(var o=r.iterateGraphemes(e.substring(t)),i="",s=0;s<n-t;s++){var a=o.next();if(i+=a.value,a.done)break}return i},i=function(e,t,n,r,o,i,s){return{start:{line:e,column:t,offset:n},end:{line:r,column:o,offset:i},source:s||null}},s=t(function(e,t){e.exports=function(){var e,t="",n=r;function r(n,r){if("string"!=typeof n)throw new TypeError("expected a string");if(1===r)return n;if(2===r)return n+n;var o=n.length*r;if(e!==n||void 0===e)e=n,t="";else if(t.length>=o)return t.substr(0,o);for(;o>t.length&&r>1;)1&r&&(t+=n),r>>=1,n+=n;return t=(t+=n).substr(0,o)}var o=function(e,t,n){if(null==e||null==t)return e;var r=String(e),o="number"==typeof t?t:parseInt(t,10);if(isNaN(o)||!isFinite(o))return r;var i=r.length;if(i>=o)return r;var s=null==n?"":String(n);""===s&&(s=" ");for(var a=o-i;s.length<a;)s+=s;return(s.length>a?s.substr(0,a):s)+r},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e,t,r,i){var s=String(t),a=o(s,r," "),l=n(" ",i.tabSize);return a+" | "+e.replace(/\t/g,l)}function a(e,t,n,r,o){return e.slice(t,n).map(function(e,n){return s(e,t+n+1,r,o)}).join("\n")}var l={extraLines:2,tabSize:4},c=function(e,t,r,o){o=i({},l,o);var c=e.split(/\r\n?|\n|\f/),u=Math.max(1,t-o.extraLines)-1,p=Math.min(t+o.extraLines,c.length),f=String(p).length,d=a(c,u,t,f,o),m=s(c[t-1].substring(0,r-1),t,f,o);return[d,n(" ",m.length)+"^",a(c,t,p,f,o)].filter(Boolean).join("\n")};return c}()}),a=(new Error).stack,l=function(e,t,n,r,o){throw function(e){var t=Object.create(SyntaxError.prototype);return Object.assign(t,e,{name:"SyntaxError"}),Object.defineProperty(t,"stack",{get:function(){return a?a.replace(/^(.+\n){1,3}/,String(t)+"\n"):""}}),t}({message:r?e+"\n"+s(t,r,o):e,rawMessage:e,source:n,line:r,column:o})},c=function(){return"Unexpected end of input"},u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"Unexpected token <"+e+"> at "+n.filter(Boolean).join(":")},p=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"Unexpected symbol <"+e+"> at "+n.filter(Boolean).join(":")},f=0,d=1,m=2,y=3,h=4,b=5,g=6,v=7,O=8,j=9,x=10,T={"{":f,"}":d,"[":m,"]":y,":":h,",":b},P={true:O,false:j,null:x},A=0,E=1,S=2,C={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},w=0,N=1,$=2,I=3,R=4,_=5,K=6,M=7;function k(e){return e>="1"&&e<="9"}function J(e){return e>="0"&&e<="9"}function L(e){return J(e)||e>="a"&&e<="f"||e>="A"&&e<="F"}function q(e){return"e"===e||"E"===e}function U(e,t,n,r){var o=e.charAt(t);if("\r"===o)t++,n++,r=1,"\n"===e.charAt(t)&&t++;else if("\n"===o)t++,n++,r=1;else{if("\t"!==o&&" "!==o)return null;t++,r++}return{index:t,line:n,column:r}}function B(e,t,n,r){var o=e.charAt(t);return o in T?{type:T[o],line:n,column:r+1,index:t+1,value:null}:null}function F(e,t,n,r){for(var o in P)if(P.hasOwnProperty(o)&&e.substr(t,o.length)===o)return{type:P[o],line:n,column:r+o.length,index:t+o.length,value:o};return null}function D(e,t,n,r){for(var o=t,i=A;t<e.length;){var s=e.charAt(t);switch(i){case A:if('"'!==s)return null;t++,i=E;break;case E:if("\\"===s)t++,i=S;else{if('"'===s)return t++,{type:g,line:n,column:r+t-o,index:t,value:e.slice(o,t)};t++}break;case S:if(!(s in C))return null;if(t++,"u"===s)for(var a=0;a<4;a++){var l=e.charAt(t);if(!l||!L(l))return null;t++}i=E}}}function W(e,t,n,r){var o=t,i=t,s=w;e:for(;t<e.length;){var a=e.charAt(t);switch(s){case w:if("-"===a)s=N;else if("0"===a)i=t+1,s=$;else{if(!k(a))return null;i=t+1,s=I}break;case N:if("0"===a)i=t+1,s=$;else{if(!k(a))return null;i=t+1,s=I}break;case $:if("."===a)s=R;else{if(!q(a))break e;s=K}break;case I:if(J(a))i=t+1;else if("."===a)s=R;else{if(!q(a))break e;s=K}break;case R:if(!J(a))break e;i=t+1,s=_;break;case _:if(J(a))i=t+1;else{if(!q(a))break e;s=K}break;case K:if("+"===a||"-"===a)s=M;else{if(!J(a))break e;i=t+1,s=M}break;case M:if(!J(a))break e;i=t+1}t++}return i>0?{type:v,line:n,column:r+i-o,index:i,value:e.slice(o,i)}:null}var V=0,z=1,Q=2,G=3,Y=0,Z=1,H=2,X=0,ee=1,te=2,ne=3,re={loc:!0,source:null};function oe(e,t,n){var r=t.length>0?t[t.length-1].loc.end:{line:1,column:1};l(c(),e,n.source,r.line,r.column)}function ie(e){for(var t=0,n=0;n<4;n++)t=16*t+parseInt(e[n],16);return String.fromCharCode(t)}var se={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},ae=['"',"\\","/"];function le(e){for(var t="",n=0;n<e.length;n++){var r=e.charAt(n);if("\\"===r){n++;var o=e.charAt(n);if("u"===o)t+=ie(e.substr(n+1,4)),n+=4;else if(-1!==ae.indexOf(o))t+=o;else{if(!(o in se))break;t+=se[o]}}else t+=r}return t}function ce(e,t,n,r){for(var s=void 0,a={type:"Object",children:[]},c=V;n<t.length;){var p=t[n];switch(c){case V:if(p.type!==f)return null;s=p,c=z,n++;break;case z:if(p.type===d)return r.loc&&(a.loc=i(s.loc.start.line,s.loc.start.column,s.loc.start.offset,p.loc.end.line,p.loc.end.column,p.loc.end.offset,r.source)),{value:a,index:n+1};var m=ue(e,t,n,r);a.children.push(m.value),c=Q,n=m.index;break;case Q:if(p.type===d)return r.loc&&(a.loc=i(s.loc.start.line,s.loc.start.column,s.loc.start.offset,p.loc.end.line,p.loc.end.column,p.loc.end.offset,r.source)),{value:a,index:n+1};p.type===b?(c=G,n++):l(u(o(e,p.loc.start.offset,p.loc.end.offset),r.source,p.loc.start.line,p.loc.start.column),e,r.source,p.loc.start.line,p.loc.start.column);break;case G:var y=ue(e,t,n,r);y?(n=y.index,a.children.push(y.value),c=Q):l(u(o(e,p.loc.start.offset,p.loc.end.offset),r.source,p.loc.start.line,p.loc.start.column),e,r.source,p.loc.start.line,p.loc.start.column)}}oe(e,t,r)}function ue(e,t,n,r){for(var s=void 0,a={type:"Property",key:null,value:null},c=Y;n<t.length;){var p=t[n];switch(c){case Y:if(p.type!==g)return null;var f={type:"Identifier",value:le(e.slice(p.loc.start.offset+1,p.loc.end.offset-1)),raw:p.value};r.loc&&(f.loc=p.loc),s=p,a.key=f,c=Z,n++;break;case Z:p.type===h?(c=H,n++):l(u(o(e,p.loc.start.offset,p.loc.end.offset),r.source,p.loc.start.line,p.loc.start.column),e,r.source,p.loc.start.line,p.loc.start.column);break;case H:var d=de(e,t,n,r);return a.value=d.value,r.loc&&(a.loc=i(s.loc.start.line,s.loc.start.column,s.loc.start.offset,d.value.loc.end.line,d.value.loc.end.column,d.value.loc.end.offset,r.source)),{value:a,index:d.index}}}}function pe(e,t,n,r){for(var s=void 0,a={type:"Array",children:[]},c=X,p=void 0;n<t.length;)switch(p=t[n],c){case X:if(p.type!==m)return null;s=p,c=ee,n++;break;case ee:if(p.type===y)return r.loc&&(a.loc=i(s.loc.start.line,s.loc.start.column,s.loc.start.offset,p.loc.end.line,p.loc.end.column,p.loc.end.offset,r.source)),{value:a,index:n+1};var f=de(e,t,n,r);n=f.index,a.children.push(f.value),c=te;break;case te:if(p.type===y)return r.loc&&(a.loc=i(s.loc.start.line,s.loc.start.column,s.loc.start.offset,p.loc.end.line,p.loc.end.column,p.loc.end.offset,r.source)),{value:a,index:n+1};p.type===b?(c=ne,n++):l(u(o(e,p.loc.start.offset,p.loc.end.offset),r.source,p.loc.start.line,p.loc.start.column),e,r.source,p.loc.start.line,p.loc.start.column);break;case ne:var d=de(e,t,n,r);n=d.index,a.children.push(d.value),c=te}oe(e,t,r)}function fe(e,t,n,r){var o=t[n],i=null;switch(o.type){case g:i=le(e.slice(o.loc.start.offset+1,o.loc.end.offset-1));break;case v:i=Number(o.value);break;case O:i=!0;break;case j:i=!1;break;case x:i=null;break;default:return null}var s={type:"Literal",value:i,raw:o.value};return r.loc&&(s.loc=o.loc),{value:s,index:n+1}}function de(e,t,n,r){var i=t[n],s=fe.apply(void 0,arguments)||ce.apply(void 0,arguments)||pe.apply(void 0,arguments);if(s)return s;l(u(o(e,i.loc.start.offset,i.loc.end.offset),r.source,i.loc.start.line,i.loc.start.column),e,r.source,i.loc.start.line,i.loc.start.column)}return function(e,t){var n=function(e,t){for(var n=1,r=1,s=0,a=[];s<e.length;){var c=[e,s,n,r],u=U.apply(void 0,c);if(u)s=u.index,n=u.line,r=u.column;else{var f=B.apply(void 0,c)||F.apply(void 0,c)||D.apply(void 0,c)||W.apply(void 0,c);if(f){var d={type:f.type,value:f.value,loc:i(n,r,s,f.line,f.column,f.index,t.source)};a.push(d),s=f.index,n=f.line,r=f.column}else l(p(o(e,s,s+1),t.source,n,r),e,t.source,n,r)}}return a}(e,t=Object.assign({},re,t));0===n.length&&oe(e,n,t);var r=de(e,n,0,t);if(r.index===n.length)return r.value;var s=n[r.index];l(u(o(e,s.loc.start.offset,s.loc.end.offset),t.source,s.loc.start.line,s.loc.start.column),e,t.source,s.loc.start.line,s.loc.start.column)}})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonpos=n.getLocation=n.getAstByString=n.getAstByObject=void 0;const r=e("./lib/parse");Object.defineProperty(n,"getAstByObject",{enumerable:!0,get:function(){return r.getAstByObject}}),Object.defineProperty(n,"getAstByString",{enumerable:!0,get:function(){return r.getAstByString}});const o=e("./lib/location");Object.defineProperty(n,"getLocation",{enumerable:!0,get:function(){return o.getLocation}}),n.jsonpos=function(e,t){return o.getLocation("string"==typeof e?r.getAstByString(e):r.getAstByObject(e),t)}},{"./lib/location":26,"./lib/parse":27}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getLocation=void 0,n.getLocation=function(e,{dataPath:t,markIdentifier:n=!1}){const{jsonAST:r}=e,o=Array.isArray(t)?t:(t.startsWith(".")?t.slice(1):t).split(".").filter(e=>e),i=e=>`${(e=>"."+o.slice(0,e).join("."))(e)} [query: ${o.join(".")}]`,{loc:s}=o.reduce((e,t,r)=>"Object"===e.type?(()=>{const s=e.children.find(e=>e.key.value===t);if(!s)throw new Error(`No such property ${t} in ${i(r)}`);const{key:a,value:l}=s;return n&&r===o.length-1?a:l})():"Array"===e.type?(()=>{const n=Number(t);if(isNaN(n))throw new Error(`Invalid non-numeric array index "${t}" in array at ${i(r)}`);if(n<0||n>=e.children.length)throw new RangeError(`Index ${n} out-of-bounds in array of size ${e.children.length} at ${i(r)}`);return e.children,e.children[Number(t)]})():e,r);return{start:null==s?void 0:s.start,end:null==s?void 0:s.end}}},{}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getAstByObject=n.getAstByString=void 0;const r=e("json-to-ast");function o(e,t){const n=r(e,{loc:!0});return{json:t||JSON.parse(e),jsonString:e,jsonAST:n}}n.getAstByString=o,n.getAstByObject=function(e,t=4){return o(JSON.stringify(e,null,t))}},{"json-to-ast":24}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("core-types-json-schema"),o=e("./utils/sharedUtils"),i=e("./utils/constants"),s=e("./utils/nosqlUtils"),a=e("./utils/constants-nosql");Draw.loadPlugin(function(e){const t=document.createElement("div");t.style.userSelect="none",t.style.overflow="hidden",t.style.padding="10px",t.style.height="100%";const n=document.createElement("textarea");n.style.height="200px",n.style.width="100%";const l="-- click a nosql type button";n.value=l,mxUtils.br(t),t.appendChild(n);const c=e.menus.get("exportAs");let u="tonosql=To NoSQL";c&&!window.VsCodeApi||(u="tonosql=Export As NoSQL"),mxResources.parse(u);const p=new mxWindow(mxResources.get("tonosql"),t,document.body.offsetWidth-480,140,320,320,!0,!0);p.destroyOnClose=!1,p.setMaximizable(!1),p.setResizable(!1),p.setClosable(!0),mxUtils.br(t);const f=mxUtils.button(mxResources.get("reset"),function(){n.value=l});f.style.marginTop="8px",f.style.marginRight="4px",f.style.padding="4px",t.appendChild(f);const d=mxUtils.button("OpenAPI",function(){!function(t){const r=(0,o.getMermaidDiagramDb)(e,t),i=(0,s.dbToOpenApi)(r);let a="";if("openapi"!=t)throw new Error(`type:${t} is not supported`);a=JSON.stringify(i,null,2),n.value=a}("openapi")});d.style.marginTop="8px",d.style.padding="4px",t.appendChild(d),e.actions.addAction("tonosql",function(){p.setVisible(!p.isVisible()),p.isVisible()&&n.focus()});let m=[],y=[],h=[],b=[],g=null,v=null,O=0,j=0;const x=document.createElement("div");x.style.userSelect="none",x.style.overflow="hidden",x.style.padding="10px",x.style.height="100%";const T=document.createElement("textarea");T.style.height="200px",T.style.width="100%",T.value=a.defaultResetOpenApi,mxUtils.br(x),x.appendChild(T),mxResources.parse("fromNoSql=From NoSQL");const P=new mxWindow(mxResources.get("fromNoSql"),x,document.body.offsetWidth-480,140,320,320,!0,!0);P.destroyOnClose=!1,P.setMaximizable(!1),P.setResizable(!1),P.setClosable(!0),mxUtils.br(x);const A=mxUtils.button("Reset OpenAPI",function(){T.value=a.defaultResetOpenApi});A.style.marginTop="8px",A.style.marginRight="4px",A.style.padding="4px",x.appendChild(A);const E=mxUtils.button("Insert OpenAPI",function(){!function(t,n){var a;b=[],g=null,v=null;try{let l=null;const c={title:"nosql default options",version:i.pluginVersion};if("openapi"!=n)throw new Error(`type:${n} is not supported`);{const e=JSON.parse(t),{data:n}=(0,r.convertOpenApiToCoreTypes)(e),{data:o}=(0,r.convertCoreTypesToJsonSchema)(n);(0,r.jsonSchemaDocumentToOpenApi)(o,c),l=e}const u=null===(a=null==l?void 0:l.components)||void 0===a?void 0:a.schemas;if(u){const t=(0,s.ConvertOpenApiToDatabaseModel)(u);m=t.ForeignKeyList,y=t.PrimaryKeyList,h=t.TableList,j=h.length;const r=(0,o.CreateTableUI)(e,P,h,b,v,g,m,O,n);r&&(b=r.cells,O=r.dx,g=r.tableCell,v=r.rowCell)}}catch(e){console.log(`unable to serialize the response:${n}`),console.log(e)}}(T.value,"openapi")});E.style.marginTop="8px",E.style.padding="4px",x.appendChild(E),e.actions.addAction("fromNoSql",function(){P.setVisible(!P.isVisible()),P.isVisible()&&T.focus()});const S=e.menus.get("insert");if(S){const t=S.funct;S.funct=function(...n){const[r,o]=n;t.apply(this,n),e.menus.addMenuItems(r,["fromNoSql"],o)}}if(c&&!window.VsCodeApi){const t=c.funct;c.funct=function(...n){const[r,o]=n;t.apply(this,n),e.menus.addMenuItems(r,["tonosql"],o)}}else{const t=e.menus.get("file");if(t&&t.enabled){const n=t.funct;t.funct=function(...t){const[r,o]=t;n.apply(this,t),e.menus.addMenuItems(r,["tonosql"],o)}}}})},{"./utils/constants":30,"./utils/constants-nosql":29,"./utils/nosqlUtils":31,"./utils/sharedUtils":32,"core-types-json-schema":1}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.validJSONSchemaTypes=n.defaultResetOpenApi=n.defaultReset=void 0;const r=e("./constants");n.defaultReset=`/*\n\tDrawio default value\n\tPlugin: nosql\n\tVersion: ${r.pluginVersion}\n*/\n\n\nexport interface WeatherForecast {\n  /** @format date-time */\n  date?: string;\n  /** @format int32 */\n  temperatureC?: number;\n  /** @format int32 */\n  temperatureF?: number;\n  summary?: string | null;\n  nestedProp: string[];\n  children?: Child[];\n}\n\nexport interface Child {\n  name: string\n}\n    `,n.defaultResetOpenApi=`\n{\n  "openapi": "3.0.0",\n  "info": {\n    "title": "nosql plugin sample",\n    "version": "${r.pluginVersion}",\n    "x-comment": "Generated by core-types-json-schema (https://github.com/grantila/core-types-json-schema)"\n  },\n  "paths": {},\n  "components": {\n    "schemas": {\n      "WeatherForecast": {\n        "properties": {\n          "date": {\n            "title": "WeatherForecast.date",\n            "description": "@format date-time",\n            "type": "string"\n          },\n          "temperatureC": {\n            "title": "WeatherForecast.temperatureC",\n            "description": "@format int32",\n            "type": "number"\n          },\n          "temperatureF": {\n            "title": "WeatherForecast.temperatureF",\n            "description": "@format int32",\n            "type": "number"\n          },\n          "summary": {\n            "title": "WeatherForecast.summary",\n            "nullable": true,\n            "type": "string"\n          },\n          "nestedProp": {\n            "items": {\n              "title": "WeatherForecast.nestedProp.[]",\n              "type": "string"\n            },\n            "title": "WeatherForecast.nestedProp",\n            "type": "array"\n          },\n          "child": {\n            "$ref": "#/components/schemas/Child",\n            "title": "WeatherForecast.child"\n          }\n        },\n        "required": [\n          "nestedProp"\n        ],\n        "additionalProperties": false,\n        "title": "WeatherForecast",\n        "type": "object"\n      },\n      "Child": {\n        "properties": {\n          "name": {\n            "title": "Child.name",\n            "type": "string"\n          }\n        },\n        "required": [\n          "name"\n        ],\n        "additionalProperties": false,\n        "title": "Child",\n        "type": "object"\n      }\n    }\n  }\n}\n    `;n.validJSONSchemaTypes=["string","number","integer","boolean","object","array","null","any"]},{"./constants":30}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.objectKeyword=n.arrayKeyword=n.nullableKeyword=n.enumKeyword=n.formatKeyword=n.commentColumnQuantifiers=n.pluginVersion=void 0,n.pluginVersion="0.0.7",n.commentColumnQuantifiers={Start:"/**",End:"*/"},n.formatKeyword="@format",n.enumKeyword="enum",n.nullableKeyword="nullable",n.arrayKeyword="array",n.objectKeyword="object"},{}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dbToOpenApi=function(e){var t,n,s,a,l,c;const u={openapi:"3.0.0",info:{title:"drawio nosql export",version:r.pluginVersion,"x-comment":"Generated by from drawio uml using plugin nosql"},paths:{},components:{schemas:{}}},p={},f=e.getEntities();for(const u in f)if(Object.prototype.hasOwnProperty.call(f,u)){let d=u;const m=f[u];let y=(0,o.getCommentIndexes)(u),h="",b="";if(y.start>-1&&y.end>-1){let e=d.toString().trim();y=(0,o.getCommentIndexes)(e);const t=y.start,n=y.end;if(d=e.substring(0,y.beforeStart).trim(),e=e.substring(t,n).trim(),-1!==e.indexOf(r.formatKeyword)){const t=e.indexOf(r.formatKeyword);b=e.substring(t+r.formatKeyword.length).trim(),e=e.substring(0,t)}e&&(h=e)}if(p[d])continue;p[d]={type:r.objectKeyword,title:d,additionalProperties:!1,properties:{}},h&&(p[d].description=h.trim()),b&&(p[d].format=b.trim());for(let f=0;f<m.attributes.length;f++){const y=m.attributes[f],h=y.attributeName.trim();if(!h||p[d].properties[h])continue;let b=!1,g=null!==(s=(null!==(n=null===(t=y.attributeType)||void 0===t?void 0:t.trim().split(" "))&&void 0!==n?n:[])[0])&&void 0!==s?s:"string";if(-1!==h.indexOf(r.enumKeyword)){const e=h.split(" ");2==e.length&&-1!==i.validJSONSchemaTypes.indexOf(e[0])&&e[1]==r.enumKeyword&&(b=!0,g=e[0])}let v="",O="",j=null;if((null===(a=y.attributeType)||void 0===a?void 0:a.includes(r.commentColumnQuantifiers.Start))&&(null===(l=y.attributeType)||void 0===l?void 0:l.includes(r.commentColumnQuantifiers.End))){let e=y.attributeType;const t=(0,o.getCommentIndexes)(e),n=t.start,i=t.end,s=e.substring(0,t.beforeStart).trim();if(s)try{j=JSON.parse(s)}catch(e){console.log(`Error parsing raw enum values: ${s} Message: ${JSON.stringify(e)}`)}if(e=e.substring(n,i),-1!==e.indexOf(r.formatKeyword)){const t=e.indexOf(r.formatKeyword);O=e.substring(t+r.formatKeyword.length).trim(),e=e.substring(0,t)}e.trim()&&(v=e.trim())}if(b){if(p[d].enum)continue;j&&(p[d].enum=j),v.trim()&&(p[d].description=v.trim()),O.trim()&&(p[d].format=O.trim()),p[d].type=g}else{let t=null,n=!1,r=null,s=null;if(-1===i.validJSONSchemaTypes.indexOf(g)){if(-1!=g.indexOf("[]")){const e=g.replace("[]","");-1!=i.validJSONSchemaTypes.indexOf(e)&&(r={type:e},g="array")}-1!=i.validJSONSchemaTypes.indexOf(g)||(n=!0,t=`#/components/schemas/${(0,o.RemoveNameQuantifiers)(g)}`)}if(-1!==["array","object"].indexOf(g)){const n=e.getRelationships().filter(e=>e.entityA==u),i=`[${u}.${h}]`,a=n.find(e=>-1!=e.roleA.indexOf(i));if(a){const e=(0,o.getCommentIndexes)(a.entityB);t=`#/components/schemas/${a.entityB.substring(0,e.beforeStart).trim()}`}t&&("array"==g&&(r={$ref:t}),"object"==g&&(s={$ref:t}))}const a={title:`${d}.${h}`,type:g};s&&(a.additionalProperties=s),r&&(a.items=r),(null===(c=y.attributeType)||void 0===c?void 0:c.includes("nullable"))&&(a.nullable=!0),!t||(null==s?void 0:s.$ref)||(null==r?void 0:r.$ref)||(a.$ref=t),n&&delete a.type,v.trim()&&!t&&(a.description=v.trim()),O.trim()&&(a.items?a.items.format=O.trim():a.format=O.trim()),p[d].properties[y.attributeName]=a}}0===Object.keys(p[d].properties).length&&delete p[d].properties}return u.components.schemas=p,u},n.GeneratePropertyModel=s,n.ConvertOpenApiToDatabaseModel=function(e){var t,n,i,a,l,c;const u={Dialect:"nosql",TableList:[],PrimaryKeyList:[],ForeignKeyList:[]},p={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i],l=(0,o.dbTypeEnds)(i),c={Name:(0,o.dbTypeEnds)(i),Properties:[]};if(a.enum){const e=a.enum,t=`${a.type} ${r.enumKeyword}`,n={enum:e};a.description&&(n.description=a.description),a.format&&(n.format=a.format);const o=s(i,t,n);c.Properties.push(o)}else{const e=(0,o.generateComment)(a.description,a.format);e&&(c.Name+=` ${e}`)}for(const i in a.properties)if(Object.prototype.hasOwnProperty.call(a.properties,i)){const l=a.properties[i];let p=null;if(l.$ref?p=l.$ref.split("/").pop():l.items&&typeof l.items==r.objectKeyword?p=null===(t=l.items.$ref)||void 0===t?void 0:t.split("/").pop():l.additionalProperties&&"object"==typeof l.additionalProperties&&(p=null===(n=l.additionalProperties.$ref)||void 0===n?void 0:n.split("/").pop()),p){const t=e[p];if(t&&!t.enum){const e=(0,o.generateComment)(t.description,t.format);p=e?`${(0,o.dbTypeEnds)(p)} ${e}`:(0,o.dbTypeEnds)(p)}else p=(0,o.dbTypeEnds)(p)}p&&!l.type&&(l.type=p);const f=s(c.Name,i,l);if(p){const e={PrimaryKeyTableName:c.Name,ReferencesTableName:p,PrimaryKeyName:(0,o.dbTypeEnds)(i),ReferencesPropertyName:"",IsDestination:!1},t={ReferencesTableName:c.Name,PrimaryKeyTableName:p,ReferencesPropertyName:(0,o.dbTypeEnds)(i),PrimaryKeyName:"",IsDestination:!0};u.ForeignKeyList.push(t),u.ForeignKeyList.push(e),f.IsForeignKey=!0}c.Properties.push(f)}u.TableList.push(c),p[l]||(p[l]=c)}for(let e=0;e<u.ForeignKeyList.length;e++){const t=u.ForeignKeyList[e];if(!t.ReferencesPropertyName){let n=null===(i=u.TableList.find(e=>e.Name==t.ReferencesTableName))||void 0===i?void 0:i.Properties[0];n||(n=null===(a=p[t.ReferencesTableName])||void 0===a?void 0:a.Properties[0]),n&&(u.ForeignKeyList[e].ReferencesPropertyName=n.Name)}if(!t.PrimaryKeyName){let n=null===(l=u.TableList.find(e=>e.Name==t.PrimaryKeyTableName))||void 0===l?void 0:l.Properties[0];n||(n=null===(c=p[t.PrimaryKeyTableName])||void 0===c?void 0:c.Properties[0]),n&&(u.ForeignKeyList[e].PrimaryKeyName=n.Name)}}return u};const r=e("./constants"),o=e("./sharedUtils"),i=e("./constants-nosql");function s(e,t,n){var i;let s=(null!==(i=n.type)&&void 0!==i?i:r.objectKeyword).toString();s===r.arrayKeyword&&n.items&&typeof n.items===r.objectKeyword&&(n.items.format&&!n.format&&(n.format=n.items.format),n.items.type&&(s=`${n.items.type}[]`)),n.enum?s=`${JSON.stringify(n.enum)}`:n.nullable&&(s+=` ${r.nullableKeyword}`);const a=(0,o.generateComment)(n.description,n.format);a&&(s+=` ${a}`);return{Name:(0,o.dbTypeEnds)(t),IsPrimaryKey:!1,IsForeignKey:!1,ColumnProperties:s,TableName:(0,o.dbTypeEnds)(e),ForeignKey:[]}}},{"./constants":30,"./constants-nosql":29,"./sharedUtils":32}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GetColumnQuantifiers=o,n.removeHtml=i,n.dbTypeEnds=function(e){return`\`${e}\``},n.RemoveNameQuantifiers=s,n.getDbLabel=a,n.entityName=function(e,t){let n="";e&&(n+=`${e}`);t&&(n+=` ${r.formatKeyword} ${t}`);n&&(n=n.trim(),n=`/** ${n} */`);return n},n.getCommentIndexes=l,n.getMermaidDiagramDb=function(e,t){const n=e.editor.graph.getModel(),i={},p=[];for(const e in n.cells)if(Object.hasOwnProperty.call(n.cells,e)){const c=n.cells[e];if(-1!==c.mxObjectId.indexOf("mxCell")&&c.style&&c.style.trim().startsWith("swimlane;")){let e=c.value.toString(),n="",f="";if((null==e?void 0:e.includes(r.commentColumnQuantifiers.Start))&&(null==e?void 0:e.includes(r.commentColumnQuantifiers.End))){let t=e.toString();const o=l(t),i=o.start,s=o.end;if(e=t.substring(0,o.beforeStart),t=t.substring(i,s),-1!==t.indexOf(r.formatKeyword)){const e=t.indexOf(r.formatKeyword);f=t.substring(e+r.formatKeyword.length).trim(),t=t.substring(0,e)}t&&(n=t)}const d={name:s(e),attributes:[]},m=u(n,f);m&&(d.name+=` ${m}`);for(let e=0;e<c.children.length;e++){const n=c.children[e];if(-1!==n.mxObjectId.indexOf("mxCell")&&n.style&&n.style.trim().startsWith("shape=partialRectangle")){const e=o(t),r=a(n.value,e),c=n.children.find(e=>-1!==["FK","PK"].findIndex(t=>t==e.value.toUpperCase())||-1!=e.value.toUpperCase().indexOf("PK,"));if(c&&(r.attributeKeyType=c.value,"PK"!=r.attributeKeyType&&-1!=r.attributeKeyType.indexOf("PK")&&(r.attributeKeyType="PK")),d.attributes.push(r),n.edges&&n.edges.length)for(let t=0;t<n.edges.length;t++){const r=n.edges[t];if(-1!==r.mxObjectId.indexOf("mxCell")&&r.style&&-1!=r.style.indexOf("endArrow=")&&r.source&&r.source.value&&r.target&&r.target.value){const t="endArrow=",n=-1!=r.style.indexOf(t)?r.style.substring(r.style.indexOf(t)+t.length,r.style.substring(r.style.indexOf(t)+t.length).indexOf(";")+r.style.indexOf(t)+t.length):"",o="startArrow=",c=-1!=r.style.indexOf(o)?r.style.substring(r.style.indexOf(o)+o.length,r.style.substring(r.style.indexOf(o)+o.length).indexOf(";")+r.style.indexOf(o)+o.length):"",f=["open","many"],d=n&&-1!=f.findIndex(e=>-1!=n.toLocaleLowerCase().indexOf(e)),m=c&&-1!=f.findIndex(e=>-1!=c.toLocaleLowerCase().indexOf(e));if(!m&&!d||m&&d){if(m&&d){let t=r.source.value;const n=a(t,e);n.attributeKeyType="PK",t=n.attributeName;const o=s(r.source.parent.value);let l=r.target.value;const c=a(l,e);c.attributeKeyType="PK",l=c.attributeName;const u=s(r.target.parent.value),f={name:s(o)+"_"+s(u),attributes:[n,c]};i[f.name]||(i[f.name]=f);const d={entityA:o,entityB:f.name,relSpec:{cardA:"ZERO_OR_MORE",cardB:"ONLY_ONE",relType:"IDENTIFYING"},roleA:`[${o}.${t}] to [${f.name}.${t}]`};let m=p.findIndex(e=>e.entityA==d.entityA&&e.entityB==d.entityB&&e.roleA==d.roleA);-1==m&&p.push(d);const y={entityA:u,entityB:f.name,relSpec:{cardA:"ZERO_OR_MORE",cardB:"ONLY_ONE",relType:"IDENTIFYING"},roleA:`[${u}.${l}] to [${f.name}.${l}]`};m=p.findIndex(e=>e.entityA==y.entityA&&e.entityB==y.entityB&&e.roleA==y.roleA),-1==m&&p.push(y)}}else{let t=r.source.value;t=a(t,e).attributeName;let n=r.source.parent.value,o=l(n);if(-1!=o.start&&-1!=o.end){const e=n.substring(o.start,o.end).trim();n=n.substring(0,o.beforeStart).trim(),n=`${s(n)} ${u(e)}`}else n=s(n);let i=r.target.value;i=a(i,e).attributeName;let c=r.target.parent.value;if(o=l(c),-1!=o.start&&-1!=o.end){const e=c.substring(o.start,o.end).trim();c=c.substring(0,o.beforeStart).trim(),c=`${s(c)} ${u(e)}`}else c=s(c);const f={entityA:d?n:c,entityB:d?c:n,relSpec:{cardA:"ZERO_OR_MORE",cardB:"ONLY_ONE",relType:"IDENTIFYING"},roleA:d?`[${n}.${t}] to [${c}.${i}]`:`[${c}.${i}] to [${n}.${t}]`};-1==p.findIndex(e=>e.entityA==f.entityA&&e.entityB==f.entityB&&e.roleA==f.roleA)&&p.push(f)}}}}}if(i[d.name]){let e=2;for(;i[d.name+e.toString()];)e++;i[d.name+e.toString()]=d}else i[d.name]=d}}return c(i,p)},n.GenerateDatabaseModel=c,n.generateComment=u,n.CreateTableUI=function(e,t,n,r,i,l,c,u,p){if(n.forEach(function(t){const n=100+t.Name.length;if((l=new mxCell(t.Name,new mxGeometry(u,0,n,26),"swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=default;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=default;align=center;")).vertex=!0,i){const t=e.editor.graph.getPreferredSizeForCell(i);null!==t&&(l.geometry.width=t.width+n)}r.push(l),t.Properties.forEach(function(n){const r=function(e,t,n,r,o){const i=t.Name+(t.ColumnProperties?" "+t.ColumnProperties:"");r=new mxCell(i,new mxGeometry(0,0,90,26),"shape=partialRectangle;top=0;left=0;right=0;bottom=0;align=left;verticalAlign=top;spacingTop=-2;fillColor=none;spacingLeft=64;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;dropTarget=0;"),r.vertex=!0;const s=t.IsPrimaryKey&&t.IsForeignKey?"PK | FK":t.IsPrimaryKey?"PK":t.IsForeignKey?"FK":"",a=sb.cloneCell(r,s);a.connectable=!1,a.style="shape=partialRectangle;top=0;left=0;bottom=0;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=180;points=[];portConstraint=eastwest;part=1;",a.geometry.width=54,a.geometry.height=26,r.insert(a);const l=e.editor.graph.getPreferredSizeForCell(r);o&&(null!==l&&o.geometry.width<l.width+10&&(o.geometry.width=l.width+10),o.insert(r),o.geometry.height+=26);return{rowCell:r,tableCell:o}}(e,n,t.Name,i,l);r&&(i=r.rowCell,l=r.tableCell)}),u+=l.geometry.width+40,l=null}),r.length>0){const t=e.editor.graph,n=t.view,i=t.getGraphBounds(),l=Math.ceil(Math.max(0,i.x/n.scale-n.translate.x)+4*t.gridSize),u=Math.ceil(Math.max(0,(i.y+i.height)/n.scale-n.translate.y)+4*t.gridSize);t.setSelectionCells(t.importCells(r,l,u));const f=t.getModel(),d=o(p),m=mxUtils.bind(this,function(e,n,r){t.insertEdge(null,null,"",r.invert?n:e,r.invert?e:n,"edgeStyle=entityRelationEdgeStyle;html=1;endArrow=ERzeroToMany;startArrow=ERzeroToOne;labelBackgroundColor=none;fontFamily=Verdana;fontSize=14;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.018;entryY=0.608;entryDx=0;entryDy=0;entryPerimeter=0;")});c.forEach(function(e){if(e.IsDestination&&e.PrimaryKeyName&&e.ReferencesPropertyName&&e.PrimaryKeyTableName&&e.ReferencesTableName){const t={invert:!0};let n=null,r=null;for(const t in f.cells){if(n&&r)break;if(Object.hasOwnProperty.call(f.cells,t)){const o=f.cells[t];if(o.style&&o.style.trim().startsWith("swimlane;")){const t={name:o.value,attributes:[]},i=t.name==e.PrimaryKeyTableName,l=t.name==e.ReferencesTableName;if(i||l)for(let t=0;t<o.children.length&&(!n||!r);t++){const c=o.children[t];if(-1!==c.mxObjectId.indexOf("mxCell")&&c.style&&c.style.trim().startsWith("shape=partialRectangle")){const t=a(c.value,d);if(i&&s(t.attributeName)==s(e.PrimaryKeyName)&&(n=c),l&&s(t.attributeName)==s(e.ReferencesPropertyName)&&(r=c),n&&r)break}}}}}n&&r&&m(n,r,t)}}),t.scrollCellToVisible(t.getSelectionCell())}return t.setVisible(!1),{cells:r,rowCell:i,tableCell:l,dx:u}};const r=e("./constants");function o(e){const t={Start:'"',End:'"'};return e&&["mysql","ts","openapi"].includes(e)?(t.Start="`",t.End="`"):"sqlserver"==e&&(t.Start="[",t.End="]"),t}function i(e){const t=document.createElement("div");t.innerHTML=e;const n=t.textContent||t.innerText||"";return t.remove(),n}function s(e){return e.replace(/\[|\]|\(|\)|\"|\'|\`/g,"").trim()}function a(e,t){let n=i(e);n=n.toString().replace(/\s+/g," ");const r=n[0]==t.Start&&-1!==n.indexOf(t.End+" ")?n.indexOf(t.End+" "):n.indexOf(" ");let o=n.substring(r+1).trim();const a=s(n.substring(0,r+1)),l=o.split(" ");let c=null;l.length>1&&(c=l.slice(1).join(" "),o=l[0]);return{attributeName:a,attributeType:o,attributeComment:c}}function l(e){let t=!1;-1!==e.indexOf(r.commentColumnQuantifiers.Start)&&-1!==e.indexOf(r.commentColumnQuantifiers.End)&&(t=!0);return{beforeStart:t?e.indexOf(r.commentColumnQuantifiers.Start):-1,start:t?e.indexOf(r.commentColumnQuantifiers.Start)+r.commentColumnQuantifiers.Start.length:-1,end:t?e.indexOf(r.commentColumnQuantifiers.End)-1:-1}}function c(e,t){const n=new class{constructor(e,t){this.entities=e,this.relationships=t}getEntities(){return this.entities}getRelationships(){return this.relationships}}(e,t);return n}function u(e,t){let n="";return e&&(n+=`${e}`),t&&(n+=` ${r.formatKeyword} ${t}`),n&&(n=n.trim(),n=`${r.commentColumnQuantifiers.Start} ${n} ${r.commentColumnQuantifiers.End}`),n}},{"./constants":30}]},{},[28]);